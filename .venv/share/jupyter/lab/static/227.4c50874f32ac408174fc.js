/*! For license information please see 227.4c50874f32ac408174fc.js.LICENSE.txt */
(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[227],{69119:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0;e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;e.htmlCtrlEntityRegex=/&(newline|tab);/gi;e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;e.urlSchemeRegex=/^.+(:|&colon;)/gim;e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;e.relativeFirstCharacters=[".","/"];e.BLANK_URL="about:blank"},16750:(t,e,r)=>{"use strict";var i;i={value:true};e.J=void 0;var a=r(69119);function n(t){return a.relativeFirstCharacters.indexOf(t[0])>-1}function o(t){var e=t.replace(a.ctrlCharactersRegex,"");return e.replace(a.htmlEntitiesRegex,(function(t,e){return String.fromCharCode(e)}))}function s(t){return URL.canParse(t)}function l(t){try{return decodeURIComponent(t)}catch(e){return t}}function c(t){if(!t){return a.BLANK_URL}var e;var r=l(t.trim());do{r=o(r).replace(a.htmlCtrlEntityRegex,"").replace(a.ctrlCharactersRegex,"").replace(a.whitespaceEscapeCharsRegex,"").trim();r=l(r);e=r.match(a.ctrlCharactersRegex)||r.match(a.htmlEntitiesRegex)||r.match(a.htmlCtrlEntityRegex)||r.match(a.whitespaceEscapeCharsRegex)}while(e&&e.length>0);var i=r;if(!i){return a.BLANK_URL}if(n(i)){return i}var c=i.trimStart();var h=c.match(a.urlSchemeRegex);if(!h){return i}var d=h[0].toLowerCase().trim();if(a.invalidProtocolRegex.test(d)){return a.BLANK_URL}var u=c.replace(/\\/g,"/");if(d==="mailto:"||d.includes("://")){return u}if(d==="http:"||d==="https:"){if(!s(u)){return a.BLANK_URL}var f=new URL(u);f.protocol=f.protocol.toLowerCase();f.hostname=f.hostname.toLowerCase();return f.toString()}return u}e.J=c},84997:(t,e,r)=>{"use strict";r.d(e,{A:()=>ot});const{entries:i,setPrototypeOf:a,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:s}=Object;let{freeze:l,seal:c,create:h}=Object;let{apply:d,construct:u}=typeof Reflect!=="undefined"&&Reflect;if(!l){l=function t(e){return e}}if(!c){c=function t(e){return e}}if(!d){d=function t(e,r,i){return e.apply(r,i)}}if(!u){u=function t(e,r){return new e(...r)}}const f=B(Array.prototype.forEach);const p=B(Array.prototype.lastIndexOf);const g=B(Array.prototype.pop);const m=B(Array.prototype.push);const y=B(Array.prototype.splice);const b=B(String.prototype.toLowerCase);const x=B(String.prototype.toString);const C=B(String.prototype.match);const v=B(String.prototype.replace);const k=B(String.prototype.indexOf);const w=B(String.prototype.trim);const S=B(Object.prototype.hasOwnProperty);const A=B(RegExp.prototype.test);const T=L(TypeError);function B(t){return function(e){if(e instanceof RegExp){e.lastIndex=0}for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++){i[a-1]=arguments[a]}return d(t,e,i)}}function L(t){return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++){r[i]=arguments[i]}return u(t,r)}}function M(t,e){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:b;if(a){a(t,null)}let i=e.length;while(i--){let a=e[i];if(typeof a==="string"){const t=r(a);if(t!==a){if(!n(e)){e[i]=t}a=t}}t[a]=true}return t}function F(t){for(let e=0;e<t.length;e++){const r=S(t,e);if(!r){t[e]=null}}return t}function _(t){const e=h(null);for(const[r,a]of i(t)){const i=S(t,r);if(i){if(Array.isArray(a)){e[r]=F(a)}else if(a&&typeof a==="object"&&a.constructor===Object){e[r]=_(a)}else{e[r]=a}}}return e}function $(t,e){while(t!==null){const r=s(t,e);if(r){if(r.get){return B(r.get)}if(typeof r.value==="function"){return B(r.value)}}t=o(t)}function r(){return null}return r}const E=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);const O=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);const D=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);const K=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);const I=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]);const R=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);const P=l(["#text"]);const q=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]);const z=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);const N=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);const W=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);const j=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm);const H=c(/<%[\w\W]*|[\w\W]*%>/gm);const G=c(/\$\{[\w\W]*/gm);const U=c(/^data-[\-\w.\u00B7-\uFFFF]+$/);const Y=c(/^aria-[\-\w]+$/);const X=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);const V=c(/^(?:\w+script|data):/i);const Z=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);const Q=c(/^html$/i);const J=c(/^[a-z][.\w]*(-[.\w]+)+$/i);var tt=Object.freeze({__proto__:null,ARIA_ATTR:Y,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:J,DATA_ATTR:U,DOCTYPE_NAME:Q,ERB_EXPR:H,IS_ALLOWED_URI:X,IS_SCRIPT_OR_DATA:V,MUSTACHE_EXPR:j,TMPLIT_EXPR:G});const et={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12};const rt=function t(){return typeof window==="undefined"?null:window};const it=function t(e,r){if(typeof e!=="object"||typeof e.createPolicy!=="function"){return null}let i=null;const a="data-tt-policy-suffix";if(r&&r.hasAttribute(a)){i=r.getAttribute(a)}const n="dompurify"+(i?"#"+i:"");try{return e.createPolicy(n,{createHTML(t){return t},createScriptURL(t){return t}})}catch(o){console.warn("TrustedTypes policy "+n+" could not be created.");return null}};const at=function t(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function nt(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:rt();const e=t=>nt(t);e.version="3.2.6";e.removed=[];if(!t||!t.document||t.document.nodeType!==et.document||!t.Element){e.isSupported=false;return e}let{document:r}=t;const a=r;const n=a.currentScript;const{DocumentFragment:o,HTMLTemplateElement:s,Node:c,Element:d,NodeFilter:u,NamedNodeMap:B=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:L,DOMParser:F,trustedTypes:j}=t;const H=d.prototype;const G=$(H,"cloneNode");const U=$(H,"remove");const Y=$(H,"nextSibling");const V=$(H,"childNodes");const Z=$(H,"parentNode");if(typeof s==="function"){const t=r.createElement("template");if(t.content&&t.content.ownerDocument){r=t.content.ownerDocument}}let J;let ot="";const{implementation:st,createNodeIterator:lt,createDocumentFragment:ct,getElementsByTagName:ht}=r;const{importNode:dt}=a;let ut=at();e.isSupported=typeof i==="function"&&typeof Z==="function"&&st&&st.createHTMLDocument!==undefined;const{MUSTACHE_EXPR:ft,ERB_EXPR:pt,TMPLIT_EXPR:gt,DATA_ATTR:mt,ARIA_ATTR:yt,IS_SCRIPT_OR_DATA:bt,ATTR_WHITESPACE:xt,CUSTOM_ELEMENT:Ct}=tt;let{IS_ALLOWED_URI:vt}=tt;let kt=null;const wt=M({},[...E,...O,...D,...I,...P]);let St=null;const At=M({},[...q,...z,...N,...W]);let Tt=Object.seal(h(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));let Bt=null;let Lt=null;let Mt=true;let Ft=true;let _t=false;let $t=true;let Et=false;let Ot=true;let Dt=false;let Kt=false;let It=false;let Rt=false;let Pt=false;let qt=false;let zt=true;let Nt=false;const Wt="user-content-";let jt=true;let Ht=false;let Gt={};let Ut=null;const Yt=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xt=null;const Vt=M({},["audio","video","img","source","image","track"]);let Zt=null;const Qt=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);const Jt="http://www.w3.org/1998/Math/MathML";const te="http://www.w3.org/2000/svg";const ee="http://www.w3.org/1999/xhtml";let re=ee;let ie=false;let ae=null;const ne=M({},[Jt,te,ee],x);let oe=M({},["mi","mo","mn","ms","mtext"]);let se=M({},["annotation-xml"]);const le=M({},["title","style","font","a","script"]);let ce=null;const he=["application/xhtml+xml","text/html"];const de="text/html";let ue=null;let fe=null;const pe=r.createElement("form");const ge=function t(e){return e instanceof RegExp||e instanceof Function};const me=function t(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(fe&&fe===e){return}if(!e||typeof e!=="object"){e={}}e=_(e);ce=he.indexOf(e.PARSER_MEDIA_TYPE)===-1?de:e.PARSER_MEDIA_TYPE;ue=ce==="application/xhtml+xml"?x:b;kt=S(e,"ALLOWED_TAGS")?M({},e.ALLOWED_TAGS,ue):wt;St=S(e,"ALLOWED_ATTR")?M({},e.ALLOWED_ATTR,ue):At;ae=S(e,"ALLOWED_NAMESPACES")?M({},e.ALLOWED_NAMESPACES,x):ne;Zt=S(e,"ADD_URI_SAFE_ATTR")?M(_(Qt),e.ADD_URI_SAFE_ATTR,ue):Qt;Xt=S(e,"ADD_DATA_URI_TAGS")?M(_(Vt),e.ADD_DATA_URI_TAGS,ue):Vt;Ut=S(e,"FORBID_CONTENTS")?M({},e.FORBID_CONTENTS,ue):Yt;Bt=S(e,"FORBID_TAGS")?M({},e.FORBID_TAGS,ue):_({});Lt=S(e,"FORBID_ATTR")?M({},e.FORBID_ATTR,ue):_({});Gt=S(e,"USE_PROFILES")?e.USE_PROFILES:false;Mt=e.ALLOW_ARIA_ATTR!==false;Ft=e.ALLOW_DATA_ATTR!==false;_t=e.ALLOW_UNKNOWN_PROTOCOLS||false;$t=e.ALLOW_SELF_CLOSE_IN_ATTR!==false;Et=e.SAFE_FOR_TEMPLATES||false;Ot=e.SAFE_FOR_XML!==false;Dt=e.WHOLE_DOCUMENT||false;Rt=e.RETURN_DOM||false;Pt=e.RETURN_DOM_FRAGMENT||false;qt=e.RETURN_TRUSTED_TYPE||false;It=e.FORCE_BODY||false;zt=e.SANITIZE_DOM!==false;Nt=e.SANITIZE_NAMED_PROPS||false;jt=e.KEEP_CONTENT!==false;Ht=e.IN_PLACE||false;vt=e.ALLOWED_URI_REGEXP||X;re=e.NAMESPACE||ee;oe=e.MATHML_TEXT_INTEGRATION_POINTS||oe;se=e.HTML_INTEGRATION_POINTS||se;Tt=e.CUSTOM_ELEMENT_HANDLING||{};if(e.CUSTOM_ELEMENT_HANDLING&&ge(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){Tt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(e.CUSTOM_ELEMENT_HANDLING&&ge(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){Tt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){Tt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}if(Et){Ft=false}if(Pt){Rt=true}if(Gt){kt=M({},P);St=[];if(Gt.html===true){M(kt,E);M(St,q)}if(Gt.svg===true){M(kt,O);M(St,z);M(St,W)}if(Gt.svgFilters===true){M(kt,D);M(St,z);M(St,W)}if(Gt.mathMl===true){M(kt,I);M(St,N);M(St,W)}}if(e.ADD_TAGS){if(kt===wt){kt=_(kt)}M(kt,e.ADD_TAGS,ue)}if(e.ADD_ATTR){if(St===At){St=_(St)}M(St,e.ADD_ATTR,ue)}if(e.ADD_URI_SAFE_ATTR){M(Zt,e.ADD_URI_SAFE_ATTR,ue)}if(e.FORBID_CONTENTS){if(Ut===Yt){Ut=_(Ut)}M(Ut,e.FORBID_CONTENTS,ue)}if(jt){kt["#text"]=true}if(Dt){M(kt,["html","head","body"])}if(kt.table){M(kt,["tbody"]);delete Bt.tbody}if(e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!=="function"){throw T('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.')}if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!=="function"){throw T('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.')}J=e.TRUSTED_TYPES_POLICY;ot=J.createHTML("")}else{if(J===undefined){J=it(j,n)}if(J!==null&&typeof ot==="string"){ot=J.createHTML("")}}if(l){l(e)}fe=e};const ye=M({},[...O,...D,...K]);const be=M({},[...I,...R]);const xe=function t(e){let r=Z(e);if(!r||!r.tagName){r={namespaceURI:re,tagName:"template"}}const i=b(e.tagName);const a=b(r.tagName);if(!ae[e.namespaceURI]){return false}if(e.namespaceURI===te){if(r.namespaceURI===ee){return i==="svg"}if(r.namespaceURI===Jt){return i==="svg"&&(a==="annotation-xml"||oe[a])}return Boolean(ye[i])}if(e.namespaceURI===Jt){if(r.namespaceURI===ee){return i==="math"}if(r.namespaceURI===te){return i==="math"&&se[a]}return Boolean(be[i])}if(e.namespaceURI===ee){if(r.namespaceURI===te&&!se[a]){return false}if(r.namespaceURI===Jt&&!oe[a]){return false}return!be[i]&&(le[i]||!ye[i])}if(ce==="application/xhtml+xml"&&ae[e.namespaceURI]){return true}return false};const Ce=function t(r){m(e.removed,{element:r});try{Z(r).removeChild(r)}catch(i){U(r)}};const ve=function t(r,i){try{m(e.removed,{attribute:i.getAttributeNode(r),from:i})}catch(a){m(e.removed,{attribute:null,from:i})}i.removeAttribute(r);if(r==="is"){if(Rt||Pt){try{Ce(i)}catch(a){}}else{try{i.setAttribute(r,"")}catch(a){}}}};const ke=function t(e){let i=null;let a=null;if(It){e="<remove></remove>"+e}else{const t=C(e,/^[\r\n\t ]+/);a=t&&t[0]}if(ce==="application/xhtml+xml"&&re===ee){e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>"}const n=J?J.createHTML(e):e;if(re===ee){try{i=(new F).parseFromString(n,ce)}catch(s){}}if(!i||!i.documentElement){i=st.createDocument(re,"template",null);try{i.documentElement.innerHTML=ie?ot:n}catch(s){}}const o=i.body||i.documentElement;if(e&&a){o.insertBefore(r.createTextNode(a),o.childNodes[0]||null)}if(re===ee){return ht.call(i,Dt?"html":"body")[0]}return Dt?i.documentElement:o};const we=function t(e){return lt.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)};const Se=function t(e){return e instanceof L&&(typeof e.nodeName!=="string"||typeof e.textContent!=="string"||typeof e.removeChild!=="function"||!(e.attributes instanceof B)||typeof e.removeAttribute!=="function"||typeof e.setAttribute!=="function"||typeof e.namespaceURI!=="string"||typeof e.insertBefore!=="function"||typeof e.hasChildNodes!=="function")};const Ae=function t(e){return typeof c==="function"&&e instanceof c};function Te(t,r,i){f(t,(t=>{t.call(e,r,i,fe)}))}const Be=function t(r){let i=null;Te(ut.beforeSanitizeElements,r,null);if(Se(r)){Ce(r);return true}const a=ue(r.nodeName);Te(ut.uponSanitizeElement,r,{tagName:a,allowedTags:kt});if(Ot&&r.hasChildNodes()&&!Ae(r.firstElementChild)&&A(/<[/\w!]/g,r.innerHTML)&&A(/<[/\w!]/g,r.textContent)){Ce(r);return true}if(r.nodeType===et.progressingInstruction){Ce(r);return true}if(Ot&&r.nodeType===et.comment&&A(/<[/\w]/g,r.data)){Ce(r);return true}if(!kt[a]||Bt[a]){if(!Bt[a]&&Me(a)){if(Tt.tagNameCheck instanceof RegExp&&A(Tt.tagNameCheck,a)){return false}if(Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(a)){return false}}if(jt&&!Ut[a]){const t=Z(r)||r.parentNode;const e=V(r)||r.childNodes;if(e&&t){const i=e.length;for(let a=i-1;a>=0;--a){const i=G(e[a],true);i.__removalCount=(r.__removalCount||0)+1;t.insertBefore(i,Y(r))}}}Ce(r);return true}if(r instanceof d&&!xe(r)){Ce(r);return true}if((a==="noscript"||a==="noembed"||a==="noframes")&&A(/<\/no(script|embed|frames)/i,r.innerHTML)){Ce(r);return true}if(Et&&r.nodeType===et.text){i=r.textContent;f([ft,pt,gt],(t=>{i=v(i,t," ")}));if(r.textContent!==i){m(e.removed,{element:r.cloneNode()});r.textContent=i}}Te(ut.afterSanitizeElements,r,null);return false};const Le=function t(e,i,a){if(zt&&(i==="id"||i==="name")&&(a in r||a in pe)){return false}if(Ft&&!Lt[i]&&A(mt,i));else if(Mt&&A(yt,i));else if(!St[i]||Lt[i]){if(Me(e)&&(Tt.tagNameCheck instanceof RegExp&&A(Tt.tagNameCheck,e)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(e))&&(Tt.attributeNameCheck instanceof RegExp&&A(Tt.attributeNameCheck,i)||Tt.attributeNameCheck instanceof Function&&Tt.attributeNameCheck(i))||i==="is"&&Tt.allowCustomizedBuiltInElements&&(Tt.tagNameCheck instanceof RegExp&&A(Tt.tagNameCheck,a)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(a)));else{return false}}else if(Zt[i]);else if(A(vt,v(a,xt,"")));else if((i==="src"||i==="xlink:href"||i==="href")&&e!=="script"&&k(a,"data:")===0&&Xt[e]);else if(_t&&!A(bt,v(a,xt,"")));else if(a){return false}else;return true};const Me=function t(e){return e!=="annotation-xml"&&C(e,Ct)};const Fe=function t(r){Te(ut.beforeSanitizeAttributes,r,null);const{attributes:i}=r;if(!i||Se(r)){return}const a={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:St,forceKeepAttr:undefined};let n=i.length;while(n--){const t=i[n];const{name:s,namespaceURI:l,value:c}=t;const h=ue(s);const d=c;let u=s==="value"?d:w(d);a.attrName=h;a.attrValue=u;a.keepAttr=true;a.forceKeepAttr=undefined;Te(ut.uponSanitizeAttribute,r,a);u=a.attrValue;if(Nt&&(h==="id"||h==="name")){ve(s,r);u=Wt+u}if(Ot&&A(/((--!?|])>)|<\/(style|title)/i,u)){ve(s,r);continue}if(a.forceKeepAttr){continue}if(!a.keepAttr){ve(s,r);continue}if(!$t&&A(/\/>/i,u)){ve(s,r);continue}if(Et){f([ft,pt,gt],(t=>{u=v(u,t," ")}))}const p=ue(r.nodeName);if(!Le(p,h,u)){ve(s,r);continue}if(J&&typeof j==="object"&&typeof j.getAttributeType==="function"){if(l);else{switch(j.getAttributeType(p,h)){case"TrustedHTML":{u=J.createHTML(u);break}case"TrustedScriptURL":{u=J.createScriptURL(u);break}}}}if(u!==d){try{if(l){r.setAttributeNS(l,s,u)}else{r.setAttribute(s,u)}if(Se(r)){Ce(r)}else{g(e.removed)}}catch(o){ve(s,r)}}}Te(ut.afterSanitizeAttributes,r,null)};const _e=function t(e){let r=null;const i=we(e);Te(ut.beforeSanitizeShadowDOM,e,null);while(r=i.nextNode()){Te(ut.uponSanitizeShadowNode,r,null);Be(r);Fe(r);if(r.content instanceof o){t(r.content)}}Te(ut.afterSanitizeShadowDOM,e,null)};e.sanitize=function(t){let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let i=null;let n=null;let s=null;let l=null;ie=!t;if(ie){t="\x3c!--\x3e"}if(typeof t!=="string"&&!Ae(t)){if(typeof t.toString==="function"){t=t.toString();if(typeof t!=="string"){throw T("dirty is not a string, aborting")}}else{throw T("toString is not a function")}}if(!e.isSupported){return t}if(!Kt){me(r)}e.removed=[];if(typeof t==="string"){Ht=false}if(Ht){if(t.nodeName){const e=ue(t.nodeName);if(!kt[e]||Bt[e]){throw T("root node is forbidden and cannot be sanitized in-place")}}}else if(t instanceof c){i=ke("\x3c!----\x3e");n=i.ownerDocument.importNode(t,true);if(n.nodeType===et.element&&n.nodeName==="BODY"){i=n}else if(n.nodeName==="HTML"){i=n}else{i.appendChild(n)}}else{if(!Rt&&!Et&&!Dt&&t.indexOf("<")===-1){return J&&qt?J.createHTML(t):t}i=ke(t);if(!i){return Rt?null:qt?ot:""}}if(i&&It){Ce(i.firstChild)}const h=we(Ht?t:i);while(s=h.nextNode()){Be(s);Fe(s);if(s.content instanceof o){_e(s.content)}}if(Ht){return t}if(Rt){if(Pt){l=ct.call(i.ownerDocument);while(i.firstChild){l.appendChild(i.firstChild)}}else{l=i}if(St.shadowroot||St.shadowrootmode){l=dt.call(a,l,true)}return l}let d=Dt?i.outerHTML:i.innerHTML;if(Dt&&kt["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&A(Q,i.ownerDocument.doctype.name)){d="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+d}if(Et){f([ft,pt,gt],(t=>{d=v(d,t," ")}))}return J&&qt?J.createHTML(d):d};e.setConfig=function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};me(t);Kt=true};e.clearConfig=function(){fe=null;Kt=false};e.isValidAttribute=function(t,e,r){if(!fe){me({})}const i=ue(t);const a=ue(e);return Le(i,a,r)};e.addHook=function(t,e){if(typeof e!=="function"){return}m(ut[t],e)};e.removeHook=function(t,e){if(e!==undefined){const r=p(ut[t],e);return r===-1?undefined:y(ut[t],r,1)[0]}return g(ut[t])};e.removeHooks=function(t){ut[t]=[]};e.removeAllHooks=function(){ut=at()};return e}var ot=nt()},25e3:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(57991);var a=r(59773);class n{constructor(){this.type=a.Z.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=a.Z.ALL}is(t){return this.type===t}}const o=n;class s{constructor(t,e){this.color=e;this.changed=false;this.data=t;this.type=new o}set(t,e){this.color=e;this.changed=false;this.data=t;this.type.type=a.Z.ALL;return this}_ensureHSL(){const t=this.data;const{h:e,s:r,l:a}=t;if(e===undefined)t.h=i.A.channel.rgb2hsl(t,"h");if(r===undefined)t.s=i.A.channel.rgb2hsl(t,"s");if(a===undefined)t.l=i.A.channel.rgb2hsl(t,"l")}_ensureRGB(){const t=this.data;const{r:e,g:r,b:a}=t;if(e===undefined)t.r=i.A.channel.hsl2rgb(t,"r");if(r===undefined)t.g=i.A.channel.hsl2rgb(t,"g");if(a===undefined)t.b=i.A.channel.hsl2rgb(t,"b")}get r(){const t=this.data;const e=t.r;if(!this.type.is(a.Z.HSL)&&e!==undefined)return e;this._ensureHSL();return i.A.channel.hsl2rgb(t,"r")}get g(){const t=this.data;const e=t.g;if(!this.type.is(a.Z.HSL)&&e!==undefined)return e;this._ensureHSL();return i.A.channel.hsl2rgb(t,"g")}get b(){const t=this.data;const e=t.b;if(!this.type.is(a.Z.HSL)&&e!==undefined)return e;this._ensureHSL();return i.A.channel.hsl2rgb(t,"b")}get h(){const t=this.data;const e=t.h;if(!this.type.is(a.Z.RGB)&&e!==undefined)return e;this._ensureRGB();return i.A.channel.rgb2hsl(t,"h")}get s(){const t=this.data;const e=t.s;if(!this.type.is(a.Z.RGB)&&e!==undefined)return e;this._ensureRGB();return i.A.channel.rgb2hsl(t,"s")}get l(){const t=this.data;const e=t.l;if(!this.type.is(a.Z.RGB)&&e!==undefined)return e;this._ensureRGB();return i.A.channel.rgb2hsl(t,"l")}get a(){return this.data.a}set r(t){this.type.set(a.Z.RGB);this.changed=true;this.data.r=t}set g(t){this.type.set(a.Z.RGB);this.changed=true;this.data.g=t}set b(t){this.type.set(a.Z.RGB);this.changed=true;this.data.b=t}set h(t){this.type.set(a.Z.HSL);this.changed=true;this.data.h=t}set s(t){this.type.set(a.Z.HSL);this.changed=true;this.data.s=t}set l(t){this.type.set(a.Z.HSL);this.changed=true;this.data.l=t}set a(t){this.changed=true;this.data.a=t}}const l=s;const c=new l({r:0,g:0,b:0,a:0},"transparent");const h=c},63221:(t,e,r)=>{"use strict";r.d(e,{A:()=>g});var i=r(25e3);var a=r(59773);const n={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(n.re);if(!e)return;const r=e[1];const a=parseInt(r,16);const o=r.length;const s=o%4===0;const l=o>4;const c=l?1:17;const h=l?8:4;const d=s?0:-1;const u=l?255:15;return i.A.set({r:(a>>h*(d+3)&u)*c,g:(a>>h*(d+2)&u)*c,b:(a>>h*(d+1)&u)*c,a:s?(a&u)*c/255:1},t)},stringify:t=>{const{r:e,g:r,b:i,a:n}=t;if(n<1){return`#${a.Y[Math.round(e)]}${a.Y[Math.round(r)]}${a.Y[Math.round(i)]}${a.Y[Math.round(n*255)]}`}else{return`#${a.Y[Math.round(e)]}${a.Y[Math.round(r)]}${a.Y[Math.round(i)]}`}}};const o=n;var s=r(57991);const l={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(l.hueRe);if(e){const[,t,r]=e;switch(r){case"grad":return s.A.channel.clamp.h(parseFloat(t)*.9);case"rad":return s.A.channel.clamp.h(parseFloat(t)*180/Math.PI);case"turn":return s.A.channel.clamp.h(parseFloat(t)*360)}}return s.A.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(l.re);if(!r)return;const[,a,n,o,c,h]=r;return i.A.set({h:l._hue2deg(a),s:s.A.channel.clamp.s(parseFloat(n)),l:s.A.channel.clamp.l(parseFloat(o)),a:c?s.A.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{h:e,s:r,l:i,a}=t;if(a<1){return`hsla(${s.A.lang.round(e)}, ${s.A.lang.round(r)}%, ${s.A.lang.round(i)}%, ${a})`}else{return`hsl(${s.A.lang.round(e)}, ${s.A.lang.round(r)}%, ${s.A.lang.round(i)}%)`}}};const c=l;const h={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=h.colors[t];if(!e)return;return o.parse(e)},stringify:t=>{const e=o.stringify(t);for(const r in h.colors){if(h.colors[r]===e)return r}return}};const d=h;const u={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(u.re);if(!r)return;const[,a,n,o,l,c,h,d,f]=r;return i.A.set({r:s.A.channel.clamp.r(n?parseFloat(a)*2.55:parseFloat(a)),g:s.A.channel.clamp.g(l?parseFloat(o)*2.55:parseFloat(o)),b:s.A.channel.clamp.b(h?parseFloat(c)*2.55:parseFloat(c)),a:d?s.A.channel.clamp.a(f?parseFloat(d)/100:parseFloat(d)):1},t)},stringify:t=>{const{r:e,g:r,b:i,a}=t;if(a<1){return`rgba(${s.A.lang.round(e)}, ${s.A.lang.round(r)}, ${s.A.lang.round(i)}, ${s.A.lang.round(a)})`}else{return`rgb(${s.A.lang.round(e)}, ${s.A.lang.round(r)}, ${s.A.lang.round(i)})`}}};const f=u;const p={format:{keyword:d,hex:o,rgb:f,rgba:f,hsl:c,hsla:c},parse:t=>{if(typeof t!=="string")return t;const e=o.parse(t)||f.parse(t)||c.parse(t)||d.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>{if(!t.changed&&t.color)return t.color;if(t.type.is(a.Z.HSL)||t.data.r===undefined){return c.stringify(t)}else if(t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)){return f.stringify(t)}else{return o.stringify(t)}}};const g=p},59773:(t,e,r)=>{"use strict";r.d(e,{Y:()=>a,Z:()=>n});var i=r(57991);const a={};for(let o=0;o<=255;o++)a[o]=i.A.unit.dec2hex(o);const n={ALL:0,RGB:1,HSL:2}},42198:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(57991);var a=r(63221);const n=(t,e,r)=>{const n=a.A.parse(t);const o=n[e];const s=i.A.channel.clamp[e](o+r);if(o!==s)n[e]=s;return a.A.stringify(n)};const o=n},69745:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(57991);var a=r(63221);const n=(t,e)=>{const r=a.A.parse(t);for(const a in e){r[a]=i.A.channel.clamp[a](e[a])}return a.A.stringify(r)};const o=n},48750:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(42198);const a=(t,e)=>(0,i.A)(t,"l",-e);const n=a},63170:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(57991);var a=r(63221);const n=t=>{const{r:e,g:r,b:n}=a.A.parse(t);const o=.2126*i.A.channel.toLinear(e)+.7152*i.A.channel.toLinear(r)+.0722*i.A.channel.toLinear(n);return i.A.lang.round(o)};const o=n;const s=t=>o(t)>=.5;const l=s;const c=t=>!l(t);const h=c},77470:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(42198);const a=(t,e)=>(0,i.A)(t,"l",e);const n=a},3635:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var i=r(57991);var a=r(25e3);var n=r(63221);var o=r(69745);const s=(t,e,r=0,s=1)=>{if(typeof t!=="number")return(0,o.A)(t,{a:e});const l=a.A.set({r:i.A.channel.clamp.r(t),g:i.A.channel.clamp.g(e),b:i.A.channel.clamp.b(r),a:i.A.channel.clamp.a(s)});return n.A.stringify(l)};const l=s},57991:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});const i={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>{if(r<0)r+=1;if(r>1)r-=1;if(r<1/6)return t+(e-t)*6*r;if(r<1/2)return e;if(r<2/3)return t+(e-t)*(2/3-r)*6;return t},hsl2rgb:({h:t,s:e,l:r},a)=>{if(!e)return r*2.55;t/=360;e/=100;r/=100;const n=r<.5?r*(1+e):r+e-r*e;const o=2*r-n;switch(a){case"r":return i.hue2rgb(o,n,t+1/3)*255;case"g":return i.hue2rgb(o,n,t)*255;case"b":return i.hue2rgb(o,n,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},i)=>{t/=255;e/=255;r/=255;const a=Math.max(t,e,r);const n=Math.min(t,e,r);const o=(a+n)/2;if(i==="l")return o*100;if(a===n)return 0;const s=a-n;const l=o>.5?s/(2-a-n):s/(a+n);if(i==="s")return l*100;switch(a){case t:return((e-r)/s+(e<r?6:0))*60;case e:return((r-t)/s+2)*60;case r:return((t-e)/s+4)*60;default:return-1}}};const a=i;const n={clamp:(t,e,r)=>{if(e>r)return Math.min(e,Math.max(r,t));return Math.min(r,Math.max(e,t))},round:t=>Math.round(t*1e10)/1e10};const o=n;const s={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}};const l=s;const c={channel:a,lang:o,unit:l};const h=c},54951:(t,e,r)=>{"use strict";r.d(e,{A:()=>x});function i(){this.__data__=[];this.size=0}const a=i;var n=r(24461);function o(t,e){var r=t.length;while(r--){if((0,n.A)(t[r][0],e)){return r}}return-1}const s=o;var l=Array.prototype;var c=l.splice;function h(t){var e=this.__data__,r=s(e,t);if(r<0){return false}var i=e.length-1;if(r==i){e.pop()}else{c.call(e,r,1)}--this.size;return true}const d=h;function u(t){var e=this.__data__,r=s(e,t);return r<0?undefined:e[r][1]}const f=u;function p(t){return s(this.__data__,t)>-1}const g=p;function m(t,e){var r=this.__data__,i=s(r,t);if(i<0){++this.size;r.push([t,e])}else{r[i][1]=e}return this}const y=m;function b(t){var e=-1,r=t==null?0:t.length;this.clear();while(++e<r){var i=t[e];this.set(i[0],i[1])}}b.prototype.clear=a;b.prototype["delete"]=d;b.prototype.get=f;b.prototype.has=g;b.prototype.set=y;const x=b},51482:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(39023);var a=r(24606);var n=(0,i.A)(a.A,"Map");const o=n},9883:(t,e,r)=>{"use strict";r.d(e,{A:()=>z});var i=r(39023);var a=(0,i.A)(Object,"create");const n=a;function o(){this.__data__=n?n(null):{};this.size=0}const s=o;function l(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}const c=l;var h="__lodash_hash_undefined__";var d=Object.prototype;var u=d.hasOwnProperty;function f(t){var e=this.__data__;if(n){var r=e[t];return r===h?undefined:r}return u.call(e,t)?e[t]:undefined}const p=f;var g=Object.prototype;var m=g.hasOwnProperty;function y(t){var e=this.__data__;return n?e[t]!==undefined:m.call(e,t)}const b=y;var x="__lodash_hash_undefined__";function C(t,e){var r=this.__data__;this.size+=this.has(t)?0:1;r[t]=n&&e===undefined?x:e;return this}const v=C;function k(t){var e=-1,r=t==null?0:t.length;this.clear();while(++e<r){var i=t[e];this.set(i[0],i[1])}}k.prototype.clear=s;k.prototype["delete"]=c;k.prototype.get=p;k.prototype.has=b;k.prototype.set=v;const w=k;var S=r(54951);var A=r(51482);function T(){this.size=0;this.__data__={hash:new w,map:new(A.A||S.A),string:new w}}const B=T;function L(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}const M=L;function F(t,e){var r=t.__data__;return M(e)?r[typeof e=="string"?"string":"hash"]:r.map}const _=F;function $(t){var e=_(this,t)["delete"](t);this.size-=e?1:0;return e}const E=$;function O(t){return _(this,t).get(t)}const D=O;function K(t){return _(this,t).has(t)}const I=K;function R(t,e){var r=_(this,t),i=r.size;r.set(t,e);this.size+=r.size==i?0:1;return this}const P=R;function q(t){var e=-1,r=t==null?0:t.length;this.clear();while(++e<r){var i=t[e];this.set(i[0],i[1])}}q.prototype.clear=B;q.prototype["delete"]=E;q.prototype.get=D;q.prototype.has=I;q.prototype.set=P;const z=q},88224:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(39023);var a=r(24606);var n=(0,i.A)(a.A,"Set");const o=n},28478:(t,e,r)=>{"use strict";r.d(e,{A:()=>b});var i=r(54951);function a(){this.__data__=new i.A;this.size=0}const n=a;function o(t){var e=this.__data__,r=e["delete"](t);this.size=e.size;return r}const s=o;function l(t){return this.__data__.get(t)}const c=l;function h(t){return this.__data__.has(t)}const d=h;var u=r(51482);var f=r(9883);var p=200;function g(t,e){var r=this.__data__;if(r instanceof i.A){var a=r.__data__;if(!u.A||a.length<p-1){a.push([t,e]);this.size=++r.size;return this}r=this.__data__=new f.A(a)}r.set(t,e);this.size=r.size;return this}const m=g;function y(t){var e=this.__data__=new i.A(t);this.size=e.size}y.prototype.clear=n;y.prototype["delete"]=s;y.prototype.get=c;y.prototype.has=d;y.prototype.set=m;const b=y},38066:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(24606);var a=i.A.Symbol;const n=a},92615:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(24606);var a=i.A.Uint8Array;const n=a},74578:(t,e,r)=>{"use strict";r.d(e,{A:()=>f});function i(t,e){var r=-1,i=Array(t);while(++r<t){i[r]=e(r)}return i}const a=i;var n=r(71528);var o=r(39990);var s=r(50895);var l=r(78912);var c=r(82818);var h=Object.prototype;var d=h.hasOwnProperty;function u(t,e){var r=(0,o.A)(t),i=!r&&(0,n.A)(t),h=!r&&!i&&(0,s.A)(t),u=!r&&!i&&!h&&(0,c.A)(t),f=r||i||h||u,p=f?a(t.length,String):[],g=p.length;for(var m in t){if((e||d.call(t,m))&&!(f&&(m=="length"||h&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||(0,l.A)(m,g)))){p.push(m)}}return p}const f=u},16542:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var i=r(48657);var a=r(24461);var n=Object.prototype;var o=n.hasOwnProperty;function s(t,e,r){var n=t[e];if(!(o.call(t,e)&&(0,a.A)(n,r))||r===undefined&&!(e in t)){(0,i.A)(t,e,r)}}const l=s},48657:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(51348);function a(t,e,r){if(e=="__proto__"&&i.A){(0,i.A)(t,e,{configurable:true,enumerable:true,value:r,writable:true})}else{t[e]=r}}const n=a},40283:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});function i(t){return function(e,r,i){var a=-1,n=Object(e),o=i(e),s=o.length;while(s--){var l=o[t?s:++a];if(r(n[l],l,n)===false){break}}return e}}const a=i;var n=a();const o=n},64128:(t,e,r)=>{"use strict";r.d(e,{A:()=>b});var i=r(38066);var a=Object.prototype;var n=a.hasOwnProperty;var o=a.toString;var s=i.A?i.A.toStringTag:undefined;function l(t){var e=n.call(t,s),r=t[s];try{t[s]=undefined;var i=true}catch(l){}var a=o.call(t);if(i){if(e){t[s]=r}else{delete t[s]}}return a}const c=l;var h=Object.prototype;var d=h.toString;function u(t){return d.call(t)}const f=u;var p="[object Null]",g="[object Undefined]";var m=i.A?i.A.toStringTag:undefined;function y(t){if(t==null){return t===undefined?g:p}return m&&m in Object(t)?c(t):f(t)}const b=y},30568:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(690);var a=r(24630);var n=(0,a.A)(Object.keys,Object);const o=n;var s=Object.prototype;var l=s.hasOwnProperty;function c(t){if(!(0,i.A)(t)){return o(t)}var e=[];for(var r in Object(t)){if(l.call(t,r)&&r!="constructor"){e.push(r)}}return e}const h=c},55881:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(63077);var a=r(27401);var n=r(4596);function o(t,e){return(0,n.A)((0,a.A)(t,e,i.A),t+"")}const s=o},26132:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});function i(t){return function(e){return t(e)}}const a=i},53458:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(92615);function a(t){var e=new t.constructor(t.byteLength);new i.A(e).set(new i.A(t));return e}const n=a},65963:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(24606);t=r.hmd(t);var a=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var n=a&&"object"=="object"&&t&&!t.nodeType&&t;var o=n&&n.exports===a;var s=o?i.A.Buffer:undefined,l=s?s.allocUnsafe:undefined;function c(t,e){if(e){return t.slice()}var r=t.length,i=l?l(r):new t.constructor(r);t.copy(i);return i}const h=c},93672:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(53458);function a(t,e){var r=e?(0,i.A)(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}const n=a},91810:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});function i(t,e){var r=-1,i=t.length;e||(e=Array(i));while(++r<i){e[r]=t[r]}return e}const a=i},376:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(16542);var a=r(48657);function n(t,e,r,n){var o=!r;r||(r={});var s=-1,l=e.length;while(++s<l){var c=e[s];var h=n?n(r[c],t[c],c,r,t):undefined;if(h===undefined){h=t[c]}if(o){(0,a.A)(r,c,h)}else{(0,i.A)(r,c,h)}}return r}const o=n},56280:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(55881);var a=r(31943);function n(t){return(0,i.A)((function(e,r){var i=-1,n=r.length,o=n>1?r[n-1]:undefined,s=n>2?r[2]:undefined;o=t.length>3&&typeof o=="function"?(n--,o):undefined;if(s&&(0,a.A)(r[0],r[1],s)){o=n<3?undefined:o;n=1}e=Object(e);while(++i<n){var l=r[i];if(l){t(e,l,i,o)}}return e}))}const o=n},51348:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(39023);var a=function(){try{var t=(0,i.A)(Object,"defineProperty");t({},"",{});return t}catch(e){}}();const n=a},7767:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var i=typeof r.g=="object"&&r.g&&r.g.Object===Object&&r.g;const a=i},39023:(t,e,r)=>{"use strict";r.d(e,{A:()=>S});var i=r(58807);var a=r(24606);var n=a.A["__core-js_shared__"];const o=n;var s=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function l(t){return!!s&&s in t}const c=l;var h=r(85356);var d=r(62210);var u=/[\\^$.*+?()[\]{}|]/g;var f=/^\[object .+?Constructor\]$/;var p=Function.prototype,g=Object.prototype;var m=p.toString;var y=g.hasOwnProperty;var b=RegExp("^"+m.call(y).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x(t){if(!(0,h.A)(t)||c(t)){return false}var e=(0,i.A)(t)?b:f;return e.test((0,d.A)(t))}const C=x;function v(t,e){return t==null?undefined:t[e]}const k=v;function w(t,e){var r=k(t,e);return C(r)?r:undefined}const S=w},86848:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(24630);var a=(0,i.A)(Object.getPrototypeOf,Object);const n=a},88753:(t,e,r)=>{"use strict";r.d(e,{A:()=>B});var i=r(39023);var a=r(24606);var n=(0,i.A)(a.A,"DataView");const o=n;var s=r(51482);var l=(0,i.A)(a.A,"Promise");const c=l;var h=r(88224);var d=(0,i.A)(a.A,"WeakMap");const u=d;var f=r(64128);var p=r(62210);var g="[object Map]",m="[object Object]",y="[object Promise]",b="[object Set]",x="[object WeakMap]";var C="[object DataView]";var v=(0,p.A)(o),k=(0,p.A)(s.A),w=(0,p.A)(c),S=(0,p.A)(h.A),A=(0,p.A)(u);var T=f.A;if(o&&T(new o(new ArrayBuffer(1)))!=C||s.A&&T(new s.A)!=g||c&&T(c.resolve())!=y||h.A&&T(new h.A)!=b||u&&T(new u)!=x){T=function(t){var e=(0,f.A)(t),r=e==m?t.constructor:undefined,i=r?(0,p.A)(r):"";if(i){switch(i){case v:return C;case k:return g;case w:return y;case S:return b;case A:return x}}return e}}const B=T},92768:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(85356);var a=Object.create;var n=function(){function t(){}return function(e){if(!(0,i.A)(e)){return{}}if(a){return a(e)}t.prototype=e;var r=new t;t.prototype=undefined;return r}}();const o=n;var s=r(86848);var l=r(690);function c(t){return typeof t.constructor=="function"&&!(0,l.A)(t)?o((0,s.A)(t)):{}}const h=c},78912:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=9007199254740991;var a=/^(?:0|[1-9]\d*)$/;function n(t,e){var r=typeof t;e=e==null?i:e;return!!e&&(r=="number"||r!="symbol"&&a.test(t))&&(t>-1&&t%1==0&&t<e)}const o=n},31943:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var i=r(24461);var a=r(21585);var n=r(78912);var o=r(85356);function s(t,e,r){if(!(0,o.A)(r)){return false}var s=typeof e;if(s=="number"?(0,a.A)(r)&&(0,n.A)(e,r.length):s=="string"&&e in r){return(0,i.A)(r[e],t)}return false}const l=s},690:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=Object.prototype;function a(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||i;return t===r}const n=a},89986:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var i=r(7767);t=r.hmd(t);var a=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var n=a&&"object"=="object"&&t&&!t.nodeType&&t;var o=n&&n.exports===a;var s=o&&i.A.process;var l=function(){try{var t=n&&n.require&&n.require("util").types;if(t){return t}return s&&s.binding&&s.binding("util")}catch(e){}}();const c=l},24630:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});function i(t,e){return function(r){return t(e(r))}}const a=i},27401:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});function i(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}const a=i;var n=Math.max;function o(t,e,r){e=n(e===undefined?t.length-1:e,0);return function(){var i=arguments,o=-1,s=n(i.length-e,0),l=Array(s);while(++o<s){l[o]=i[e+o]}o=-1;var c=Array(e+1);while(++o<e){c[o]=i[o]}c[e]=r(l);return a(t,this,c)}}const s=o},24606:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(7767);var a=typeof self=="object"&&self&&self.Object===Object&&self;var n=i.A||a||Function("return this")();const o=n},4596:(t,e,r)=>{"use strict";r.d(e,{A:()=>p});var i=r(33659);var a=r(51348);var n=r(63077);var o=!a.A?n.A:function(t,e){return(0,a.A)(t,"toString",{configurable:true,enumerable:false,value:(0,i.A)(e),writable:true})};const s=o;var l=800,c=16;var h=Date.now;function d(t){var e=0,r=0;return function(){var i=h(),a=c-(i-r);r=i;if(a>0){if(++e>=l){return arguments[0]}}else{e=0}return t.apply(undefined,arguments)}}const u=d;var f=u(s);const p=f},62210:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=Function.prototype;var a=i.toString;function n(t){if(t!=null){try{return a.call(t)}catch(e){}try{return t+""}catch(e){}}return""}const o=n},33659:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});function i(t){return function(){return t}}const a=i},24461:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});function i(t,e){return t===e||t!==t&&e!==e}const a=i},63077:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});function i(t){return t}const a=i},71528:(t,e,r)=>{"use strict";r.d(e,{A:()=>u});var i=r(64128);var a=r(53315);var n="[object Arguments]";function o(t){return(0,a.A)(t)&&(0,i.A)(t)==n}const s=o;var l=Object.prototype;var c=l.hasOwnProperty;var h=l.propertyIsEnumerable;var d=s(function(){return arguments}())?s:function(t){return(0,a.A)(t)&&c.call(t,"callee")&&!h.call(t,"callee")};const u=d},39990:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var i=Array.isArray;const a=i},21585:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(58807);var a=r(43627);function n(t){return t!=null&&(0,a.A)(t.length)&&!(0,i.A)(t)}const o=n},10654:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(21585);var a=r(53315);function n(t){return(0,a.A)(t)&&(0,i.A)(t)}const o=n},50895:(t,e,r)=>{"use strict";r.d(e,{A:()=>u});var i=r(24606);function a(){return false}const n=a;t=r.hmd(t);var o=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var s=o&&"object"=="object"&&t&&!t.nodeType&&t;var l=s&&s.exports===o;var c=l?i.A.Buffer:undefined;var h=c?c.isBuffer:undefined;var d=h||n;const u=d},74650:(t,e,r)=>{"use strict";r.d(e,{A:()=>m});var i=r(30568);var a=r(88753);var n=r(71528);var o=r(39990);var s=r(21585);var l=r(50895);var c=r(690);var h=r(82818);var d="[object Map]",u="[object Set]";var f=Object.prototype;var p=f.hasOwnProperty;function g(t){if(t==null){return true}if((0,s.A)(t)&&((0,o.A)(t)||typeof t=="string"||typeof t.splice=="function"||(0,l.A)(t)||(0,h.A)(t)||(0,n.A)(t))){return!t.length}var e=(0,a.A)(t);if(e==d||e==u){return!t.size}if((0,c.A)(t)){return!(0,i.A)(t).length}for(var r in t){if(p.call(t,r)){return false}}return true}const m=g},58807:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(64128);var a=r(85356);var n="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function c(t){if(!(0,a.A)(t)){return false}var e=(0,i.A)(t);return e==o||e==s||e==n||e==l}const h=c},43627:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=9007199254740991;function a(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=i}const n=a},85356:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});function i(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}const a=i},53315:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});function i(t){return t!=null&&typeof t=="object"}const a=i},82818:(t,e,r)=>{"use strict";r.d(e,{A:()=>I});var i=r(64128);var a=r(43627);var n=r(53315);var o="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",y="[object String]",b="[object WeakMap]";var x="[object ArrayBuffer]",C="[object DataView]",v="[object Float32Array]",k="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",B="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]";var F={};F[v]=F[k]=F[w]=F[S]=F[A]=F[T]=F[B]=F[L]=F[M]=true;F[o]=F[s]=F[x]=F[l]=F[C]=F[c]=F[h]=F[d]=F[u]=F[f]=F[p]=F[g]=F[m]=F[y]=F[b]=false;function _(t){return(0,n.A)(t)&&(0,a.A)(t.length)&&!!F[(0,i.A)(t)]}const $=_;var E=r(26132);var O=r(89986);var D=O.A&&O.A.isTypedArray;var K=D?(0,E.A)(D):$;const I=K},13839:(t,e,r)=>{"use strict";r.d(e,{A:()=>p});var i=r(74578);var a=r(85356);var n=r(690);function o(t){var e=[];if(t!=null){for(var r in Object(t)){e.push(r)}}return e}const s=o;var l=Object.prototype;var c=l.hasOwnProperty;function h(t){if(!(0,a.A)(t)){return s(t)}var e=(0,n.A)(t),r=[];for(var i in t){if(!(i=="constructor"&&(e||!c.call(t,i)))){r.push(i)}}return r}const d=h;var u=r(21585);function f(t){return(0,u.A)(t)?(0,i.A)(t,true):d(t)}const p=f},307:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(9883);var a="Expected a function";function n(t,e){if(typeof t!="function"||e!=null&&typeof e!="function"){throw new TypeError(a)}var r=function(){var i=arguments,a=e?e.apply(this,i):i[0],n=r.cache;if(n.has(a)){return n.get(a)}var o=t.apply(this,i);r.cache=n.set(a,o)||n;return o};r.cache=new(n.Cache||i.A);return r}n.Cache=i.A;const o=n},96901:(t,e,r)=>{"use strict";r.d(e,{A:()=>W});var i=r(28478);var a=r(48657);var n=r(24461);function o(t,e,r){if(r!==undefined&&!(0,n.A)(t[e],r)||r===undefined&&!(e in t)){(0,a.A)(t,e,r)}}const s=o;var l=r(40283);var c=r(65963);var h=r(93672);var d=r(91810);var u=r(92768);var f=r(71528);var p=r(39990);var g=r(10654);var m=r(50895);var y=r(58807);var b=r(85356);var x=r(64128);var C=r(86848);var v=r(53315);var k="[object Object]";var w=Function.prototype,S=Object.prototype;var A=w.toString;var T=S.hasOwnProperty;var B=A.call(Object);function L(t){if(!(0,v.A)(t)||(0,x.A)(t)!=k){return false}var e=(0,C.A)(t);if(e===null){return true}var r=T.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&A.call(r)==B}const M=L;var F=r(82818);function _(t,e){if(e==="constructor"&&typeof t[e]==="function"){return}if(e=="__proto__"){return}return t[e]}const $=_;var E=r(376);var O=r(13839);function D(t){return(0,E.A)(t,(0,O.A)(t))}const K=D;function I(t,e,r,i,a,n,o){var l=$(t,r),x=$(e,r),C=o.get(x);if(C){s(t,r,C);return}var v=n?n(l,x,r+"",t,e,o):undefined;var k=v===undefined;if(k){var w=(0,p.A)(x),S=!w&&(0,m.A)(x),A=!w&&!S&&(0,F.A)(x);v=x;if(w||S||A){if((0,p.A)(l)){v=l}else if((0,g.A)(l)){v=(0,d.A)(l)}else if(S){k=false;v=(0,c.A)(x,true)}else if(A){k=false;v=(0,h.A)(x,true)}else{v=[]}}else if(M(x)||(0,f.A)(x)){v=l;if((0,f.A)(l)){v=K(l)}else if(!(0,b.A)(l)||(0,y.A)(l)){v=(0,u.A)(x)}}else{k=false}}if(k){o.set(x,v);a(v,x,i,n,o);o["delete"](x)}s(t,r,v)}const R=I;function P(t,e,r,a,n){if(t===e){return}(0,l.A)(e,(function(o,l){n||(n=new i.A);if((0,b.A)(o)){R(t,e,l,r,P,a,n)}else{var c=a?a($(t,l),o,l+"",t,e,n):undefined;if(c===undefined){c=o}s(t,l,c)}}),O.A)}const q=P;var z=r(56280);var N=(0,z.A)((function(t,e,r){q(t,e,r)}));const W=N},87756:(t,e,r)=>{"use strict";r.d(e,{n:()=>i});var i={name:"mermaid",version:"11.12.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}},42418:(t,e,r)=>{"use strict";r.d(e,{C0:()=>C,xA:()=>lt,hH:()=>B,Dl:()=>Rt,IU:()=>ee,Wt:()=>Vt,Y2:()=>zt,a$:()=>jt,sb:()=>X,ME:()=>ue,UI:()=>G,Ch:()=>k,mW:()=>v,DB:()=>b,_3:()=>Lt,EJ:()=>y,m7:()=>ne,iN:()=>ie,zj:()=>ot,D7:()=>he,Gs:()=>be,J$:()=>A,ab:()=>se,Q2:()=>at,P$:()=>K,ID:()=>Bt,TM:()=>pt,Wi:()=>It,H1:()=>gt,QO:()=>_t,Js:()=>ye,Xd:()=>w,dj:()=>qt,cL:()=>ct,$i:()=>U,jZ:()=>vt,oB:()=>fe,wZ:()=>rt,EI:()=>ae,SV:()=>re,Nk:()=>nt,XV:()=>de,ke:()=>oe,UU:()=>et,ot:()=>Ht,mj:()=>pe,tM:()=>Xt,H$:()=>z,B6:()=>it});var i=r(70416);var a=r(63221);var n=r(69745);const o=(t,e)=>{const r=a.A.parse(t);const i={};for(const a in e){if(!e[a])continue;i[a]=r[a]+e[a]}return(0,n.A)(t,i)};const s=o;var l=r(3635);const c=(t,e,r=50)=>{const{r:i,g:n,b:o,a:s}=a.A.parse(t);const{r:c,g:h,b:d,a:u}=a.A.parse(e);const f=r/100;const p=f*2-1;const g=s-u;const m=p*g===-1?p:(p+g)/(1+p*g);const y=(m+1)/2;const b=1-y;const x=i*y+c*b;const C=n*y+h*b;const v=o*y+d*b;const k=s*f+u*(1-f);return(0,l.A)(x,C,v,k)};const h=c;const d=(t,e=100)=>{const r=a.A.parse(t);r.r=255-r.r;r.g=255-r.g;r.b=255-r.b;return h(r,t,e)};const u=d;var f=r(48750);var p=r(77470);var g=r(63170);var m=r(84997);var y=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;var b=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi;var x=/\s*%%.*\n/gm;var C=class extends Error{static{(0,i.K2)(this,"UnknownDiagramError")}constructor(t){super(t);this.name="UnknownDiagramError"}};var v={};var k=(0,i.K2)((function(t,e){t=t.replace(y,"").replace(b,"").replace(x,"\n");for(const[r,{detector:i}]of Object.entries(v)){const a=i(t,e);if(a){return r}}throw new C(`No diagram type detected matching given configuration for text: ${t}`)}),"detectType");var w=(0,i.K2)(((...t)=>{for(const{id:e,detector:r,loader:i}of t){S(e,r,i)}}),"registerLazyLoadedDiagrams");var S=(0,i.K2)(((t,e,r)=>{if(v[t]){i.Rm.warn(`Detector with key ${t} already exists. Overwriting.`)}v[t]={detector:e,loader:r};i.Rm.debug(`Detector with key ${t} added${r?" with loader":""}`)}),"addDetector");var A=(0,i.K2)((t=>v[t].loader),"getDiagramLoader");var T=(0,i.K2)(((t,e,{depth:r=2,clobber:i=false}={})=>{const a={depth:r,clobber:i};if(Array.isArray(e)&&!Array.isArray(t)){e.forEach((e=>T(t,e,a)));return t}else if(Array.isArray(e)&&Array.isArray(t)){e.forEach((e=>{if(!t.includes(e)){t.push(e)}}));return t}if(t===void 0||r<=0){if(t!==void 0&&t!==null&&typeof t==="object"&&typeof e==="object"){return Object.assign(t,e)}else{return e}}if(e!==void 0&&typeof t==="object"&&typeof e==="object"){Object.keys(e).forEach((a=>{if(typeof e[a]==="object"&&(t[a]===void 0||typeof t[a]==="object")){if(t[a]===void 0){t[a]=Array.isArray(e[a])?[]:{}}t[a]=T(t[a],e[a],{depth:r-1,clobber:i})}else if(i||typeof t[a]!=="object"&&typeof e[a]!=="object"){t[a]=e[a]}}))}return t}),"assignWithDepth");var B=T;var L="#ffffff";var M="#f2f2f2";var F=(0,i.K2)(((t,e)=>e?s(t,{s:-40,l:10}):s(t,{s:-40,l:-10})),"mkBorder");var _=class{static{(0,i.K2)(this,"Theme")}constructor(){this.background="#f4f4f4";this.primaryColor="#fff4dd";this.noteBkgColor="#fff5ad";this.noteTextColor="#333";this.THEME_COLOR_LIMIT=12;this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px"}updateColors(){this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333");this.secondaryColor=this.secondaryColor||s(this.primaryColor,{h:-120});this.tertiaryColor=this.tertiaryColor||s(this.primaryColor,{h:180,l:5});this.primaryBorderColor=this.primaryBorderColor||F(this.primaryColor,this.darkMode);this.secondaryBorderColor=this.secondaryBorderColor||F(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=this.tertiaryBorderColor||F(this.tertiaryColor,this.darkMode);this.noteBorderColor=this.noteBorderColor||F(this.noteBkgColor,this.darkMode);this.noteBkgColor=this.noteBkgColor||"#fff5ad";this.noteTextColor=this.noteTextColor||"#333";this.secondaryTextColor=this.secondaryTextColor||u(this.secondaryColor);this.tertiaryTextColor=this.tertiaryTextColor||u(this.tertiaryColor);this.lineColor=this.lineColor||u(this.background);this.arrowheadColor=this.arrowheadColor||u(this.background);this.textColor=this.textColor||this.primaryTextColor;this.border2=this.border2||this.tertiaryBorderColor;this.nodeBkg=this.nodeBkg||this.primaryColor;this.mainBkg=this.mainBkg||this.primaryColor;this.nodeBorder=this.nodeBorder||this.primaryBorderColor;this.clusterBkg=this.clusterBkg||this.tertiaryColor;this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor;this.defaultLinkColor=this.defaultLinkColor||this.lineColor;this.titleColor=this.titleColor||this.tertiaryTextColor;this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,f.A)(this.secondaryColor,30):this.secondaryColor);this.nodeTextColor=this.nodeTextColor||this.primaryTextColor;this.actorBorder=this.actorBorder||this.primaryBorderColor;this.actorBkg=this.actorBkg||this.mainBkg;this.actorTextColor=this.actorTextColor||this.primaryTextColor;this.actorLineColor=this.actorLineColor||this.actorBorder;this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg;this.signalColor=this.signalColor||this.textColor;this.signalTextColor=this.signalTextColor||this.textColor;this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder;this.labelTextColor=this.labelTextColor||this.actorTextColor;this.loopTextColor=this.loopTextColor||this.actorTextColor;this.activationBorderColor=this.activationBorderColor||(0,f.A)(this.secondaryColor,10);this.activationBkgColor=this.activationBkgColor||this.secondaryColor;this.sequenceNumberColor=this.sequenceNumberColor||u(this.lineColor);this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor;this.altSectionBkgColor=this.altSectionBkgColor||"white";this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor;this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor;this.excludeBkgColor=this.excludeBkgColor||"#eeeeee";this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor;this.taskBkgColor=this.taskBkgColor||this.primaryColor;this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor;this.activeTaskBkgColor=this.activeTaskBkgColor||(0,p.A)(this.primaryColor,23);this.gridColor=this.gridColor||"lightgrey";this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey";this.doneTaskBorderColor=this.doneTaskBorderColor||"grey";this.critBorderColor=this.critBorderColor||"#ff8888";this.critBkgColor=this.critBkgColor||"red";this.todayLineColor=this.todayLineColor||"red";this.vertLineColor=this.vertLineColor||"navy";this.taskTextColor=this.taskTextColor||this.textColor;this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor;this.taskTextLightColor=this.taskTextLightColor||this.textColor;this.taskTextColor=this.taskTextColor||this.primaryTextColor;this.taskTextDarkColor=this.taskTextDarkColor||this.textColor;this.taskTextClickableColor=this.taskTextClickableColor||"#003163";this.personBorder=this.personBorder||this.primaryBorderColor;this.personBkg=this.personBkg||this.mainBkg;if(this.darkMode){this.rowOdd=this.rowOdd||(0,f.A)(this.mainBkg,5)||"#ffffff";this.rowEven=this.rowEven||(0,f.A)(this.mainBkg,10)}else{this.rowOdd=this.rowOdd||(0,p.A)(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||(0,p.A)(this.mainBkg,5)}this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||this.tertiaryColor;this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.nodeBorder;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.specialStateColor=this.lineColor;this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||s(this.primaryColor,{h:30});this.cScale4=this.cScale4||s(this.primaryColor,{h:60});this.cScale5=this.cScale5||s(this.primaryColor,{h:90});this.cScale6=this.cScale6||s(this.primaryColor,{h:120});this.cScale7=this.cScale7||s(this.primaryColor,{h:150});this.cScale8=this.cScale8||s(this.primaryColor,{h:210,l:150});this.cScale9=this.cScale9||s(this.primaryColor,{h:270});this.cScale10=this.cScale10||s(this.primaryColor,{h:300});this.cScale11=this.cScale11||s(this.primaryColor,{h:330});if(this.darkMode){for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScale"+t]=(0,f.A)(this["cScale"+t],75)}}else{for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScale"+t]=(0,f.A)(this["cScale"+t],25)}}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||u(this["cScale"+e])}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){if(this.darkMode){this["cScalePeer"+e]=this["cScalePeer"+e]||(0,p.A)(this["cScale"+e],10)}else{this["cScalePeer"+e]=this["cScalePeer"+e]||(0,f.A)(this["cScale"+e],10)}}this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}const t=this.darkMode?-4:-1;for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||s(this.mainBkg,{h:180,s:-15,l:t*(5+e*3)});this["surfacePeer"+e]=this["surfacePeer"+e]||s(this.mainBkg,{h:180,s:-15,l:t*(8+e*3)})}this.classText=this.classText||this.textColor;this.fillType0=this.fillType0||this.primaryColor;this.fillType1=this.fillType1||this.secondaryColor;this.fillType2=this.fillType2||s(this.primaryColor,{h:64});this.fillType3=this.fillType3||s(this.secondaryColor,{h:64});this.fillType4=this.fillType4||s(this.primaryColor,{h:-64});this.fillType5=this.fillType5||s(this.secondaryColor,{h:-64});this.fillType6=this.fillType6||s(this.primaryColor,{h:128});this.fillType7=this.fillType7||s(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||this.tertiaryColor;this.pie4=this.pie4||s(this.primaryColor,{l:-10});this.pie5=this.pie5||s(this.secondaryColor,{l:-10});this.pie6=this.pie6||s(this.tertiaryColor,{l:-10});this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-10});this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-10});this.pie9=this.pie9||s(this.primaryColor,{h:120,l:0});this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-20});this.pie11=this.pie11||s(this.primaryColor,{h:-60,l:-20});this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-10});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12};this.archEdgeColor=this.archEdgeColor||"#777";this.archEdgeArrowColor=this.archEdgeArrowColor||"#777";this.archEdgeWidth=this.archEdgeWidth||"3";this.archGroupBorderColor=this.archGroupBorderColor||"#000";this.archGroupBorderWidth=this.archGroupBorderWidth||"2px";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||(0,g.A)(this.quadrant1Fill)?(0,p.A)(this.quadrant1Fill):(0,f.A)(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,f.A)(this.secondaryColor,30):this.secondaryColor);this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||s(this.primaryColor,{h:-30});this.git4=this.git4||s(this.primaryColor,{h:-60});this.git5=this.git5||s(this.primaryColor,{h:-90});this.git6=this.git6||s(this.primaryColor,{h:60});this.git7=this.git7||s(this.primaryColor,{h:120});if(this.darkMode){this.git0=(0,p.A)(this.git0,25);this.git1=(0,p.A)(this.git1,25);this.git2=(0,p.A)(this.git2,25);this.git3=(0,p.A)(this.git3,25);this.git4=(0,p.A)(this.git4,25);this.git5=(0,p.A)(this.git5,25);this.git6=(0,p.A)(this.git6,25);this.git7=(0,p.A)(this.git7,25)}else{this.git0=(0,f.A)(this.git0,25);this.git1=(0,f.A)(this.git1,25);this.git2=(0,f.A)(this.git2,25);this.git3=(0,f.A)(this.git3,25);this.git4=(0,f.A)(this.git4,25);this.git5=(0,f.A)(this.git5,25);this.git6=(0,f.A)(this.git6,25);this.git7=(0,f.A)(this.git7,25)}this.gitInv0=this.gitInv0||u(this.git0);this.gitInv1=this.gitInv1||u(this.git1);this.gitInv2=this.gitInv2||u(this.git2);this.gitInv3=this.gitInv3||u(this.git3);this.gitInv4=this.gitInv4||u(this.git4);this.gitInv5=this.gitInv5||u(this.git5);this.gitInv6=this.gitInv6||u(this.git6);this.gitInv7=this.gitInv7||u(this.git7);this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor);this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor;this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor;this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor;this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor;this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor;this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor;this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor;this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||L;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||M}calculate(t){if(typeof t!=="object"){this.updateColors();return}const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]}));this.updateColors();e.forEach((e=>{this[e]=t[e]}))}};var $=(0,i.K2)((t=>{const e=new _;e.calculate(t);return e}),"getThemeVariables");var E=class{static{(0,i.K2)(this,"Theme")}constructor(){this.background="#333";this.primaryColor="#1f2020";this.secondaryColor=(0,p.A)(this.primaryColor,16);this.tertiaryColor=s(this.primaryColor,{h:-160});this.primaryBorderColor=u(this.background);this.secondaryBorderColor=F(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=F(this.tertiaryColor,this.darkMode);this.primaryTextColor=u(this.primaryColor);this.secondaryTextColor=u(this.secondaryColor);this.tertiaryTextColor=u(this.tertiaryColor);this.lineColor=u(this.background);this.textColor=u(this.background);this.mainBkg="#1f2020";this.secondBkg="calculated";this.mainContrastColor="lightgrey";this.darkTextColor=(0,p.A)(u("#323D47"),10);this.lineColor="calculated";this.border1="#ccc";this.border2=(0,l.A)(255,255,255,.25);this.arrowheadColor="calculated";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.labelBackground="#181818";this.textColor="#ccc";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="#F9FFFE";this.edgeLabelBackground="calculated";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="calculated";this.actorLineColor="calculated";this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="calculated";this.activationBkgColor="calculated";this.sequenceNumberColor="black";this.sectionBkgColor=(0,f.A)("#EAE8D9",30);this.altSectionBkgColor="calculated";this.sectionBkgColor2="#EAE8D9";this.excludeBkgColor=(0,f.A)(this.sectionBkgColor,10);this.taskBorderColor=(0,l.A)(255,255,255,70);this.taskBkgColor="calculated";this.taskTextColor="calculated";this.taskTextLightColor="calculated";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor=(0,l.A)(255,255,255,50);this.activeTaskBkgColor="#81B1DB";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="grey";this.critBorderColor="#E83737";this.critBkgColor="#E83737";this.taskTextDarkColor="calculated";this.todayLineColor="#DB5757";this.vertLineColor="#00BFFF";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd=this.rowOdd||(0,p.A)(this.mainBkg,5)||"#ffffff";this.rowEven=this.rowEven||(0,f.A)(this.mainBkg,10);this.labelColor="calculated";this.errorBkgColor="#a44141";this.errorTextColor="#ddd"}updateColors(){this.secondBkg=(0,p.A)(this.mainBkg,16);this.lineColor=this.mainContrastColor;this.arrowheadColor=this.mainContrastColor;this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.edgeLabelBackground=(0,p.A)(this.labelBackground,25);this.actorBorder=this.border1;this.actorBkg=this.mainBkg;this.actorTextColor=this.mainContrastColor;this.actorLineColor=this.actorBorder;this.signalColor=this.mainContrastColor;this.signalTextColor=this.mainContrastColor;this.labelBoxBkgColor=this.actorBkg;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.mainContrastColor;this.loopTextColor=this.mainContrastColor;this.noteBorderColor=this.secondaryBorderColor;this.noteBkgColor=this.secondBkg;this.noteTextColor=this.secondaryTextColor;this.activationBorderColor=this.border1;this.activationBkgColor=this.secondBkg;this.altSectionBkgColor=this.background;this.taskBkgColor=(0,p.A)(this.mainBkg,23);this.taskTextColor=this.darkTextColor;this.taskTextLightColor=this.mainContrastColor;this.taskTextOutsideColor=this.taskTextLightColor;this.gridColor=this.mainContrastColor;this.doneTaskBkgColor=this.mainContrastColor;this.taskTextDarkColor=this.darkTextColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#555";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.primaryBorderColor;this.specialStateColor="#f4f4f4";this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=s(this.primaryColor,{h:64});this.fillType3=s(this.secondaryColor,{h:64});this.fillType4=s(this.primaryColor,{h:-64});this.fillType5=s(this.secondaryColor,{h:-64});this.fillType6=s(this.primaryColor,{h:128});this.fillType7=s(this.secondaryColor,{h:128});this.cScale1=this.cScale1||"#0b0000";this.cScale2=this.cScale2||"#4d1037";this.cScale3=this.cScale3||"#3f5258";this.cScale4=this.cScale4||"#4f2f1b";this.cScale5=this.cScale5||"#6e0a0a";this.cScale6=this.cScale6||"#3b0048";this.cScale7=this.cScale7||"#995a01";this.cScale8=this.cScale8||"#154706";this.cScale9=this.cScale9||"#161722";this.cScale10=this.cScale10||"#00296f";this.cScale11=this.cScale11||"#01629c";this.cScale12=this.cScale12||"#010029";this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||s(this.primaryColor,{h:30});this.cScale4=this.cScale4||s(this.primaryColor,{h:60});this.cScale5=this.cScale5||s(this.primaryColor,{h:90});this.cScale6=this.cScale6||s(this.primaryColor,{h:120});this.cScale7=this.cScale7||s(this.primaryColor,{h:150});this.cScale8=this.cScale8||s(this.primaryColor,{h:210});this.cScale9=this.cScale9||s(this.primaryColor,{h:270});this.cScale10=this.cScale10||s(this.primaryColor,{h:300});this.cScale11=this.cScale11||s(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScaleInv"+t]=this["cScaleInv"+t]||u(this["cScale"+t])}for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScalePeer"+t]=this["cScalePeer"+t]||(0,p.A)(this["cScale"+t],10)}for(let t=0;t<5;t++){this["surface"+t]=this["surface"+t]||s(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)});this["surfacePeer"+t]=this["surfacePeer"+t]||s(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)})}this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor}for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["pie"+t]=this["cScale"+t]}this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||(0,g.A)(this.quadrant1Fill)?(0,p.A)(this.quadrant1Fill):(0,f.A)(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"};this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background};this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12};this.classText=this.primaryTextColor;this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,f.A)(this.secondaryColor,30):this.secondaryColor);this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=(0,p.A)(this.secondaryColor,20);this.git1=(0,p.A)(this.pie2||this.secondaryColor,20);this.git2=(0,p.A)(this.pie3||this.tertiaryColor,20);this.git3=(0,p.A)(this.pie4||s(this.primaryColor,{h:-30}),20);this.git4=(0,p.A)(this.pie5||s(this.primaryColor,{h:-60}),20);this.git5=(0,p.A)(this.pie6||s(this.primaryColor,{h:-90}),10);this.git6=(0,p.A)(this.pie7||s(this.primaryColor,{h:60}),10);this.git7=(0,p.A)(this.pie8||s(this.primaryColor,{h:120}),20);this.gitInv0=this.gitInv0||u(this.git0);this.gitInv1=this.gitInv1||u(this.git1);this.gitInv2=this.gitInv2||u(this.git2);this.gitInv3=this.gitInv3||u(this.git3);this.gitInv4=this.gitInv4||u(this.git4);this.gitInv5=this.gitInv5||u(this.git5);this.gitInv6=this.gitInv6||u(this.git6);this.gitInv7=this.gitInv7||u(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||u(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||u(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||(0,p.A)(this.background,12);this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||(0,p.A)(this.background,2);this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!=="object"){this.updateColors();return}const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]}));this.updateColors();e.forEach((e=>{this[e]=t[e]}))}};var O=(0,i.K2)((t=>{const e=new E;e.calculate(t);return e}),"getThemeVariables");var D=class{static{(0,i.K2)(this,"Theme")}constructor(){this.background="#f4f4f4";this.primaryColor="#ECECFF";this.secondaryColor=s(this.primaryColor,{h:120});this.secondaryColor="#ffffde";this.tertiaryColor=s(this.primaryColor,{h:-160});this.primaryBorderColor=F(this.primaryColor,this.darkMode);this.secondaryBorderColor=F(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=F(this.tertiaryColor,this.darkMode);this.primaryTextColor=u(this.primaryColor);this.secondaryTextColor=u(this.secondaryColor);this.tertiaryTextColor=u(this.tertiaryColor);this.lineColor=u(this.background);this.textColor=u(this.background);this.background="white";this.mainBkg="#ECECFF";this.secondBkg="#ffffde";this.lineColor="#333333";this.border1="#9370DB";this.border2="#aaaa33";this.arrowheadColor="#333333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.labelBackground="rgba(232,232,232, 0.8)";this.textColor="#333";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="calculated";this.edgeLabelBackground="calculated";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="black";this.actorLineColor="calculated";this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="calculated";this.altSectionBkgColor="calculated";this.sectionBkgColor2="calculated";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="calculated";this.taskTextLightColor="calculated";this.taskTextColor=this.taskTextLightColor;this.taskTextDarkColor="calculated";this.taskTextOutsideColor=this.taskTextDarkColor;this.taskTextClickableColor="calculated";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="calculated";this.critBorderColor="calculated";this.critBkgColor="calculated";this.todayLineColor="calculated";this.vertLineColor="calculated";this.sectionBkgColor=(0,l.A)(102,102,255,.49);this.altSectionBkgColor="white";this.sectionBkgColor2="#fff400";this.taskBorderColor="#534fbc";this.taskBkgColor="#8a90dd";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="black";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="#534fbc";this.activeTaskBkgColor="#bfc7ff";this.gridColor="lightgrey";this.doneTaskBkgColor="lightgrey";this.doneTaskBorderColor="grey";this.critBorderColor="#ff8888";this.critBkgColor="red";this.todayLineColor="red";this.vertLineColor="navy";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd="calculated";this.rowEven="calculated";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222";this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||s(this.primaryColor,{h:30});this.cScale4=this.cScale4||s(this.primaryColor,{h:60});this.cScale5=this.cScale5||s(this.primaryColor,{h:90});this.cScale6=this.cScale6||s(this.primaryColor,{h:120});this.cScale7=this.cScale7||s(this.primaryColor,{h:150});this.cScale8=this.cScale8||s(this.primaryColor,{h:210});this.cScale9=this.cScale9||s(this.primaryColor,{h:270});this.cScale10=this.cScale10||s(this.primaryColor,{h:300});this.cScale11=this.cScale11||s(this.primaryColor,{h:330});this["cScalePeer1"]=this["cScalePeer1"]||(0,f.A)(this.secondaryColor,45);this["cScalePeer2"]=this["cScalePeer2"]||(0,f.A)(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScale"+t]=(0,f.A)(this["cScale"+t],10);this["cScalePeer"+t]=this["cScalePeer"+t]||(0,f.A)(this["cScale"+t],25)}for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScaleInv"+t]=this["cScaleInv"+t]||s(this["cScale"+t],{h:180})}for(let t=0;t<5;t++){this["surface"+t]=this["surface"+t]||s(this.mainBkg,{h:30,l:-(5+t*5)});this["surfacePeer"+t]=this["surfacePeer"+t]||s(this.mainBkg,{h:30,l:-(7+t*5)})}this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;if(this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||u(this.labelTextColor);this.cScaleLabel3=this.cScaleLabel3||u(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.titleColor=this.textColor;this.edgeLabelBackground=this.labelBackground;this.actorBorder=(0,p.A)(this.border1,23);this.actorBkg=this.mainBkg;this.labelBoxBkgColor=this.actorBkg;this.signalColor=this.textColor;this.signalTextColor=this.textColor;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.actorTextColor;this.loopTextColor=this.actorTextColor;this.noteBorderColor=this.border2;this.noteTextColor=this.actorTextColor;this.actorLineColor=this.actorBorder;this.taskTextColor=this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.rowOdd=this.rowOdd||(0,p.A)(this.primaryColor,75)||"#ffffff";this.rowEven=this.rowEven||(0,p.A)(this.primaryColor,1);this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f0f0f0";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.nodeBorder;this.specialStateColor=this.lineColor;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=s(this.primaryColor,{h:64});this.fillType3=s(this.secondaryColor,{h:64});this.fillType4=s(this.primaryColor,{h:-64});this.fillType5=s(this.secondaryColor,{h:-64});this.fillType6=s(this.primaryColor,{h:128});this.fillType7=s(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||s(this.tertiaryColor,{l:-40});this.pie4=this.pie4||s(this.primaryColor,{l:-10});this.pie5=this.pie5||s(this.secondaryColor,{l:-30});this.pie6=this.pie6||s(this.tertiaryColor,{l:-20});this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-20});this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-40});this.pie9=this.pie9||s(this.primaryColor,{h:120,l:-40});this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-40});this.pie11=this.pie11||s(this.primaryColor,{h:-90,l:-40});this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-30});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||(0,g.A)(this.quadrant1Fill)?(0,p.A)(this.quadrant1Fill):(0,f.A)(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12};this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.labelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||s(this.primaryColor,{h:-30});this.git4=this.git4||s(this.primaryColor,{h:-60});this.git5=this.git5||s(this.primaryColor,{h:-90});this.git6=this.git6||s(this.primaryColor,{h:60});this.git7=this.git7||s(this.primaryColor,{h:120});if(this.darkMode){this.git0=(0,p.A)(this.git0,25);this.git1=(0,p.A)(this.git1,25);this.git2=(0,p.A)(this.git2,25);this.git3=(0,p.A)(this.git3,25);this.git4=(0,p.A)(this.git4,25);this.git5=(0,p.A)(this.git5,25);this.git6=(0,p.A)(this.git6,25);this.git7=(0,p.A)(this.git7,25)}else{this.git0=(0,f.A)(this.git0,25);this.git1=(0,f.A)(this.git1,25);this.git2=(0,f.A)(this.git2,25);this.git3=(0,f.A)(this.git3,25);this.git4=(0,f.A)(this.git4,25);this.git5=(0,f.A)(this.git5,25);this.git6=(0,f.A)(this.git6,25);this.git7=(0,f.A)(this.git7,25)}this.gitInv0=this.gitInv0||(0,f.A)(u(this.git0),25);this.gitInv1=this.gitInv1||u(this.git1);this.gitInv2=this.gitInv2||u(this.git2);this.gitInv3=this.gitInv3||u(this.git3);this.gitInv4=this.gitInv4||u(this.git4);this.gitInv5=this.gitInv5||u(this.git5);this.gitInv6=this.gitInv6||u(this.git6);this.gitInv7=this.gitInv7||u(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||u(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||u(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||L;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||M}calculate(t){Object.keys(this).forEach((t=>{if(this[t]==="calculated"){this[t]=void 0}}));if(typeof t!=="object"){this.updateColors();return}const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]}));this.updateColors();e.forEach((e=>{this[e]=t[e]}))}};var K=(0,i.K2)((t=>{const e=new D;e.calculate(t);return e}),"getThemeVariables");var I=class{static{(0,i.K2)(this,"Theme")}constructor(){this.background="#f4f4f4";this.primaryColor="#cde498";this.secondaryColor="#cdffb2";this.background="white";this.mainBkg="#cde498";this.secondBkg="#cdffb2";this.lineColor="green";this.border1="#13540c";this.border2="#6eaa49";this.arrowheadColor="green";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.tertiaryColor=(0,p.A)("#cde498",10);this.primaryBorderColor=F(this.primaryColor,this.darkMode);this.secondaryBorderColor=F(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=F(this.tertiaryColor,this.darkMode);this.primaryTextColor=u(this.primaryColor);this.secondaryTextColor=u(this.secondaryColor);this.tertiaryTextColor=u(this.primaryColor);this.lineColor=u(this.background);this.textColor=u(this.background);this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="#333";this.edgeLabelBackground="#e8e8e8";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="black";this.actorLineColor="calculated";this.signalColor="#333";this.signalTextColor="#333";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="#326932";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="#6eaa49";this.altSectionBkgColor="white";this.sectionBkgColor2="#6eaa49";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="#487e3a";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="black";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="lightgrey";this.doneTaskBkgColor="lightgrey";this.doneTaskBorderColor="grey";this.critBorderColor="#ff8888";this.critBkgColor="red";this.todayLineColor="red";this.vertLineColor="#00BFFF";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222"}updateColors(){this.actorBorder=(0,f.A)(this.mainBkg,20);this.actorBkg=this.mainBkg;this.labelBoxBkgColor=this.actorBkg;this.labelTextColor=this.actorTextColor;this.loopTextColor=this.actorTextColor;this.noteBorderColor=this.border2;this.noteTextColor=this.actorTextColor;this.actorLineColor=this.actorBorder;this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||s(this.primaryColor,{h:30});this.cScale4=this.cScale4||s(this.primaryColor,{h:60});this.cScale5=this.cScale5||s(this.primaryColor,{h:90});this.cScale6=this.cScale6||s(this.primaryColor,{h:120});this.cScale7=this.cScale7||s(this.primaryColor,{h:150});this.cScale8=this.cScale8||s(this.primaryColor,{h:210});this.cScale9=this.cScale9||s(this.primaryColor,{h:270});this.cScale10=this.cScale10||s(this.primaryColor,{h:300});this.cScale11=this.cScale11||s(this.primaryColor,{h:330});this["cScalePeer1"]=this["cScalePeer1"]||(0,f.A)(this.secondaryColor,45);this["cScalePeer2"]=this["cScalePeer2"]||(0,f.A)(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScale"+t]=(0,f.A)(this["cScale"+t],10);this["cScalePeer"+t]=this["cScalePeer"+t]||(0,f.A)(this["cScale"+t],25)}for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScaleInv"+t]=this["cScaleInv"+t]||s(this["cScale"+t],{h:180})}this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor}for(let t=0;t<5;t++){this["surface"+t]=this["surface"+t]||s(this.mainBkg,{h:30,s:-30,l:-(5+t*5)});this["surfacePeer"+t]=this["surfacePeer"+t]||s(this.mainBkg,{h:30,s:-30,l:-(8+t*5)})}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.taskBorderColor=this.border1;this.taskTextColor=this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor;this.activeTaskBorderColor=this.taskBorderColor;this.activeTaskBkgColor=this.mainBkg;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.rowOdd=this.rowOdd||(0,p.A)(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||(0,p.A)(this.mainBkg,20);this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f0f0f0";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.primaryBorderColor;this.specialStateColor=this.lineColor;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=s(this.primaryColor,{h:64});this.fillType3=s(this.secondaryColor,{h:64});this.fillType4=s(this.primaryColor,{h:-64});this.fillType5=s(this.secondaryColor,{h:-64});this.fillType6=s(this.primaryColor,{h:128});this.fillType7=s(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||this.tertiaryColor;this.pie4=this.pie4||s(this.primaryColor,{l:-30});this.pie5=this.pie5||s(this.secondaryColor,{l:-30});this.pie6=this.pie6||s(this.tertiaryColor,{h:40,l:-40});this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-10});this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-10});this.pie9=this.pie9||s(this.primaryColor,{h:120,l:0});this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-50});this.pie11=this.pie11||s(this.primaryColor,{h:-60,l:-50});this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-50});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||(0,g.A)(this.quadrant1Fill)?(0,p.A)(this.quadrant1Fill):(0,f.A)(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg};this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12};this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||s(this.primaryColor,{h:-30});this.git4=this.git4||s(this.primaryColor,{h:-60});this.git5=this.git5||s(this.primaryColor,{h:-90});this.git6=this.git6||s(this.primaryColor,{h:60});this.git7=this.git7||s(this.primaryColor,{h:120});if(this.darkMode){this.git0=(0,p.A)(this.git0,25);this.git1=(0,p.A)(this.git1,25);this.git2=(0,p.A)(this.git2,25);this.git3=(0,p.A)(this.git3,25);this.git4=(0,p.A)(this.git4,25);this.git5=(0,p.A)(this.git5,25);this.git6=(0,p.A)(this.git6,25);this.git7=(0,p.A)(this.git7,25)}else{this.git0=(0,f.A)(this.git0,25);this.git1=(0,f.A)(this.git1,25);this.git2=(0,f.A)(this.git2,25);this.git3=(0,f.A)(this.git3,25);this.git4=(0,f.A)(this.git4,25);this.git5=(0,f.A)(this.git5,25);this.git6=(0,f.A)(this.git6,25);this.git7=(0,f.A)(this.git7,25)}this.gitInv0=this.gitInv0||u(this.git0);this.gitInv1=this.gitInv1||u(this.git1);this.gitInv2=this.gitInv2||u(this.git2);this.gitInv3=this.gitInv3||u(this.git3);this.gitInv4=this.gitInv4||u(this.git4);this.gitInv5=this.gitInv5||u(this.git5);this.gitInv6=this.gitInv6||u(this.git6);this.gitInv7=this.gitInv7||u(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||u(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||u(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||L;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||M}calculate(t){if(typeof t!=="object"){this.updateColors();return}const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]}));this.updateColors();e.forEach((e=>{this[e]=t[e]}))}};var R=(0,i.K2)((t=>{const e=new I;e.calculate(t);return e}),"getThemeVariables");var P=class{static{(0,i.K2)(this,"Theme")}constructor(){this.primaryColor="#eee";this.contrast="#707070";this.secondaryColor=(0,p.A)(this.contrast,55);this.background="#ffffff";this.tertiaryColor=s(this.primaryColor,{h:-160});this.primaryBorderColor=F(this.primaryColor,this.darkMode);this.secondaryBorderColor=F(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=F(this.tertiaryColor,this.darkMode);this.primaryTextColor=u(this.primaryColor);this.secondaryTextColor=u(this.secondaryColor);this.tertiaryTextColor=u(this.tertiaryColor);this.lineColor=u(this.background);this.textColor=u(this.background);this.mainBkg="#eee";this.secondBkg="calculated";this.lineColor="#666";this.border1="#999";this.border2="calculated";this.note="#ffa";this.text="#333";this.critical="#d42";this.done="#bbb";this.arrowheadColor="#333333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="calculated";this.edgeLabelBackground="white";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="calculated";this.actorLineColor=this.actorBorder;this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="calculated";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="calculated";this.altSectionBkgColor="white";this.sectionBkgColor2="calculated";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="calculated";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="calculated";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="calculated";this.critBkgColor="calculated";this.critBorderColor="calculated";this.todayLineColor="calculated";this.vertLineColor="calculated";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd=this.rowOdd||(0,p.A)(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||"#f4f4f4";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222"}updateColors(){this.secondBkg=(0,p.A)(this.contrast,55);this.border2=this.contrast;this.actorBorder=(0,p.A)(this.border1,23);this.actorBkg=this.mainBkg;this.actorTextColor=this.text;this.actorLineColor=this.actorBorder;this.signalColor=this.text;this.signalTextColor=this.text;this.labelBoxBkgColor=this.actorBkg;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.text;this.loopTextColor=this.text;this.noteBorderColor="#999";this.noteBkgColor="#666";this.noteTextColor="#fff";this.cScale0=this.cScale0||"#555";this.cScale1=this.cScale1||"#F4F4F4";this.cScale2=this.cScale2||"#555";this.cScale3=this.cScale3||"#BBB";this.cScale4=this.cScale4||"#777";this.cScale5=this.cScale5||"#999";this.cScale6=this.cScale6||"#DDD";this.cScale7=this.cScale7||"#FFF";this.cScale8=this.cScale8||"#DDD";this.cScale9=this.cScale9||"#BBB";this.cScale10=this.cScale10||"#999";this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScaleInv"+t]=this["cScaleInv"+t]||u(this["cScale"+t])}for(let t=0;t<this.THEME_COLOR_LIMIT;t++){if(this.darkMode){this["cScalePeer"+t]=this["cScalePeer"+t]||(0,p.A)(this["cScale"+t],10)}else{this["cScalePeer"+t]=this["cScalePeer"+t]||(0,f.A)(this["cScale"+t],10)}}this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);this.cScaleLabel0=this.cScaleLabel0||this.cScale1;this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor}for(let t=0;t<5;t++){this["surface"+t]=this["surface"+t]||s(this.mainBkg,{l:-(5+t*5)});this["surfacePeer"+t]=this["surfacePeer"+t]||s(this.mainBkg,{l:-(8+t*5)})}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.titleColor=this.text;this.sectionBkgColor=(0,p.A)(this.contrast,30);this.sectionBkgColor2=(0,p.A)(this.contrast,30);this.taskBorderColor=(0,f.A)(this.contrast,10);this.taskBkgColor=this.contrast;this.taskTextColor=this.taskTextLightColor;this.taskTextDarkColor=this.text;this.taskTextOutsideColor=this.taskTextDarkColor;this.activeTaskBorderColor=this.taskBorderColor;this.activeTaskBkgColor=this.mainBkg;this.gridColor=(0,p.A)(this.border1,30);this.doneTaskBkgColor=this.done;this.doneTaskBorderColor=this.lineColor;this.critBkgColor=this.critical;this.critBorderColor=(0,f.A)(this.critBkgColor,10);this.todayLineColor=this.critBkgColor;this.vertLineColor=this.critBkgColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.transitionColor=this.transitionColor||"#000";this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f4f4f4";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.stateBorder=this.stateBorder||"#000";this.innerEndBackground=this.primaryBorderColor;this.specialStateColor="#222";this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=s(this.primaryColor,{h:64});this.fillType3=s(this.secondaryColor,{h:64});this.fillType4=s(this.primaryColor,{h:-64});this.fillType5=s(this.secondaryColor,{h:-64});this.fillType6=s(this.primaryColor,{h:128});this.fillType7=s(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++){this["pie"+t]=this["cScale"+t]}this.pie12=this.pie0;this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||(0,g.A)(this.quadrant1Fill)?(0,p.A)(this.quadrant1Fill):(0,f.A)(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"};this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=(0,f.A)(this.pie1,25)||this.primaryColor;this.git1=this.pie2||this.secondaryColor;this.git2=this.pie3||this.tertiaryColor;this.git3=this.pie4||s(this.primaryColor,{h:-30});this.git4=this.pie5||s(this.primaryColor,{h:-60});this.git5=this.pie6||s(this.primaryColor,{h:-90});this.git6=this.pie7||s(this.primaryColor,{h:60});this.git7=this.pie8||s(this.primaryColor,{h:120});this.gitInv0=this.gitInv0||u(this.git0);this.gitInv1=this.gitInv1||u(this.git1);this.gitInv2=this.gitInv2||u(this.git2);this.gitInv3=this.gitInv3||u(this.git3);this.gitInv4=this.gitInv4||u(this.git4);this.gitInv5=this.gitInv5||u(this.git5);this.gitInv6=this.gitInv6||u(this.git6);this.gitInv7=this.gitInv7||u(this.git7);this.branchLabelColor=this.branchLabelColor||this.labelTextColor;this.gitBranchLabel0=this.branchLabelColor;this.gitBranchLabel1="white";this.gitBranchLabel2=this.branchLabelColor;this.gitBranchLabel3="white";this.gitBranchLabel4=this.branchLabelColor;this.gitBranchLabel5=this.branchLabelColor;this.gitBranchLabel6=this.branchLabelColor;this.gitBranchLabel7=this.branchLabelColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||L;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||M}calculate(t){if(typeof t!=="object"){this.updateColors();return}const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]}));this.updateColors();e.forEach((e=>{this[e]=t[e]}))}};var q=(0,i.K2)((t=>{const e=new P;e.calculate(t);return e}),"getThemeVariables");var z={base:{getThemeVariables:$},dark:{getThemeVariables:O},default:{getThemeVariables:K},forest:{getThemeVariables:R},neutral:{getThemeVariables:q}};var N={flowchart:{useMaxWidth:true,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:true,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:false},sequence:{useMaxWidth:true,hideUnusedParticipants:false,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:true,forceMenus:false,bottomMarginAdj:1,rightAngles:false,showSequenceNumbers:false,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:false,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:true,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:false,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:true,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:false,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:true,titleTopMargin:25,arrowMarkerAbsolute:false,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:false,hideEmptyMembersBox:false},state:{useMaxWidth:true,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:true,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:true,textPosition:.75},quadrantChart:{useMaxWidth:true,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:true,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:false,showTitle:true,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:true,labelFontSize:14,labelPadding:5,showTitle:true,titleFontSize:16,titlePadding:5,showTick:true,tickLength:5,tickWidth:2,showAxisLine:true,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:true,labelFontSize:14,labelPadding:5,showTitle:true,titleFontSize:16,titlePadding:5,showTick:true,tickLength:5,tickWidth:2,showAxisLine:true,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:true,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:true,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:true,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:true,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:false,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:false},gitGraph:{useMaxWidth:true,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:true,showBranches:true,rotateCommitLabel:true,parallelCommits:false,arrowMarkerAbsolute:false},c4:{useMaxWidth:true,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:true,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:true,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:true,prefix:"",suffix:""},block:{useMaxWidth:true,padding:8},packet:{useMaxWidth:true,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:true,paddingX:5,paddingY:5},architecture:{useMaxWidth:true,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:true,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:false,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:true,arrowMarkerAbsolute:false,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:false,forceLegacyMathML:false,deterministicIds:false,fontSize:16,markdownAutoWrap:true,suppressErrorRendering:false};var W={...N,deterministicIDSeed:void 0,elk:{mergeEdges:false,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:false,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:z.default.getThemeVariables(),sequence:{...N.sequence,messageFont:(0,i.K2)((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont"),noteFont:(0,i.K2)((function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}}),"noteFont"),actorFont:(0,i.K2)((function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}),"actorFont")},class:{hideEmptyMembersBox:false},gantt:{...N.gantt,tickInterval:void 0,useWidth:void 0},c4:{...N.c4,useWidth:void 0,personFont:(0,i.K2)((function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}}),"personFont"),flowchart:{...N.flowchart,inheritDir:false},external_personFont:(0,i.K2)((function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}}),"external_personFont"),systemFont:(0,i.K2)((function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}}),"systemFont"),external_systemFont:(0,i.K2)((function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}}),"external_systemFont"),system_dbFont:(0,i.K2)((function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}}),"system_dbFont"),external_system_dbFont:(0,i.K2)((function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}}),"external_system_dbFont"),system_queueFont:(0,i.K2)((function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}}),"system_queueFont"),external_system_queueFont:(0,i.K2)((function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}}),"external_system_queueFont"),containerFont:(0,i.K2)((function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}}),"containerFont"),external_containerFont:(0,i.K2)((function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}}),"external_containerFont"),container_dbFont:(0,i.K2)((function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}}),"container_dbFont"),external_container_dbFont:(0,i.K2)((function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}}),"external_container_dbFont"),container_queueFont:(0,i.K2)((function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}}),"container_queueFont"),external_container_queueFont:(0,i.K2)((function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}}),"external_container_queueFont"),componentFont:(0,i.K2)((function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}}),"componentFont"),external_componentFont:(0,i.K2)((function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}}),"external_componentFont"),component_dbFont:(0,i.K2)((function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}}),"component_dbFont"),external_component_dbFont:(0,i.K2)((function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}}),"external_component_dbFont"),component_queueFont:(0,i.K2)((function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}}),"component_queueFont"),external_component_queueFont:(0,i.K2)((function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}}),"external_component_queueFont"),boundaryFont:(0,i.K2)((function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}}),"boundaryFont"),messageFont:(0,i.K2)((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont")},pie:{...N.pie,useWidth:984},xyChart:{...N.xyChart,useWidth:void 0},requirement:{...N.requirement,useWidth:void 0},packet:{...N.packet},radar:{...N.radar},treemap:{useMaxWidth:true,padding:10,diagramPadding:8,showValues:true,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}};var j=(0,i.K2)(((t,e="")=>Object.keys(t).reduce(((r,i)=>{if(Array.isArray(t[i])){return r}else if(typeof t[i]==="object"&&t[i]!==null){return[...r,e+i,...j(t[i],"")]}return[...r,e+i]}),[])),"keyify");var H=new Set(j(W,""));var G=W;var U=(0,i.K2)((t=>{i.Rm.debug("sanitizeDirective called with",t);if(typeof t!=="object"||t==null){return}if(Array.isArray(t)){t.forEach((t=>U(t)));return}for(const e of Object.keys(t)){i.Rm.debug("Checking key",e);if(e.startsWith("__")||e.includes("proto")||e.includes("constr")||!H.has(e)||t[e]==null){i.Rm.debug("sanitize deleting key: ",e);delete t[e];continue}if(typeof t[e]==="object"){i.Rm.debug("sanitizing object",e);U(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const a of r){if(e.includes(a)){i.Rm.debug("sanitizing css option",e);t[e]=Y(t[e])}}}if(t.themeVariables){for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];if(r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)){t.themeVariables[e]=""}}}i.Rm.debug("After sanitization",t)}),"sanitizeDirective");var Y=(0,i.K2)((t=>{let e=0;let r=0;for(const i of t){if(e<r){return"{ /* ERROR: Unbalanced CSS */ }"}if(i==="{"){e++}else if(i==="}"){r++}}if(e!==r){return"{ /* ERROR: Unbalanced CSS */ }"}return t}),"sanitizeCss");var X=Object.freeze(G);var V=B({},X);var Z;var Q=[];var J=B({},X);var tt=(0,i.K2)(((t,e)=>{let r=B({},t);let i={};for(const a of e){st(a);i=B(i,a)}r=B(r,i);if(i.theme&&i.theme in z){const t=B({},Z);const e=B(t.themeVariables||{},i.themeVariables);if(r.theme&&r.theme in z){r.themeVariables=z[r.theme].getThemeVariables(e)}}J=r;ft(J);return J}),"updateCurrentConfig");var et=(0,i.K2)((t=>{V=B({},X);V=B(V,t);if(t.theme&&z[t.theme]){V.themeVariables=z[t.theme].getThemeVariables(t.themeVariables)}tt(V,Q);return V}),"setSiteConfig");var rt=(0,i.K2)((t=>{Z=B({},t)}),"saveConfigFromInitialize");var it=(0,i.K2)((t=>{V=B(V,t);tt(V,Q);return V}),"updateSiteConfig");var at=(0,i.K2)((()=>B({},V)),"getSiteConfig");var nt=(0,i.K2)((t=>{ft(t);B(J,t);return ot()}),"setConfig");var ot=(0,i.K2)((()=>B({},J)),"getConfig");var st=(0,i.K2)((t=>{if(!t){return}["secure",...V.secure??[]].forEach((e=>{if(Object.hasOwn(t,e)){i.Rm.debug(`Denied attempt to modify a secure key ${e}`,t[e]);delete t[e]}}));Object.keys(t).forEach((e=>{if(e.startsWith("__")){delete t[e]}}));Object.keys(t).forEach((e=>{if(typeof t[e]==="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))){delete t[e]}if(typeof t[e]==="object"){st(t[e])}}))}),"sanitize");var lt=(0,i.K2)((t=>{U(t);if(t.fontFamily&&!t.themeVariables?.fontFamily){t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}}Q.push(t);tt(V,Q)}),"addDirective");var ct=(0,i.K2)(((t=V)=>{Q=[];tt(t,Q)}),"reset");var ht={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."};var dt={};var ut=(0,i.K2)((t=>{if(dt[t]){return}i.Rm.warn(ht[t]);dt[t]=true}),"issueWarning");var ft=(0,i.K2)((t=>{if(!t){return}if(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup){ut("LAZY_LOAD_DEPRECATED")}}),"checkConfig");var pt=(0,i.K2)((()=>{let t={};if(Z){t=B(t,Z)}for(const e of Q){t=B(t,e)}return t}),"getUserDefinedConfig");var gt=/<br\s*\/?>/gi;var mt=(0,i.K2)((t=>{if(!t){return[""]}const e=Tt(t).replace(/\\n/g,"#br#");return e.split("#br#")}),"getRows");var yt=(()=>{let t=false;return()=>{if(!t){bt();t=true}}})();function bt(){const t="data-temp-href-target";m.A.addHook("beforeSanitizeAttributes",(e=>{if(e.tagName==="A"&&e.hasAttribute("target")){e.setAttribute(t,e.getAttribute("target")??"")}}));m.A.addHook("afterSanitizeAttributes",(e=>{if(e.tagName==="A"&&e.hasAttribute(t)){e.setAttribute("target",e.getAttribute(t)??"");e.removeAttribute(t);if(e.getAttribute("target")==="_blank"){e.setAttribute("rel","noopener")}}}))}(0,i.K2)(bt,"setupDompurifyHooks");var xt=(0,i.K2)((t=>{yt();const e=m.A.sanitize(t);return e}),"removeScript");var Ct=(0,i.K2)(((t,e)=>{if(e.flowchart?.htmlLabels!==false){const r=e.securityLevel;if(r==="antiscript"||r==="strict"){t=xt(t)}else if(r!=="loose"){t=Tt(t);t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;");t=t.replace(/=/g,"&equals;");t=At(t)}}return t}),"sanitizeMore");var vt=(0,i.K2)(((t,e)=>{if(!t){return t}if(e.dompurifyConfig){t=m.A.sanitize(Ct(t,e),e.dompurifyConfig).toString()}else{t=m.A.sanitize(Ct(t,e),{FORBID_TAGS:["style"]}).toString()}return t}),"sanitizeText");var kt=(0,i.K2)(((t,e)=>{if(typeof t==="string"){return vt(t,e)}return t.flat().map((t=>vt(t,e)))}),"sanitizeTextOrArray");var wt=(0,i.K2)((t=>gt.test(t)),"hasBreaks");var St=(0,i.K2)((t=>t.split(gt)),"splitBreaks");var At=(0,i.K2)((t=>t.replace(/#br#/g,"<br/>")),"placeholderToBreak");var Tt=(0,i.K2)((t=>t.replace(gt,"#br#")),"breakToPlaceholder");var Bt=(0,i.K2)((t=>{let e="";if(t){e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;e=CSS.escape(e)}return e}),"getUrl");var Lt=(0,i.K2)((t=>t===false||["false","null","0"].includes(String(t).trim().toLowerCase())?false:true),"evaluate");var Mt=(0,i.K2)((function(...t){const e=t.filter((t=>!isNaN(t)));return Math.max(...e)}),"getMax");var Ft=(0,i.K2)((function(...t){const e=t.filter((t=>!isNaN(t)));return Math.min(...e)}),"getMin");var _t=(0,i.K2)((function(t){const e=t.split(/(,)/);const r=[];for(let i=0;i<e.length;i++){let t=e[i];if(t===","&&i>0&&i+1<e.length){const a=e[i-1];const n=e[i+1];if(Et(a,n)){t=a+","+n;i++;r.pop()}}r.push(Ot(t))}return r.join("")}),"parseGenericTypes");var $t=(0,i.K2)(((t,e)=>Math.max(0,t.split(e).length-1)),"countOccurrence");var Et=(0,i.K2)(((t,e)=>{const r=$t(t,"~");const i=$t(e,"~");return r===1&&i===1}),"shouldCombineSets");var Ot=(0,i.K2)((t=>{const e=$t(t,"~");let r=false;if(e<=1){return t}if(e%2!==0&&t.startsWith("~")){t=t.substring(1);r=true}const i=[...t];let a=i.indexOf("~");let n=i.lastIndexOf("~");while(a!==-1&&n!==-1&&a!==n){i[a]="<";i[n]=">";a=i.indexOf("~");n=i.lastIndexOf("~")}if(r){i.unshift("~")}return i.join("")}),"processSet");var Dt=(0,i.K2)((()=>window.MathMLElement!==void 0),"isMathMLSupported");var Kt=/\$\$(.*)\$\$/g;var It=(0,i.K2)((t=>(t.match(Kt)?.length??0)>0),"hasKatex");var Rt=(0,i.K2)((async(t,e)=>{const r=document.createElement("div");r.innerHTML=await qt(t,e);r.id="katex-temp";r.style.visibility="hidden";r.style.position="absolute";r.style.top="0";const i=document.querySelector("body");i?.insertAdjacentElement("beforeend",r);const a={width:r.clientWidth,height:r.clientHeight};r.remove();return a}),"calculateMathMLDimensions");var Pt=(0,i.K2)((async(t,e)=>{if(!It(t)){return t}if(!(Dt()||e.legacyMathML||e.forceLegacyMathML)){return t.replace(Kt,"MathML is unsupported in this environment.")}if(true){const{default:i}=await r.e(5489).then(r.bind(r,25489));const a=e.forceLegacyMathML||!Dt()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(gt).map((t=>It(t)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${t}</div>`:`<div>${t}</div>`)).join("").replace(Kt,((t,e)=>i.renderToString(e,{throwOnError:true,displayMode:true,output:a}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,"")))}return t.replace(Kt,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")}),"renderKatexUnsanitized");var qt=(0,i.K2)((async(t,e)=>vt(await Pt(t,e),e)),"renderKatexSanitized");var zt={getRows:mt,sanitizeText:vt,sanitizeTextOrArray:kt,hasBreaks:wt,splitBreaks:St,lineBreakRegex:gt,removeScript:xt,getUrl:Bt,evaluate:Lt,getMax:Mt,getMin:Ft};var Nt=(0,i.K2)((function(t,e){for(let r of e){t.attr(r[0],r[1])}}),"d3Attrs");var Wt=(0,i.K2)((function(t,e,r){let i=new Map;if(r){i.set("width","100%");i.set("style",`max-width: ${e}px;`)}else{i.set("height",t);i.set("width",e)}return i}),"calculateSvgSizeAttrs");var jt=(0,i.K2)((function(t,e,r,i){const a=Wt(e,r,i);Nt(t,a)}),"configureSvgSize");var Ht=(0,i.K2)((function(t,e,r,a){const n=e.node().getBBox();const o=n.width;const s=n.height;i.Rm.info(`SVG bounds: ${o}x${s}`,n);let l=0;let c=0;i.Rm.info(`Graph bounds: ${l}x${c}`,t);l=o+r*2;c=s+r*2;i.Rm.info(`Calculated bounds: ${l}x${c}`);jt(e,c,l,a);const h=`${n.x-r} ${n.y-r} ${n.width+2*r} ${n.height+2*r}`;e.attr("viewBox",h)}),"setupGraphViewbox");var Gt={};var Ut=(0,i.K2)(((t,e,r)=>{let a="";if(t in Gt&&Gt[t]){a=Gt[t](r)}else{i.Rm.warn(`No theme found for ${t}`)}return` & {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n    fill: ${r.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${r.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${r.errorTextColor};\n    stroke: ${r.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${r.lineColor};\n    stroke: ${r.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${r.lineColor};\n  }\n\n  & svg {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${a}\n\n  ${e}\n`}),"getStyles");var Yt=(0,i.K2)(((t,e)=>{if(e!==void 0){Gt[t]=e}}),"addStylesForDiagram");var Xt=Ut;var Vt={};(0,i.VA)(Vt,{clear:()=>ee,getAccDescription:()=>ne,getAccTitle:()=>ie,getDiagramTitle:()=>se,setAccDescription:()=>ae,setAccTitle:()=>re,setDiagramTitle:()=>oe});var Zt="";var Qt="";var Jt="";var te=(0,i.K2)((t=>vt(t,ot())),"sanitizeText");var ee=(0,i.K2)((()=>{Zt="";Jt="";Qt=""}),"clear");var re=(0,i.K2)((t=>{Zt=te(t).replace(/^\s+/g,"")}),"setAccTitle");var ie=(0,i.K2)((()=>Zt),"getAccTitle");var ae=(0,i.K2)((t=>{Jt=te(t).replace(/\n\s+/g,"\n")}),"setAccDescription");var ne=(0,i.K2)((()=>Jt),"getAccDescription");var oe=(0,i.K2)((t=>{Qt=te(t)}),"setDiagramTitle");var se=(0,i.K2)((()=>Qt),"getDiagramTitle");var le=i.Rm;var ce=i.He;var he=ot;var de=nt;var ue=X;var fe=(0,i.K2)((t=>vt(t,he())),"sanitizeText");var pe=Ht;var ge=(0,i.K2)((()=>Vt),"getCommonDb");var me={};var ye=(0,i.K2)(((t,e,r)=>{if(me[t]){le.warn(`Diagram with id ${t} already registered. Overwriting.`)}me[t]=e;if(r){S(t,r)}Yt(t,e.styles);e.injectUtils?.(le,ce,he,fe,pe,ge(),(()=>{}))}),"registerDiagram");var be=(0,i.K2)((t=>{if(t in me){return me[t]}throw new xe(t)}),"getDiagram");var xe=class extends Error{static{(0,i.K2)(this,"DiagramNotFoundError")}constructor(t){super(`Diagram ${t} not found.`)}}},70416:(t,e,r)=>{"use strict";r.d(e,{He:()=>h,K2:()=>o,Rm:()=>c,VA:()=>s});var i=r(78474);var a=r.n(i);var n=Object.defineProperty;var o=(t,e)=>n(t,"name",{value:e,configurable:true});var s=(t,e)=>{for(var r in e)n(t,r,{get:e[r],enumerable:true})};var l={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};var c={trace:o(((...t)=>{}),"trace"),debug:o(((...t)=>{}),"debug"),info:o(((...t)=>{}),"info"),warn:o(((...t)=>{}),"warn"),error:o(((...t)=>{}),"error"),fatal:o(((...t)=>{}),"fatal")};var h=o((function(t="fatal"){let e=l.fatal;if(typeof t==="string"){if(t.toLowerCase()in l){e=l[t]}}else if(typeof t==="number"){e=t}c.trace=()=>{};c.debug=()=>{};c.info=()=>{};c.warn=()=>{};c.error=()=>{};c.fatal=()=>{};if(e<=l.fatal){c.fatal=console.error?console.error.bind(console,d("FATAL"),"color: orange"):console.log.bind(console,"[35m",d("FATAL"))}if(e<=l.error){c.error=console.error?console.error.bind(console,d("ERROR"),"color: orange"):console.log.bind(console,"[31m",d("ERROR"))}if(e<=l.warn){c.warn=console.warn?console.warn.bind(console,d("WARN"),"color: orange"):console.log.bind(console,`[33m`,d("WARN"))}if(e<=l.info){c.info=console.info?console.info.bind(console,d("INFO"),"color: lightblue"):console.log.bind(console,"[34m",d("INFO"))}if(e<=l.debug){c.debug=console.debug?console.debug.bind(console,d("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",d("DEBUG"))}if(e<=l.trace){c.trace=console.debug?console.debug.bind(console,d("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",d("TRACE"))}}),"setLogLevel");var d=o((t=>{const e=a()().format("ss.SSS");return`%c${e} : ${t} : `}),"format")},55750:(t,e,r)=>{"use strict";r.d(e,{Fr:()=>h,GX:()=>c,KX:()=>l,WW:()=>o,ue:()=>n});var i=r(42418);var a=r(70416);var n=(0,a.K2)((t=>{const{handDrawnSeed:e}=(0,i.D7)();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}}),"solidStateFill");var o=(0,a.K2)((t=>{const e=s([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}}),"compileStyles");var s=(0,a.K2)((t=>{const e=new Map;t.forEach((t=>{const[r,i]=t.split(":");e.set(r.trim(),i?.trim())}));return e}),"styles2Map");var l=(0,a.K2)((t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens"),"isLabelStyle");var c=(0,a.K2)((t=>{const{stylesArray:e}=o(t);const r=[];const i=[];const a=[];const n=[];e.forEach((t=>{const e=t[0];if(l(e)){r.push(t.join(":")+" !important")}else{i.push(t.join(":")+" !important");if(e.includes("stroke")){a.push(t.join(":")+" !important")}if(e==="fill"){n.push(t.join(":")+" !important")}}}));return{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:e,borderStyles:a,backgroundStyles:n}}),"styles2String");var h=(0,a.K2)(((t,e)=>{const{themeVariables:r,handDrawnSeed:a}=(0,i.D7)();const{nodeBorder:n,mainBkg:s}=r;const{stylesMap:l}=o(t);const c=Object.assign({roughness:.7,fill:l.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||n,seed:a,strokeWidth:l.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:d(l.get("stroke-dasharray"))},e);return c}),"userNodeOverrides");var d=(0,a.K2)((t=>{if(!t){return[0,0]}const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const t=isNaN(e[0])?0:e[0];return[t,t]}const r=isNaN(e[0])?0:e[0];const i=isNaN(e[1])?0:e[1];return[r,i]}),"getStrokeDashArray")},15164:(t,e,r)=>{"use strict";r.d(e,{O:()=>a});var i=r(70416);var a=(0,i.K2)((({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0;const r=t?.subGraphTitleMargin?.bottom??0;const i=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}}),"getSubGraphTitleMargins")},29479:(t,e,r)=>{"use strict";r.d(e,{D:()=>o});var i=r(42418);var a=r(70416);var n=r(1218);var o=(0,a.K2)((t=>{const{securityLevel:e}=(0,i.D7)();let r=(0,n.Ltv)("body");if(e==="sandbox"){const e=(0,n.Ltv)(`#i${t}`);const i=e.node()?.contentDocument??document;r=(0,n.Ltv)(i.body)}const a=r.select(`#${t}`);return a}),"selectSvgElement")},46103:(t,e,r)=>{"use strict";r.d(e,{Nq:()=>n,RI:()=>l,hq:()=>a});var i=r(70416);var a={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4};var n={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function o(t,e){if(t===void 0||e===void 0){return{angle:0,deltaX:0,deltaY:0}}t=s(t);e=s(e);const[r,i]=[t.x,t.y];const[a,n]=[e.x,e.y];const o=a-r;const l=n-i;return{angle:Math.atan(l/o),deltaX:o,deltaY:l}}(0,i.K2)(o,"calculateDeltaAndAngle");var s=(0,i.K2)((t=>{if(Array.isArray(t)){return{x:t[0],y:t[1]}}return t}),"pointTransformer");var l=(0,i.K2)((t=>({x:(0,i.K2)((function(e,r,i){let n=0;const l=s(i[0]).x<s(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(a,t.arrowTypeStart)){const{angle:e,deltaX:r}=o(i[0],i[1]);n=a[t.arrowTypeStart]*Math.cos(e)*(r>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(a,t.arrowTypeEnd)){const{angle:e,deltaX:r}=o(i[i.length-1],i[i.length-2]);n=a[t.arrowTypeEnd]*Math.cos(e)*(r>=0?1:-1)}const c=Math.abs(s(e).x-s(i[i.length-1]).x);const h=Math.abs(s(e).y-s(i[i.length-1]).y);const d=Math.abs(s(e).x-s(i[0]).x);const u=Math.abs(s(e).y-s(i[0]).y);const f=a[t.arrowTypeStart];const p=a[t.arrowTypeEnd];const g=1;if(c<p&&c>0&&h<p){let t=p+g-c;t*=l==="right"?-1:1;n-=t}if(d<f&&d>0&&u<f){let t=f+g-d;t*=l==="right"?-1:1;n+=t}return s(e).x+n}),"x"),y:(0,i.K2)((function(e,r,i){let n=0;const l=s(i[0]).y<s(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(a,t.arrowTypeStart)){const{angle:e,deltaY:r}=o(i[0],i[1]);n=a[t.arrowTypeStart]*Math.abs(Math.sin(e))*(r>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(a,t.arrowTypeEnd)){const{angle:e,deltaY:r}=o(i[i.length-1],i[i.length-2]);n=a[t.arrowTypeEnd]*Math.abs(Math.sin(e))*(r>=0?1:-1)}const c=Math.abs(s(e).y-s(i[i.length-1]).y);const h=Math.abs(s(e).x-s(i[i.length-1]).x);const d=Math.abs(s(e).y-s(i[0]).y);const u=Math.abs(s(e).x-s(i[0]).x);const f=a[t.arrowTypeStart];const p=a[t.arrowTypeEnd];const g=1;if(c<p&&c>0&&h<p){let t=p+g-c;t*=l==="up"?-1:1;n-=t}if(d<f&&d>0&&u<f){let t=f+g-d;t*=l==="up"?-1:1;n+=t}return s(e).y+n}),"y")})),"getLineFunctionsWithOffset");if(void 0){const{it:t,expect:e,describe:r}=void 0;r("calculateDeltaAndAngle",(()=>{t("should calculate the angle and deltas between two points",(()=>{e(o([0,0],[0,1])).toStrictEqual({angle:1.5707963267948966,deltaX:0,deltaY:1});e(o([1,0],[0,-1])).toStrictEqual({angle:.7853981633974483,deltaX:-1,deltaY:-1});e(o({x:1,y:0},[0,-1])).toStrictEqual({angle:.7853981633974483,deltaX:-1,deltaY:-1});e(o({x:1,y:0},{x:1,y:0})).toStrictEqual({angle:NaN,deltaX:0,deltaY:0})}));t("should calculate the angle and deltas if one point in undefined",(()=>{e(o(void 0,[0,1])).toStrictEqual({angle:0,deltaX:0,deltaY:0});e(o([0,1],void 0)).toStrictEqual({angle:0,deltaX:0,deltaY:0})}))}))}},95035:(t,e,r)=>{"use strict";r.d(e,{W6:()=>et,GZ:()=>nt,WY:()=>N,pC:()=>P,hE:()=>at,Gc:()=>K});var i=r(29131);var a=r(42418);var n=r(70416);const o=/^[a-z0-9]+(-[a-z0-9]+)*$/;const s=(t,e,r,i="")=>{const a=t.split(":");if(t.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;i=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const t=a.pop();const r=a.pop();const n={provider:a.length>0?a[0]:i,prefix:r,name:t};return e&&!l(n)?null:n}const n=a[0];const o=n.split("-");if(o.length>1){const t={provider:i,prefix:o.shift(),name:o.join("-")};return e&&!l(t)?null:t}if(r&&i===""){const t={provider:i,prefix:"",name:n};return e&&!l(t,r)?null:t}return null};const l=(t,e)=>{if(!t)return false;return!!((e&&t.prefix===""||!!t.prefix)&&!!t.name)};const c=Object.freeze({left:0,top:0,width:16,height:16});const h=Object.freeze({rotate:0,vFlip:false,hFlip:false});const d=Object.freeze({...c,...h});const u=Object.freeze({...d,body:"",hidden:false});function f(t,e){const r={};if(!t.hFlip!==!e.hFlip)r.hFlip=true;if(!t.vFlip!==!e.vFlip)r.vFlip=true;const i=((t.rotate||0)+(e.rotate||0))%4;if(i)r.rotate=i;return r}function p(t,e){const r=f(t,e);for(const i in u)if(i in h){if(i in t&&!(i in r))r[i]=h[i]}else if(i in e)r[i]=e[i];else if(i in t)r[i]=t[i];return r}function g(t,e){const r=t.icons;const i=t.aliases||Object.create(null);const a=Object.create(null);function n(t){if(r[t])return a[t]=[];if(!(t in a)){a[t]=null;const e=i[t]&&i[t].parent;const r=e&&n(e);if(r)a[t]=[e].concat(r)}return a[t]}(e||Object.keys(r).concat(Object.keys(i))).forEach(n);return a}function m(t,e,r){const i=t.icons;const a=t.aliases||Object.create(null);let n={};function o(t){n=p(i[t]||a[t],n)}o(e);r.forEach(o);return p(t,n)}function y(t,e){if(t.icons[e])return m(t,e,[]);const r=g(t,[e])[e];return r?m(t,e,r):null}const b=Object.freeze({width:null,height:null});const x=Object.freeze({...b,...h});const C=/(-?[0-9.]*[0-9]+[0-9.]*)/g;const v=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function k(t,e,r){if(e===1)return t;r=r||100;if(typeof t==="number")return Math.ceil(t*e*r)/r;if(typeof t!=="string")return t;const i=t.split(C);if(i===null||!i.length)return t;const a=[];let n=i.shift();let o=v.test(n);while(true){if(o){const t=parseFloat(n);if(isNaN(t))a.push(n);else a.push(Math.ceil(t*e*r)/r)}else a.push(n);n=i.shift();if(n===void 0)return a.join("");o=!o}}function w(t,e="defs"){let r="";const i=t.indexOf("<"+e);while(i>=0){const a=t.indexOf(">",i);const n=t.indexOf("</"+e);if(a===-1||n===-1)break;const o=t.indexOf(">",n);if(o===-1)break;r+=t.slice(a+1,n).trim();t=t.slice(0,i).trim()+t.slice(o+1)}return{defs:r,content:t}}function S(t,e){return t?"<defs>"+t+"</defs>"+e:e}function A(t,e,r){const i=w(t);return S(i.defs,e+i.content+r)}const T=t=>t==="unset"||t==="undefined"||t==="none";function B(t,e){const r={...d,...t};const i={...x,...e};const a={left:r.left,top:r.top,width:r.width,height:r.height};let n=r.body;[r,i].forEach((t=>{const e=[];const r=t.hFlip;const i=t.vFlip;let o=t.rotate;if(r)if(i)o+=2;else{e.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")");e.push("scale(-1 1)");a.top=a.left=0}else if(i){e.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")");e.push("scale(1 -1)");a.top=a.left=0}let s;if(o<0)o-=Math.floor(o/4)*4;o=o%4;switch(o){case 1:s=a.height/2+a.top;e.unshift("rotate(90 "+s.toString()+" "+s.toString()+")");break;case 2:e.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:s=a.width/2+a.left;e.unshift("rotate(-90 "+s.toString()+" "+s.toString()+")");break}if(o%2===1){if(a.left!==a.top){s=a.left;a.left=a.top;a.top=s}if(a.width!==a.height){s=a.width;a.width=a.height;a.height=s}}if(e.length)n=A(n,'<g transform="'+e.join(" ")+'">',"</g>")}));const o=i.width;const s=i.height;const l=a.width;const c=a.height;let h;let u;if(o===null){u=s===null?"1em":s==="auto"?c:s;h=k(u,l/c)}else{h=o==="auto"?l:o;u=s===null?k(h,c/l):s==="auto"?c:s}const f={};const p=(t,e)=>{if(!T(e))f[t]=e.toString()};p("width",h);p("height",u);const g=[a.left,a.top,l,c];f.viewBox=g.join(" ");return{attributes:f,viewBox:g,body:n}}function L(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in e)r+=" "+i+'="'+e[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}const M=/\sid="(\S+)"/g;const F="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let _=0;function $(t,e=F){const r=[];let i;while(i=M.exec(t))r.push(i[1]);if(!r.length)return t;const a="suffix"+(Math.random()*16777216|Date.now()).toString(16);r.forEach((r=>{const i=typeof e==="function"?e(r):e+(_++).toString();const n=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+n+')([")]|\\.[a-z])',"g"),"$1"+i+a+"$3")}));t=t.replace(new RegExp(a,"g"),"");return t}var E=r(1218);var O=r(50926);var D=r(60513);var K={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80};var I=new Map;var R=new Map;var P=(0,n.K2)((t=>{for(const e of t){if(!e.name){throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.')}n.Rm.debug("Registering icon pack:",e.name);if("loader"in e){R.set(e.name,e.loader)}else if("icons"in e){I.set(e.name,e.icons)}else{n.Rm.error("Invalid icon loader:",e);throw new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}}}),"registerIconPacks");var q=(0,n.K2)((async(t,e)=>{const r=s(t,true,e!==void 0);if(!r){throw new Error(`Invalid icon name: ${t}`)}const i=r.prefix||e;if(!i){throw new Error(`Icon name must contain a prefix: ${t}`)}let a=I.get(i);if(!a){const t=R.get(i);if(!t){throw new Error(`Icon set not found: ${r.prefix}`)}try{const e=await t();a={...e,prefix:i};I.set(i,a)}catch(l){n.Rm.error(l);throw new Error(`Failed to load icon set: ${r.prefix}`)}}const o=y(a,r.name);if(!o){throw new Error(`Icon not found: ${t}`)}return o}),"getRegisteredIconData");var z=(0,n.K2)((async t=>{try{await q(t);return true}catch{return false}}),"isIconAvailable");var N=(0,n.K2)((async(t,e,r)=>{let i;try{i=await q(t,e?.fallbackPrefix)}catch(l){n.Rm.error(l);i=K}const o=B(i,e);const s=L($(o.body),{...o.attributes,...r});return(0,a.jZ)(s,(0,a.zj)())}),"getIconSVG");function W(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,"\n");const i=r.replace(/\n{2,}/g,"\n");const a=(0,D.T)(i);if(e===false){return a.replace(/ /g,"&nbsp;")}return a}(0,n.K2)(W,"preprocessMarkdown");function j(t,e={}){const r=W(t,e);const i=O.marked.lexer(r);const a=[[]];let o=0;function s(t,e="normal"){if(t.type==="text"){const r=t.text.split("\n");r.forEach(((t,r)=>{if(r!==0){o++;a.push([])}t.split(" ").forEach((t=>{t=t.replace(/&#39;/g,`'`);if(t){a[o].push({content:t,type:e})}}))}))}else if(t.type==="strong"||t.type==="em"){t.tokens.forEach((e=>{s(e,t.type)}))}else if(t.type==="html"){a[o].push({content:t.text,type:"normal"})}}(0,n.K2)(s,"processNode");i.forEach((t=>{if(t.type==="paragraph"){t.tokens?.forEach((t=>{s(t)}))}else if(t.type==="html"){a[o].push({content:t.text,type:"normal"})}else{a[o].push({content:t.raw,type:"normal"})}}));return a}(0,n.K2)(j,"markdownToLines");function H(t,{markdownAutoWrap:e}={}){const r=O.marked.lexer(t);function i(t){if(t.type==="text"){if(e===false){return t.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;")}return t.text.replace(/\n */g,"<br/>")}else if(t.type==="strong"){return`<strong>${t.tokens?.map(i).join("")}</strong>`}else if(t.type==="em"){return`<em>${t.tokens?.map(i).join("")}</em>`}else if(t.type==="paragraph"){return`<p>${t.tokens?.map(i).join("")}</p>`}else if(t.type==="space"){return""}else if(t.type==="html"){return`${t.text}`}else if(t.type==="escape"){return t.text}n.Rm.warn(`Unsupported markdown: ${t.type}`);return t.raw}(0,n.K2)(i,"output");return r.map(i).join("")}(0,n.K2)(H,"markdownToHTML");function G(t){if(Intl.Segmenter){return[...(new Intl.Segmenter).segment(t)].map((t=>t.segment))}return[...t]}(0,n.K2)(G,"splitTextToChars");function U(t,e){const r=G(e.content);return Y(t,[],r,e.type)}(0,n.K2)(U,"splitWordToFitWidth");function Y(t,e,r,i){if(r.length===0){return[{content:e.join(""),type:i},{content:"",type:i}]}const[a,...n]=r;const o=[...e,a];if(t([{content:o.join(""),type:i}])){return Y(t,o,n,i)}if(e.length===0&&a){e.push(a);r.shift()}return[{content:e.join(""),type:i},{content:r.join(""),type:i}]}(0,n.K2)(Y,"splitWordToFitWidthRecursion");function X(t,e){if(t.some((({content:t})=>t.includes("\n")))){throw new Error("splitLineToFitWidth does not support newlines in the line")}return V(t,e)}(0,n.K2)(X,"splitLineToFitWidth");function V(t,e,r=[],i=[]){if(t.length===0){if(i.length>0){r.push(i)}return r.length>0?r:[]}let a="";if(t[0].content===" "){a=" ";t.shift()}const n=t.shift()??{content:" ",type:"normal"};const o=[...i];if(a!==""){o.push({content:a,type:"normal"})}o.push(n);if(e(o)){return V(t,e,r,o)}if(i.length>0){r.push(i);t.unshift(n)}else if(n.content){const[i,a]=U(e,n);r.push([i]);if(a.content){t.unshift(a)}}return V(t,e,r)}(0,n.K2)(V,"splitLineToFitWidthRecursion");function Z(t,e){if(e){t.attr("style",e)}}(0,n.K2)(Z,"applyStyle");async function Q(t,e,r,i,n=false,o=(0,a.zj)()){const s=t.append("foreignObject");s.attr("width",`${10*r}px`);s.attr("height",`${10*r}px`);const l=s.append("xhtml:div");const c=(0,a.Wi)(e.label)?await(0,a.dj)(e.label.replace(a.Y2.lineBreakRegex,"\n"),o):(0,a.jZ)(e.label,o);const h=e.isNode?"nodeLabel":"edgeLabel";const d=l.append("span");d.html(c);Z(d,e.labelStyle);d.attr("class",`${h} ${i}`);Z(l,e.labelStyle);l.style("display","table-cell");l.style("white-space","nowrap");l.style("line-height","1.5");l.style("max-width",r+"px");l.style("text-align","center");l.attr("xmlns","http://www.w3.org/1999/xhtml");if(n){l.attr("class","labelBkg")}let u=l.node().getBoundingClientRect();if(u.width===r){l.style("display","table");l.style("white-space","break-spaces");l.style("width",r+"px");u=l.node().getBoundingClientRect()}return s.node()}(0,n.K2)(Q,"addHtmlSpan");function J(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}(0,n.K2)(J,"createTspan");function tt(t,e,r){const i=t.append("text");const a=J(i,1,e);it(a,r);const n=a.node().getComputedTextLength();i.remove();return n}(0,n.K2)(tt,"computeWidthOfText");function et(t,e,r){const i=t.append("text");const a=J(i,1,e);it(a,[{content:r,type:"normal"}]);const n=a.node()?.getBoundingClientRect();if(n){i.remove()}return n}(0,n.K2)(et,"computeDimensionOfText");function rt(t,e,r,i=false){const a=1.1;const o=e.append("g");const s=o.insert("rect").attr("class","background").attr("style","stroke: none");const l=o.append("text").attr("y","-10.1");let c=0;for(const h of r){const e=(0,n.K2)((e=>tt(o,a,e)<=t),"checkWidth");const r=e(h)?[h]:X(h,e);for(const t of r){const e=J(l,c,a);it(e,t);c++}}if(i){const t=l.node().getBBox();const e=2;s.attr("x",t.x-e).attr("y",t.y-e).attr("width",t.width+2*e).attr("height",t.height+2*e);return o.node()}else{return l.node()}}(0,n.K2)(rt,"createFormattedText");function it(t,e){t.text("");e.forEach(((e,r)=>{const i=t.append("tspan").attr("font-style",e.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",e.type==="strong"?"bold":"normal");if(r===0){i.text(e.content)}else{i.text(" "+e.content)}}))}(0,n.K2)(it,"updateTextContentAndStyles");async function at(t,e={}){const r=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,((t,i,n)=>{r.push((async()=>{const r=`${i}:${n}`;if(await z(r)){return await N(r,void 0,{class:"label-icon"})}else{return`<i class='${(0,a.jZ)(t,e).replace(":"," ")}'></i>`}})());return t}));const i=await Promise.all(r);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(()=>i.shift()??""))}(0,n.K2)(at,"replaceIconSubstring");var nt=(0,n.K2)((async(t,e="",{style:r="",isTitle:o=false,classes:s="",useHtmlLabels:l=true,isNode:c=true,width:h=200,addSvgBackground:d=false}={},u)=>{n.Rm.debug("XYZ createText",e,r,o,s,l,c,"addSvgBackground: ",d);if(l){const n=H(e,u);const o=await at((0,i.Sm)(n),u);const l=e.replace(/\\\\/g,"\\");const f={isNode:c,label:(0,a.Wi)(e)?l:o,labelStyle:r.replace("fill:","color:")};const p=await Q(t,f,h,s,d,u);return p}else{const i=e.replace(/<br\s*\/?>/g,"<br/>");const a=j(i.replace("<br>","<br/>"),u);const n=rt(h,t,a,e?d:false);if(c){if(/stroke:/.exec(r)){r=r.replace("stroke:","lineColor:")}const t=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,E.Ltv)(n).attr("style",t)}else{const t=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");(0,E.Ltv)(n).select("rect").attr("style",t.replace(/background:/g,"fill:"));const e=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,E.Ltv)(n).select("text").attr("style",e)}return n}}),"createText")},47655:(t,e,r)=>{"use strict";r.d(e,{DA:()=>w,IU:()=>O,U:()=>E,U7:()=>$e,U_:()=>Oe,Zk:()=>d,aP:()=>Me,gh:()=>Ee,lC:()=>f,on:()=>_e});var i=r(15164);var a=r(55750);var n=r(95035);var o=r(29131);var s=r(42418);var l=r(70416);var c=r(1218);var h=r(52274);var d=(0,l.K2)((async(t,e,r)=>{let i;const a=e.useHtmlLabels||(0,s._3)((0,s.D7)()?.htmlLabels);if(!r){i="node default"}else{i=r}const h=t.insert("g").attr("class",i).attr("id",e.domId||e.id);const d=h.insert("g").attr("class","label").attr("style",(0,o.KL)(e.labelStyle));let u;if(e.label===void 0){u=""}else{u=typeof e.label==="string"?e.label:e.label[0]}const f=await(0,n.GZ)(d,(0,s.jZ)((0,o.Sm)(u),(0,s.D7)()),{useHtmlLabels:a,width:e.width||(0,s.D7)().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let p=f.getBBox();const g=(e?.padding??0)/2;if(a){const t=f.children[0];const e=(0,c.Ltv)(f);const r=t.getElementsByTagName("img");if(r){const t=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...r].map((e=>new Promise((r=>{function i(){e.style.display="flex";e.style.flexDirection="column";if(t){const t=(0,s.D7)().fontSize?(0,s.D7)().fontSize:window.getComputedStyle(document.body).fontSize;const r=5;const[i=s.UI.fontSize]=(0,o.I5)(t);const a=i*r+"px";e.style.minWidth=a;e.style.maxWidth=a}else{e.style.width="100%"}r(e)}(0,l.K2)(i,"setupImage");setTimeout((()=>{if(e.complete){i()}}));e.addEventListener("error",i);e.addEventListener("load",i)})))))}p=t.getBoundingClientRect();e.attr("width",p.width);e.attr("height",p.height)}if(a){d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")")}else{d.attr("transform","translate(0, "+-p.height/2+")")}if(e.centerLabel){d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")")}d.insert("rect",":first-child");return{shapeSvg:h,bbox:p,halfPadding:g,label:d}}),"labelHelper");var u=(0,l.K2)((async(t,e,r)=>{const i=r.useHtmlLabels||(0,s._3)((0,s.D7)()?.flowchart?.htmlLabels);const a=t.insert("g").attr("class","label").attr("style",r.labelStyle||"");const l=await(0,n.GZ)(a,(0,s.jZ)((0,o.Sm)(e),(0,s.D7)()),{useHtmlLabels:i,width:r.width||(0,s.D7)()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let h=l.getBBox();const d=r.padding/2;if((0,s._3)((0,s.D7)()?.flowchart?.htmlLabels)){const t=l.children[0];const e=(0,c.Ltv)(l);h=t.getBoundingClientRect();e.attr("width",h.width);e.attr("height",h.height)}if(i){a.attr("transform","translate("+-h.width/2+", "+-h.height/2+")")}else{a.attr("transform","translate(0, "+-h.height/2+")")}if(r.centerLabel){a.attr("transform","translate("+-h.width/2+", "+-h.height/2+")")}a.insert("rect",":first-child");return{shapeSvg:t,bbox:h,halfPadding:d,label:a}}),"insertLabel");var f=(0,l.K2)(((t,e)=>{const r=e.node().getBBox();t.width=r.width;t.height=r.height}),"updateNodeBounds");var p=(0,l.K2)(((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||"")),"getNodeClasses");function g(t){const e=t.map(((t,e)=>`${e===0?"M":"L"}${t.x},${t.y}`));e.push("Z");return e.join(" ")}(0,l.K2)(g,"createPathFromPoints");function m(t,e,r,i,a,n){const o=[];const s=50;const l=r-t;const c=i-e;const h=l/n;const d=2*Math.PI/h;const u=e+c/2;for(let f=0;f<=s;f++){const e=f/s;const r=t+e*l;const i=u+a*Math.sin(d*(r-t));o.push({x:r,y:i})}return o}(0,l.K2)(m,"generateFullSineWavePoints");function y(t,e,r,i,a,n){const o=[];const s=a*Math.PI/180;const l=n*Math.PI/180;const c=l-s;const h=c/(i-1);for(let d=0;d<i;d++){const i=s+d*h;const a=t+r*Math.cos(i);const n=e+r*Math.sin(i);o.push({x:-a,y:-n})}return o}(0,l.K2)(y,"generateCirclePoints");var b=(0,l.K2)(((t,e)=>{var r=t.x;var i=t.y;var a=e.x-r;var n=e.y-i;var o=t.width/2;var s=t.height/2;var l,c;if(Math.abs(n)*o>Math.abs(a)*s){if(n<0){s=-s}l=n===0?0:s*a/n;c=s}else{if(a<0){o=-o}l=o;c=a===0?0:o*n/a}return{x:r+l,y:i+c}}),"intersectRect");var x=b;function C(t,e){if(e){t.attr("style",e)}}(0,l.K2)(C,"applyStyle");async function v(t){const e=(0,c.Ltv)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject"));const r=e.append("xhtml:div");const i=(0,s.D7)();let a=t.label;if(t.label&&(0,s.Wi)(t.label)){a=await(0,s.dj)(t.label.replace(s.Y2.lineBreakRegex,"\n"),i)}const n=t.isNode?"nodeLabel":"edgeLabel";const o='<span class="'+n+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+a+"</span>";r.html((0,s.jZ)(o,i));C(r,t.labelStyle);r.style("display","inline-block");r.style("padding-right","1px");r.style("white-space","nowrap");r.attr("xmlns","http://www.w3.org/1999/xhtml");return e.node()}(0,l.K2)(v,"addHtmlLabel");var k=(0,l.K2)((async(t,e,r,i)=>{let a=t||"";if(typeof a==="object"){a=a[0]}if((0,s._3)((0,s.D7)().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />");l.Rm.info("vertexText"+a);const t={isNode:i,label:(0,o.Sm)(a).replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`)),labelStyle:e?e.replace("fill:","color:"):e};let r=await v(t);return r}else{const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",e.replace("color:","fill:"));let i=[];if(typeof a==="string"){i=a.split(/\\n|\n|<br\s*\/?>/gi)}else if(Array.isArray(a)){i=a}else{i=[]}for(const e of i){const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");i.setAttribute("dy","1em");i.setAttribute("x","0");if(r){i.setAttribute("class","title-row")}else{i.setAttribute("class","row")}i.textContent=e.trim();t.appendChild(i)}return t}}),"createLabel");var w=k;var S=(0,l.K2)(((t,e,r,i,a)=>["M",t+a,e,"H",t+r-a,"A",a,a,0,0,1,t+r,e+a,"V",e+i-a,"A",a,a,0,0,1,t+r-a,e+i,"H",t+a,"A",a,a,0,0,1,t,e+i-a,"V",e+a,"A",a,a,0,0,1,t+a,e,"Z"].join(" ")),"createRoundedRectPathD");var A=(0,l.K2)((async(t,e)=>{l.Rm.info("Creating subgraph rect for ",e.id,e);const r=(0,s.D7)();const{themeVariables:o,handDrawnSeed:d}=r;const{clusterBkg:u,clusterBorder:f}=o;const{labelStyles:p,nodeStyles:g,borderStyles:m,backgroundStyles:y}=(0,a.GX)(e);const b=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look);const C=(0,s._3)(r.flowchart.htmlLabels);const v=b.insert("g").attr("class","cluster-label ");const k=await(0,n.GZ)(v,e.label,{style:e.labelStyle,useHtmlLabels:C,isNode:true});let w=k.getBBox();if((0,s._3)(r.flowchart.htmlLabels)){const t=k.children[0];const e=(0,c.Ltv)(k);w=t.getBoundingClientRect();e.attr("width",w.width);e.attr("height",w.height)}const A=e.width<=w.width+e.padding?w.width+e.padding:e.width;if(e.width<=w.width+e.padding){e.diff=(A-e.width)/2-e.padding}else{e.diff=-e.padding}const T=e.height;const B=e.x-A/2;const L=e.y-T/2;l.Rm.trace("Data ",e,JSON.stringify(e));let M;if(e.look==="handDrawn"){const t=h.A.svg(b);const r=(0,a.Fr)(e,{roughness:.7,fill:u,stroke:f,fillWeight:3,seed:d});const i=t.path(S(B,L,A,T,0),r);M=b.insert((()=>{l.Rm.debug("Rough node insert CXC",i);return i}),":first-child");M.select("path:nth-child(2)").attr("style",m.join(";"));M.select("path").attr("style",y.join(";").replace("fill","stroke"))}else{M=b.insert("rect",":first-child");M.attr("style",g).attr("rx",e.rx).attr("ry",e.ry).attr("x",B).attr("y",L).attr("width",A).attr("height",T)}const{subGraphTitleTopMargin:F}=(0,i.O)(r);v.attr("transform",`translate(${e.x-w.width/2}, ${e.y-e.height/2+F})`);if(p){const t=v.select("span");if(t){t.attr("style",p)}}const _=M.node().getBBox();e.offsetX=0;e.width=_.width;e.height=_.height;e.offsetY=w.height-e.padding/2;e.intersect=function(t){return x(e,t)};return{cluster:b,labelBBox:w}}),"rect");var T=(0,l.K2)(((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id);const i=r.insert("rect",":first-child");const a=0*e.padding;const n=a/2;i.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-n).attr("y",e.y-e.height/2-n).attr("width",e.width+a).attr("height",e.height+a).attr("fill","none");const o=i.node().getBBox();e.width=o.width;e.height=o.height;e.intersect=function(t){return x(e,t)};return{cluster:r,labelBBox:{width:0,height:0}}}),"noteGroup");var B=(0,l.K2)((async(t,e)=>{const r=(0,s.D7)();const{themeVariables:i,handDrawnSeed:a}=r;const{altBackground:n,compositeBackground:o,compositeTitleBackground:l,nodeBorder:d}=i;const u=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look);const f=u.insert("g",":first-child");const p=u.insert("g").attr("class","cluster-label");let g=u.append("rect");const m=p.node().appendChild(await w(e.label,e.labelStyle,void 0,true));let y=m.getBBox();if((0,s._3)(r.flowchart.htmlLabels)){const t=m.children[0];const e=(0,c.Ltv)(m);y=t.getBoundingClientRect();e.attr("width",y.width);e.attr("height",y.height)}const b=0*e.padding;const C=b/2;const v=(e.width<=y.width+e.padding?y.width+e.padding:e.width)+b;if(e.width<=y.width+e.padding){e.diff=(v-e.width)/2-e.padding}else{e.diff=-e.padding}const k=e.height+b;const A=e.height+b-y.height-6;const T=e.x-v/2;const B=e.y-k/2;e.width=v;const L=e.y-e.height/2-C+y.height+2;let M;if(e.look==="handDrawn"){const t=e.cssClasses.includes("statediagram-cluster-alt");const r=h.A.svg(u);const i=e.rx||e.ry?r.path(S(T,B,v,k,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:d,seed:a}):r.rectangle(T,B,v,k,{seed:a});M=u.insert((()=>i),":first-child");const s=r.rectangle(T,L,v,A,{fill:t?n:o,fillStyle:t?"hachure":"solid",stroke:d,seed:a});M=u.insert((()=>i),":first-child");g=u.insert((()=>s))}else{M=f.insert("rect",":first-child");const t="outer";M.attr("class",t).attr("x",T).attr("y",B).attr("width",v).attr("height",k).attr("data-look",e.look);g.attr("class","inner").attr("x",T).attr("y",L).attr("width",v).attr("height",A)}p.attr("transform",`translate(${e.x-y.width/2}, ${B+1-((0,s._3)(r.flowchart.htmlLabels)?0:3)})`);const F=M.node().getBBox();e.height=F.height;e.offsetX=0;e.offsetY=y.height-e.padding/2;e.labelBBox=y;e.intersect=function(t){return x(e,t)};return{cluster:u,labelBBox:y}}),"roundedWithTitle");var L=(0,l.K2)((async(t,e)=>{l.Rm.info("Creating subgraph rect for ",e.id,e);const r=(0,s.D7)();const{themeVariables:o,handDrawnSeed:d}=r;const{clusterBkg:u,clusterBorder:f}=o;const{labelStyles:p,nodeStyles:g,borderStyles:m,backgroundStyles:y}=(0,a.GX)(e);const b=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look);const C=(0,s._3)(r.flowchart.htmlLabels);const v=b.insert("g").attr("class","cluster-label ");const k=await(0,n.GZ)(v,e.label,{style:e.labelStyle,useHtmlLabels:C,isNode:true,width:e.width});let w=k.getBBox();if((0,s._3)(r.flowchart.htmlLabels)){const t=k.children[0];const e=(0,c.Ltv)(k);w=t.getBoundingClientRect();e.attr("width",w.width);e.attr("height",w.height)}const A=e.width<=w.width+e.padding?w.width+e.padding:e.width;if(e.width<=w.width+e.padding){e.diff=(A-e.width)/2-e.padding}else{e.diff=-e.padding}const T=e.height;const B=e.x-A/2;const L=e.y-T/2;l.Rm.trace("Data ",e,JSON.stringify(e));let M;if(e.look==="handDrawn"){const t=h.A.svg(b);const r=(0,a.Fr)(e,{roughness:.7,fill:u,stroke:f,fillWeight:4,seed:d});const i=t.path(S(B,L,A,T,e.rx),r);M=b.insert((()=>{l.Rm.debug("Rough node insert CXC",i);return i}),":first-child");M.select("path:nth-child(2)").attr("style",m.join(";"));M.select("path").attr("style",y.join(";").replace("fill","stroke"))}else{M=b.insert("rect",":first-child");M.attr("style",g).attr("rx",e.rx).attr("ry",e.ry).attr("x",B).attr("y",L).attr("width",A).attr("height",T)}const{subGraphTitleTopMargin:F}=(0,i.O)(r);v.attr("transform",`translate(${e.x-w.width/2}, ${e.y-e.height/2+F})`);if(p){const t=v.select("span");if(t){t.attr("style",p)}}const _=M.node().getBBox();e.offsetX=0;e.width=_.width;e.height=_.height;e.offsetY=w.height-e.padding/2;e.intersect=function(t){return x(e,t)};return{cluster:b,labelBBox:w}}),"kanbanSection");var M=(0,l.K2)(((t,e)=>{const r=(0,s.D7)();const{themeVariables:i,handDrawnSeed:a}=r;const{nodeBorder:n}=i;const o=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look);const l=o.insert("g",":first-child");const c=0*e.padding;const d=e.width+c;e.diff=-e.padding;const u=e.height+c;const f=e.x-d/2;const p=e.y-u/2;e.width=d;let g;if(e.look==="handDrawn"){const t=h.A.svg(o);const e=t.rectangle(f,p,d,u,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:n,seed:a});g=o.insert((()=>e),":first-child")}else{g=l.insert("rect",":first-child");const t="divider";g.attr("class",t).attr("x",f).attr("y",p).attr("width",d).attr("height",u).attr("data-look",e.look)}const m=g.node().getBBox();e.height=m.height;e.offsetX=0;e.offsetY=0;e.intersect=function(t){return x(e,t)};return{cluster:o,labelBBox:{}}}),"divider");var F=A;var _={rect:A,squareRect:F,roundedWithTitle:B,noteGroup:T,divider:M,kanbanSection:L};var $=new Map;var E=(0,l.K2)((async(t,e)=>{const r=e.shape||"rect";const i=await _[r](t,e);$.set(e.id,i);return i}),"insertCluster");var O=(0,l.K2)((()=>{$=new Map}),"clear");function D(t,e){return t.intersect(e)}(0,l.K2)(D,"intersectNode");var K=D;function I(t,e,r,i){var a=t.x;var n=t.y;var o=a-i.x;var s=n-i.y;var l=Math.sqrt(e*e*s*s+r*r*o*o);var c=Math.abs(e*r*o/l);if(i.x<a){c=-c}var h=Math.abs(e*r*s/l);if(i.y<n){h=-h}return{x:a+c,y:n+h}}(0,l.K2)(I,"intersectEllipse");var R=I;function P(t,e,r){return R(t,e,e,r)}(0,l.K2)(P,"intersectCircle");var q=P;function z(t,e,r,i){{const a=e.y-t.y;const n=t.x-e.x;const o=e.x*t.y-t.x*e.y;const s=a*r.x+n*r.y+o;const l=a*i.x+n*i.y+o;const c=1e-6;if(s!==0&&l!==0&&N(s,l)){return}const h=i.y-r.y;const d=r.x-i.x;const u=i.x*r.y-r.x*i.y;const f=h*t.x+d*t.y+u;const p=h*e.x+d*e.y+u;if(Math.abs(f)<c&&Math.abs(p)<c&&N(f,p)){return}const g=a*d-h*n;if(g===0){return}const m=Math.abs(g/2);let y=n*u-d*o;const b=y<0?(y-m)/g:(y+m)/g;y=h*o-a*u;const x=y<0?(y-m)/g:(y+m)/g;return{x:b,y:x}}}(0,l.K2)(z,"intersectLine");function N(t,e){return t*e>0}(0,l.K2)(N,"sameSign");var W=z;function j(t,e,r){let i=t.x;let a=t.y;let n=[];let o=Number.POSITIVE_INFINITY;let s=Number.POSITIVE_INFINITY;if(typeof e.forEach==="function"){e.forEach((function(t){o=Math.min(o,t.x);s=Math.min(s,t.y)}))}else{o=Math.min(o,e.x);s=Math.min(s,e.y)}let l=i-t.width/2-o;let c=a-t.height/2-s;for(let h=0;h<e.length;h++){let i=e[h];let a=e[h<e.length-1?h+1:0];let o=W(t,r,{x:l+i.x,y:c+i.y},{x:l+a.x,y:c+a.y});if(o){n.push(o)}}if(!n.length){return t}if(n.length>1){n.sort((function(t,e){let i=t.x-r.x;let a=t.y-r.y;let n=Math.sqrt(i*i+a*a);let o=e.x-r.x;let s=e.y-r.y;let l=Math.sqrt(o*o+s*s);return n<l?-1:n===l?0:1}))}return n[0]}(0,l.K2)(j,"intersectPolygon");var H=j;var G={node:K,circle:q,ellipse:R,polygon:H,rect:x};function U(t,e){const{labelStyles:r}=(0,a.GX)(e);e.labelStyle=r;const i=p(e);let n=i;if(!i){n="anchor"}const s=t.insert("g").attr("class",n).attr("id",e.domId||e.id);const c=1;const{cssStyles:d}=e;const u=h.A.svg(s);const g=(0,a.Fr)(e,{fill:"black",stroke:"none",fillStyle:"solid"});if(e.look!=="handDrawn"){g.roughness=0}const m=u.circle(0,0,c*2,g);const y=s.insert((()=>m),":first-child");y.attr("class","anchor").attr("style",(0,o.KL)(d));f(e,y);e.intersect=function(t){l.Rm.info("Circle intersect",e,c,t);return G.circle(e,c,t)};return s}(0,l.K2)(U,"anchor");function Y(t,e,r,i,a,n,o){const s=20;const l=(t+r)/2;const c=(e+i)/2;const h=Math.atan2(i-e,r-t);const d=(r-t)/2;const u=(i-e)/2;const f=d/a;const p=u/n;const g=Math.sqrt(f**2+p**2);if(g>1){throw new Error("The given radii are too small to create an arc between the points.")}const m=Math.sqrt(1-g**2);const y=l+m*n*Math.sin(h)*(o?-1:1);const b=c-m*a*Math.cos(h)*(o?-1:1);const x=Math.atan2((e-b)/n,(t-y)/a);const C=Math.atan2((i-b)/n,(r-y)/a);let v=C-x;if(o&&v<0){v+=2*Math.PI}if(!o&&v>0){v-=2*Math.PI}const k=[];for(let w=0;w<s;w++){const t=w/(s-1);const e=x+t*v;const r=y+a*Math.cos(e);const i=b+n*Math.sin(e);k.push({x:r,y:i})}return k}(0,l.K2)(Y,"generateArcPoints");async function X(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=o.width+e.padding+20;const l=o.height+e.padding;const c=l/2;const u=c/(2.5+l/50);const{cssStyles:m}=e;const y=[{x:s/2,y:-l/2},{x:-s/2,y:-l/2},...Y(-s/2,-l/2,-s/2,l/2,u,c,false),{x:s/2,y:l/2},...Y(s/2,l/2,s/2,-l/2,u,c,true)];const b=h.A.svg(n);const x=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const C=g(y);const v=b.path(C,x);const k=n.insert((()=>v),":first-child");k.attr("class","basic label-container");if(m&&e.look!=="handDrawn"){k.selectAll("path").attr("style",m)}if(i&&e.look!=="handDrawn"){k.selectAll("path").attr("style",i)}k.attr("transform",`translate(${u/2}, 0)`);f(e,k);e.intersect=function(t){const r=G.polygon(e,y,t);return r};return n}(0,l.K2)(X,"bowTieRect");function V(t,e,r,i){return t.insert("polygon",":first-child").attr("points",i.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}(0,l.K2)(V,"insertPolygonShape");async function Z(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=o.height+e.padding;const l=12;const c=o.width+e.padding+l;const u=0;const m=c;const y=-s;const b=0;const x=[{x:u+l,y},{x:m,y},{x:m,y:b},{x:u,y:b},{x:u,y:y+l},{x:u+l,y}];let C;const{cssStyles:v}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=g(x);const o=t.path(i,r);C=n.insert((()=>o),":first-child").attr("transform",`translate(${-c/2}, ${s/2})`);if(v){C.attr("style",v)}}else{C=V(n,c,s,x)}if(i){C.attr("style",i)}f(e,C);e.intersect=function(t){return G.polygon(e,x,t)};return n}(0,l.K2)(Z,"card");function Q(t,e){const{nodeStyles:r}=(0,a.GX)(e);e.label="";const i=t.insert("g").attr("class",p(e)).attr("id",e.domId??e.id);const{cssStyles:n}=e;const o=Math.max(28,e.width??0);const s=[{x:0,y:o/2},{x:o/2,y:0},{x:0,y:-o/2},{x:-o/2,y:0}];const l=h.A.svg(i);const c=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){c.roughness=0;c.fillStyle="solid"}const d=g(s);const u=l.path(d,c);const f=i.insert((()=>u),":first-child");if(n&&e.look!=="handDrawn"){f.selectAll("path").attr("style",n)}if(r&&e.look!=="handDrawn"){f.selectAll("path").attr("style",r)}e.width=28;e.height=28;e.intersect=function(t){return G.polygon(e,s,t)};return i}(0,l.K2)(Q,"choice");async function J(t,e,r){const{labelStyles:i,nodeStyles:n}=(0,a.GX)(e);e.labelStyle=i;const{shapeSvg:s,bbox:c,halfPadding:u}=await d(t,e,p(e));const g=r?.padding??u;const m=c.width/2+g;let y;const{cssStyles:b}=e;if(e.look==="handDrawn"){const t=h.A.svg(s);const r=(0,a.Fr)(e,{});const i=t.circle(0,0,m*2,r);y=s.insert((()=>i),":first-child");y.attr("class","basic label-container").attr("style",(0,o.KL)(b))}else{y=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",m).attr("cx",0).attr("cy",0)}f(e,y);e.calcIntersect=function(t,e){const r=t.width/2;return G.circle(t,r,e)};e.intersect=function(t){l.Rm.info("Circle intersect",e,m,t);return G.circle(e,m,t)};return s}(0,l.K2)(J,"circle");function tt(t){const e=Math.cos(Math.PI/4);const r=Math.sin(Math.PI/4);const i=t*2;const a={x:i/2*e,y:i/2*r};const n={x:-(i/2)*e,y:i/2*r};const o={x:-(i/2)*e,y:-(i/2)*r};const s={x:i/2*e,y:-(i/2)*r};return`M ${n.x},${n.y} L ${s.x},${s.y}\n                   M ${a.x},${a.y} L ${o.x},${o.y}`}(0,l.K2)(tt,"createLine");function et(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;e.label="";const n=t.insert("g").attr("class",p(e)).attr("id",e.domId??e.id);const o=Math.max(30,e?.width??0);const{cssStyles:s}=e;const c=h.A.svg(n);const d=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){d.roughness=0;d.fillStyle="solid"}const u=c.circle(0,0,o*2,d);const g=tt(o);const m=c.path(g,d);const y=n.insert((()=>u),":first-child");y.insert((()=>m));if(s&&e.look!=="handDrawn"){y.selectAll("path").attr("style",s)}if(i&&e.look!=="handDrawn"){y.selectAll("path").attr("style",i)}f(e,y);e.intersect=function(t){l.Rm.info("crossedCircle intersect",e,{radius:o,point:t});const r=G.circle(e,o,t);return r};return n}(0,l.K2)(et,"crossedCircle");function rt(t,e,r,i=100,a=0,n=180){const o=[];const s=a*Math.PI/180;const l=n*Math.PI/180;const c=l-s;const h=c/(i-1);for(let d=0;d<i;d++){const i=s+d*h;const a=t+r*Math.cos(i);const n=e+r*Math.sin(i);o.push({x:-a,y:-n})}return o}(0,l.K2)(rt,"generateCirclePoints");async function it(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=o.width+(e.padding??0);const c=o.height+(e.padding??0);const u=Math.max(5,c*.1);const{cssStyles:m}=e;const y=[...rt(l/2,-c/2,u,30,-90,0),{x:-l/2-u,y:u},...rt(l/2+u*2,-u,u,20,-180,-270),...rt(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:-c/2},...rt(l/2,c/2,u,20,0,90)];const b=[{x:l/2,y:-c/2-u},{x:-l/2,y:-c/2-u},...rt(l/2,-c/2,u,20,-90,0),{x:-l/2-u,y:-u},...rt(l/2+l*.1,-u,u,20,-180,-270),...rt(l/2+l*.1,u,u,20,-90,-180),{x:-l/2-u,y:c/2},...rt(l/2,c/2,u,20,0,90),{x:-l/2,y:c/2+u},{x:l/2,y:c/2+u}];const x=h.A.svg(n);const C=(0,a.Fr)(e,{fill:"none"});if(e.look!=="handDrawn"){C.roughness=0;C.fillStyle="solid"}const v=g(y);const k=v.replace("Z","");const w=x.path(k,C);const S=g(b);const A=x.path(S,{...C});const T=n.insert("g",":first-child");T.insert((()=>A),":first-child").attr("stroke-opacity",0);T.insert((()=>w),":first-child");T.attr("class","text");if(m&&e.look!=="handDrawn"){T.selectAll("path").attr("style",m)}if(i&&e.look!=="handDrawn"){T.selectAll("path").attr("style",i)}T.attr("transform",`translate(${u}, 0)`);s.attr("transform",`translate(${-l/2+u-(o.x-(o.left??0))},${-c/2+(e.padding??0)/2-(o.y-(o.top??0))})`);f(e,T);e.intersect=function(t){const r=G.polygon(e,b,t);return r};return n}(0,l.K2)(it,"curlyBraceLeft");function at(t,e,r,i=100,a=0,n=180){const o=[];const s=a*Math.PI/180;const l=n*Math.PI/180;const c=l-s;const h=c/(i-1);for(let d=0;d<i;d++){const i=s+d*h;const a=t+r*Math.cos(i);const n=e+r*Math.sin(i);o.push({x:a,y:n})}return o}(0,l.K2)(at,"generateCirclePoints");async function nt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=o.width+(e.padding??0);const c=o.height+(e.padding??0);const u=Math.max(5,c*.1);const{cssStyles:m}=e;const y=[...at(l/2,-c/2,u,20,-90,0),{x:l/2+u,y:-u},...at(l/2+u*2,-u,u,20,-180,-270),...at(l/2+u*2,u,u,20,-90,-180),{x:l/2+u,y:c/2},...at(l/2,c/2,u,20,0,90)];const b=[{x:-l/2,y:-c/2-u},{x:l/2,y:-c/2-u},...at(l/2,-c/2,u,20,-90,0),{x:l/2+u,y:-u},...at(l/2+u*2,-u,u,20,-180,-270),...at(l/2+u*2,u,u,20,-90,-180),{x:l/2+u,y:c/2},...at(l/2,c/2,u,20,0,90),{x:l/2,y:c/2+u},{x:-l/2,y:c/2+u}];const x=h.A.svg(n);const C=(0,a.Fr)(e,{fill:"none"});if(e.look!=="handDrawn"){C.roughness=0;C.fillStyle="solid"}const v=g(y);const k=v.replace("Z","");const w=x.path(k,C);const S=g(b);const A=x.path(S,{...C});const T=n.insert("g",":first-child");T.insert((()=>A),":first-child").attr("stroke-opacity",0);T.insert((()=>w),":first-child");T.attr("class","text");if(m&&e.look!=="handDrawn"){T.selectAll("path").attr("style",m)}if(i&&e.look!=="handDrawn"){T.selectAll("path").attr("style",i)}T.attr("transform",`translate(${-u}, 0)`);s.attr("transform",`translate(${-l/2+(e.padding??0)/2-(o.x-(o.left??0))},${-c/2+(e.padding??0)/2-(o.y-(o.top??0))})`);f(e,T);e.intersect=function(t){const r=G.polygon(e,b,t);return r};return n}(0,l.K2)(nt,"curlyBraceRight");function ot(t,e,r,i=100,a=0,n=180){const o=[];const s=a*Math.PI/180;const l=n*Math.PI/180;const c=l-s;const h=c/(i-1);for(let d=0;d<i;d++){const i=s+d*h;const a=t+r*Math.cos(i);const n=e+r*Math.sin(i);o.push({x:-a,y:-n})}return o}(0,l.K2)(ot,"generateCirclePoints");async function st(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=o.width+(e.padding??0);const c=o.height+(e.padding??0);const u=Math.max(5,c*.1);const{cssStyles:m}=e;const y=[...ot(l/2,-c/2,u,30,-90,0),{x:-l/2-u,y:u},...ot(l/2+u*2,-u,u,20,-180,-270),...ot(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:-c/2},...ot(l/2,c/2,u,20,0,90)];const b=[...ot(-l/2+u+u/2,-c/2,u,20,-90,-180),{x:l/2-u/2,y:u},...ot(-l/2-u/2,-u,u,20,0,90),...ot(-l/2-u/2,u,u,20,-90,0),{x:l/2-u/2,y:-u},...ot(-l/2+u+u/2,c/2,u,30,-180,-270)];const x=[{x:l/2,y:-c/2-u},{x:-l/2,y:-c/2-u},...ot(l/2,-c/2,u,20,-90,0),{x:-l/2-u,y:-u},...ot(l/2+u*2,-u,u,20,-180,-270),...ot(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:c/2},...ot(l/2,c/2,u,20,0,90),{x:-l/2,y:c/2+u},{x:l/2-u-u/2,y:c/2+u},...ot(-l/2+u+u/2,-c/2,u,20,-90,-180),{x:l/2-u/2,y:u},...ot(-l/2-u/2,-u,u,20,0,90),...ot(-l/2-u/2,u,u,20,-90,0),{x:l/2-u/2,y:-u},...ot(-l/2+u+u/2,c/2,u,30,-180,-270)];const C=h.A.svg(n);const v=(0,a.Fr)(e,{fill:"none"});if(e.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=g(y);const w=k.replace("Z","");const S=C.path(w,v);const A=g(b);const T=A.replace("Z","");const B=C.path(T,v);const L=g(x);const M=C.path(L,{...v});const F=n.insert("g",":first-child");F.insert((()=>M),":first-child").attr("stroke-opacity",0);F.insert((()=>S),":first-child");F.insert((()=>B),":first-child");F.attr("class","text");if(m&&e.look!=="handDrawn"){F.selectAll("path").attr("style",m)}if(i&&e.look!=="handDrawn"){F.selectAll("path").attr("style",i)}F.attr("transform",`translate(${u-u/4}, 0)`);s.attr("transform",`translate(${-l/2+(e.padding??0)/2-(o.x-(o.left??0))},${-c/2+(e.padding??0)/2-(o.y-(o.top??0))})`);f(e,F);e.intersect=function(t){const r=G.polygon(e,x,t);return r};return n}(0,l.K2)(st,"curlyBraces");async function lt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=80,l=20;const c=Math.max(s,(o.width+(e.padding??0)*2)*1.25,e?.width??0);const u=Math.max(l,o.height+(e.padding??0)*2,e?.height??0);const m=u/2;const{cssStyles:b}=e;const x=h.A.svg(n);const C=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){C.roughness=0;C.fillStyle="solid"}const v=c,k=u;const w=v-m;const S=k/4;const A=[{x:w,y:0},{x:S,y:0},{x:0,y:k/2},{x:S,y:k},{x:w,y:k},...y(-w,-k/2,m,50,270,90)];const T=g(A);const B=x.path(T,C);const L=n.insert((()=>B),":first-child");L.attr("class","basic label-container");if(b&&e.look!=="handDrawn"){L.selectChildren("path").attr("style",b)}if(i&&e.look!=="handDrawn"){L.selectChildren("path").attr("style",i)}L.attr("transform",`translate(${-c/2}, ${-u/2})`);f(e,L);e.intersect=function(t){const r=G.polygon(e,A,t);return r};return n}(0,l.K2)(lt,"curvedTrapezoid");var ct=(0,l.K2)(((t,e,r,i,a,n)=>[`M${t},${e+n}`,`a${a},${n} 0,0,0 ${r},0`,`a${a},${n} 0,0,0 ${-r},0`,`l0,${i}`,`a${a},${n} 0,0,0 ${r},0`,`l0,${-i}`].join(" ")),"createCylinderPathD");var ht=(0,l.K2)(((t,e,r,i,a,n)=>[`M${t},${e+n}`,`M${t+r},${e+n}`,`a${a},${n} 0,0,0 ${-r},0`,`l0,${i}`,`a${a},${n} 0,0,0 ${r},0`,`l0,${-i}`].join(" ")),"createOuterCylinderPathD");var dt=(0,l.K2)(((t,e,r,i,a,n)=>[`M${t-r/2},${-i/2}`,`a${a},${n} 0,0,0 ${r},0`].join(" ")),"createInnerCylinderPathD");async function ut(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:s,label:l}=await d(t,e,p(e));const c=Math.max(s.width+e.padding,e.width??0);const u=c/2;const g=u/(2.5+c/50);const m=Math.max(s.height+g+e.padding,e.height??0);let y;const{cssStyles:b}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=ht(0,0,c,m,u,g);const i=dt(0,g,c,m,u,g);const o=t.path(r,(0,a.Fr)(e,{}));const s=t.path(i,(0,a.Fr)(e,{fill:"none"}));y=n.insert((()=>s),":first-child");y=n.insert((()=>o),":first-child");y.attr("class","basic label-container");if(b){y.attr("style",b)}}else{const t=ct(0,0,c,m,u,g);y=n.insert("path",":first-child").attr("d",t).attr("class","basic label-container").attr("style",(0,o.KL)(b)).attr("style",i)}y.attr("label-offset-y",g);y.attr("transform",`translate(${-c/2}, ${-(m/2+g)})`);f(e,y);l.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`);e.intersect=function(t){const r=G.rect(e,t);const i=r.x-(e.x??0);if(u!=0&&(Math.abs(i)<(e.width??0)/2||Math.abs(i)==(e.width??0)/2&&Math.abs(r.y-(e.y??0))>(e.height??0)/2-g)){let a=g*g*(1-i*i/(u*u));if(a>0){a=Math.sqrt(a)}a=g-a;if(t.y-(e.y??0)>0){a=-a}r.y+=a}return r};return n}(0,l.K2)(ut,"cylinder");async function ft(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=o.width+e.padding;const c=o.height+e.padding;const u=c*.2;const g=-l/2;const m=-c/2-u/2;const{cssStyles:y}=e;const b=h.A.svg(n);const x=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const C=[{x:g,y:m+u},{x:-g,y:m+u},{x:-g,y:-m},{x:g,y:-m},{x:g,y:m},{x:-g,y:m},{x:-g,y:m+u}];const v=b.polygon(C.map((t=>[t.x,t.y])),x);const k=n.insert((()=>v),":first-child");k.attr("class","basic label-container");if(y&&e.look!=="handDrawn"){k.selectAll("path").attr("style",y)}if(i&&e.look!=="handDrawn"){k.selectAll("path").attr("style",i)}s.attr("transform",`translate(${g+(e.padding??0)/2-(o.x-(o.left??0))}, ${m+u+(e.padding??0)/2-(o.y-(o.top??0))})`);f(e,k);e.intersect=function(t){const r=G.rect(e,t);return r};return n}(0,l.K2)(ft,"dividedRectangle");async function pt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:s,halfPadding:c}=await d(t,e,p(e));const u=5;const g=s.width/2+c+u;const m=s.width/2+c;let y;const{cssStyles:b}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{roughness:.2,strokeWidth:2.5});const i=(0,a.Fr)(e,{roughness:.2,strokeWidth:1.5});const s=t.circle(0,0,g*2,r);const l=t.circle(0,0,m*2,i);y=n.insert("g",":first-child");y.attr("class",(0,o.KL)(e.cssClasses)).attr("style",(0,o.KL)(b));y.node()?.appendChild(s);y.node()?.appendChild(l)}else{y=n.insert("g",":first-child");const t=y.insert("circle",":first-child");const e=y.insert("circle");y.attr("class","basic label-container").attr("style",i);t.attr("class","outer-circle").attr("style",i).attr("r",g).attr("cx",0).attr("cy",0);e.attr("class","inner-circle").attr("style",i).attr("r",m).attr("cx",0).attr("cy",0)}f(e,y);e.intersect=function(t){l.Rm.info("DoubleCircle intersect",e,g,t);return G.circle(e,g,t)};return n}(0,l.K2)(pt,"doublecircle");function gt(t,e,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=(0,a.GX)(e);e.label="";e.labelStyle=i;const o=t.insert("g").attr("class",p(e)).attr("id",e.domId??e.id);const s=7;const{cssStyles:c}=e;const d=h.A.svg(o);const{nodeBorder:u}=r;const g=(0,a.Fr)(e,{fillStyle:"solid"});if(e.look!=="handDrawn"){g.roughness=0}const m=d.circle(0,0,s*2,g);const y=o.insert((()=>m),":first-child");y.selectAll("path").attr("style",`fill: ${u} !important;`);if(c&&c.length>0&&e.look!=="handDrawn"){y.selectAll("path").attr("style",c)}if(n&&e.look!=="handDrawn"){y.selectAll("path").attr("style",n)}f(e,y);e.intersect=function(t){l.Rm.info("filledCircle intersect",e,{radius:s,point:t});const r=G.circle(e,s,t);return r};return o}(0,l.K2)(gt,"filledCircle");async function mt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const c=o.width+(e.padding??0);const u=c+o.height;const m=c+o.height;const y=[{x:0,y:-u},{x:m,y:-u},{x:m/2,y:0}];const{cssStyles:b}=e;const x=h.A.svg(n);const C=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){C.roughness=0;C.fillStyle="solid"}const v=g(y);const k=x.path(v,C);const w=n.insert((()=>k),":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);if(b&&e.look!=="handDrawn"){w.selectChildren("path").attr("style",b)}if(i&&e.look!=="handDrawn"){w.selectChildren("path").attr("style",i)}e.width=c;e.height=u;f(e,w);s.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-u/2+(e.padding??0)/2+(o.y-(o.top??0))})`);e.intersect=function(t){l.Rm.info("Triangle intersect",e,y,t);return G.polygon(e,y,t)};return n}(0,l.K2)(mt,"flippedTriangle");function yt(t,e,{dir:r,config:{state:i,themeVariables:n}}){const{nodeStyles:o}=(0,a.GX)(e);e.label="";const s=t.insert("g").attr("class",p(e)).attr("id",e.domId??e.id);const{cssStyles:l}=e;let c=Math.max(70,e?.width??0);let d=Math.max(10,e?.height??0);if(r==="LR"){c=Math.max(10,e?.width??0);d=Math.max(70,e?.height??0)}const u=-1*c/2;const g=-1*d/2;const m=h.A.svg(s);const y=(0,a.Fr)(e,{stroke:n.lineColor,fill:n.lineColor});if(e.look!=="handDrawn"){y.roughness=0;y.fillStyle="solid"}const b=m.rectangle(u,g,c,d,y);const x=s.insert((()=>b),":first-child");if(l&&e.look!=="handDrawn"){x.selectAll("path").attr("style",l)}if(o&&e.look!=="handDrawn"){x.selectAll("path").attr("style",o)}f(e,x);const C=i?.padding??0;if(e.width&&e.height){e.width+=C/2||0;e.height+=C/2||0}e.intersect=function(t){return G.rect(e,t)};return s}(0,l.K2)(yt,"forkJoin");async function bt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const n=80,o=50;const{shapeSvg:s,bbox:c}=await d(t,e,p(e));const u=Math.max(n,c.width+(e.padding??0)*2,e?.width??0);const m=Math.max(o,c.height+(e.padding??0)*2,e?.height??0);const b=m/2;const{cssStyles:x}=e;const C=h.A.svg(s);const v=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=[{x:-u/2,y:-m/2},{x:u/2-b,y:-m/2},...y(-u/2+b,0,b,50,90,270),{x:u/2-b,y:m/2},{x:-u/2,y:m/2}];const w=g(k);const S=C.path(w,v);const A=s.insert((()=>S),":first-child");A.attr("class","basic label-container");if(x&&e.look!=="handDrawn"){A.selectChildren("path").attr("style",x)}if(i&&e.look!=="handDrawn"){A.selectChildren("path").attr("style",i)}f(e,A);e.intersect=function(t){l.Rm.info("Pill intersect",e,{radius:b,point:t});const r=G.polygon(e,k,t);return r};return s}(0,l.K2)(bt,"halfRoundedRectangle");async function xt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=o.height+(e.padding??0);const l=o.width+(e.padding??0)*2.5;const{cssStyles:c}=e;const u=h.A.svg(n);const m=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){m.roughness=0;m.fillStyle="solid"}let y=l/2;const b=y/6;y=y+b;const x=s/2;const C=x/2;const v=y-C;const k=[{x:-v,y:-x},{x:0,y:-x},{x:v,y:-x},{x:y,y:0},{x:v,y:x},{x:0,y:x},{x:-v,y:x},{x:-y,y:0}];const w=g(k);const S=u.path(w,m);const A=n.insert((()=>S),":first-child");A.attr("class","basic label-container");if(c&&e.look!=="handDrawn"){A.selectChildren("path").attr("style",c)}if(i&&e.look!=="handDrawn"){A.selectChildren("path").attr("style",i)}e.width=l;e.height=s;f(e,A);e.intersect=function(t){return G.polygon(e,k,t)};return n}(0,l.K2)(xt,"hexagon");async function Ct(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.label="";e.labelStyle=r;const{shapeSvg:n}=await d(t,e,p(e));const o=Math.max(30,e?.width??0);const s=Math.max(30,e?.height??0);const{cssStyles:c}=e;const u=h.A.svg(n);const m=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){m.roughness=0;m.fillStyle="solid"}const y=[{x:0,y:0},{x:o,y:0},{x:0,y:s},{x:o,y:s}];const b=g(y);const x=u.path(b,m);const C=n.insert((()=>x),":first-child");C.attr("class","basic label-container");if(c&&e.look!=="handDrawn"){C.selectChildren("path").attr("style",c)}if(i&&e.look!=="handDrawn"){C.selectChildren("path").attr("style",i)}C.attr("transform",`translate(${-o/2}, ${-s/2})`);f(e,C);e.intersect=function(t){l.Rm.info("Pill intersect",e,{points:y});const r=G.polygon(e,y,t);return r};return n}(0,l.K2)(Ct,"hourglass");async function vt(t,e,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:o}=(0,a.GX)(e);e.labelStyle=o;const s=e.assetHeight??48;const c=e.assetWidth??48;const u=Math.max(s,c);const p=i?.wrappingWidth;e.width=Math.max(u,p??0);const{shapeSvg:g,bbox:m,label:y}=await d(t,e,"icon-shape default");const b=e.pos==="t";const x=u;const C=u;const{nodeBorder:v}=r;const{stylesMap:k}=(0,a.WW)(e);const w=-C/2;const S=-x/2;const A=e.label?8:0;const T=h.A.svg(g);const B=(0,a.Fr)(e,{stroke:"none",fill:"none"});if(e.look!=="handDrawn"){B.roughness=0;B.fillStyle="solid"}const L=T.rectangle(w,S,C,x,B);const M=Math.max(C,m.width);const F=x+m.height+A;const _=T.rectangle(-M/2,-F/2,M,F,{...B,fill:"transparent",stroke:"none"});const $=g.insert((()=>L),":first-child");const E=g.insert((()=>_));if(e.icon){const t=g.append("g");t.html(`<g>${await(0,n.WY)(e.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const r=t.node().getBBox();const i=r.width;const a=r.height;const o=r.x;const s=r.y;t.attr("transform",`translate(${-i/2-o},${b?m.height/2+A/2-a/2-s:-m.height/2-A/2-a/2-s})`);t.attr("style",`color: ${k.get("stroke")??v};`)}y.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${b?-F/2:F/2-m.height})`);$.attr("transform",`translate(${0},${b?m.height/2+A/2:-m.height/2-A/2})`);f(e,E);e.intersect=function(t){l.Rm.info("iconSquare intersect",e,t);if(!e.label){return G.rect(e,t)}const r=e.x??0;const i=e.y??0;const a=e.height??0;let n=[];if(b){n=[{x:r-m.width/2,y:i-a/2},{x:r+m.width/2,y:i-a/2},{x:r+m.width/2,y:i-a/2+m.height+A},{x:r+C/2,y:i-a/2+m.height+A},{x:r+C/2,y:i+a/2},{x:r-C/2,y:i+a/2},{x:r-C/2,y:i-a/2+m.height+A},{x:r-m.width/2,y:i-a/2+m.height+A}]}else{n=[{x:r-C/2,y:i-a/2},{x:r+C/2,y:i-a/2},{x:r+C/2,y:i-a/2+x},{x:r+m.width/2,y:i-a/2+x},{x:r+m.width/2/2,y:i+a/2},{x:r-m.width/2,y:i+a/2},{x:r-m.width/2,y:i-a/2+x},{x:r-C/2,y:i-a/2+x}]}const o=G.polygon(e,n,t);return o};return g}(0,l.K2)(vt,"icon");async function kt(t,e,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:o}=(0,a.GX)(e);e.labelStyle=o;const s=e.assetHeight??48;const c=e.assetWidth??48;const u=Math.max(s,c);const p=i?.wrappingWidth;e.width=Math.max(u,p??0);const{shapeSvg:g,bbox:m,label:y}=await d(t,e,"icon-shape default");const b=20;const x=e.label?8:0;const C=e.pos==="t";const{nodeBorder:v,mainBkg:k}=r;const{stylesMap:w}=(0,a.WW)(e);const S=h.A.svg(g);const A=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){A.roughness=0;A.fillStyle="solid"}const T=w.get("fill");A.stroke=T??k;const B=g.append("g");if(e.icon){B.html(`<g>${await(0,n.WY)(e.icon,{height:u,width:u,fallbackPrefix:""})}</g>`)}const L=B.node().getBBox();const M=L.width;const F=L.height;const _=L.x;const $=L.y;const E=Math.max(M,F)*Math.SQRT2+b*2;const O=S.circle(0,0,E,A);const D=Math.max(E,m.width);const K=E+m.height+x;const I=S.rectangle(-D/2,-K/2,D,K,{...A,fill:"transparent",stroke:"none"});const R=g.insert((()=>O),":first-child");const P=g.insert((()=>I));B.attr("transform",`translate(${-M/2-_},${C?m.height/2+x/2-F/2-$:-m.height/2-x/2-F/2-$})`);B.attr("style",`color: ${w.get("stroke")??v};`);y.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${C?-K/2:K/2-m.height})`);R.attr("transform",`translate(${0},${C?m.height/2+x/2:-m.height/2-x/2})`);f(e,P);e.intersect=function(t){l.Rm.info("iconSquare intersect",e,t);const r=G.rect(e,t);return r};return g}(0,l.K2)(kt,"iconCircle");async function wt(t,e,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:o}=(0,a.GX)(e);e.labelStyle=o;const s=e.assetHeight??48;const c=e.assetWidth??48;const u=Math.max(s,c);const p=i?.wrappingWidth;e.width=Math.max(u,p??0);const{shapeSvg:g,bbox:m,halfPadding:y,label:b}=await d(t,e,"icon-shape default");const x=e.pos==="t";const C=u+y*2;const v=u+y*2;const{nodeBorder:k,mainBkg:w}=r;const{stylesMap:A}=(0,a.WW)(e);const T=-v/2;const B=-C/2;const L=e.label?8:0;const M=h.A.svg(g);const F=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){F.roughness=0;F.fillStyle="solid"}const _=A.get("fill");F.stroke=_??w;const $=M.path(S(T,B,v,C,5),F);const E=Math.max(v,m.width);const O=C+m.height+L;const D=M.rectangle(-E/2,-O/2,E,O,{...F,fill:"transparent",stroke:"none"});const K=g.insert((()=>$),":first-child").attr("class","icon-shape2");const I=g.insert((()=>D));if(e.icon){const t=g.append("g");t.html(`<g>${await(0,n.WY)(e.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const r=t.node().getBBox();const i=r.width;const a=r.height;const o=r.x;const s=r.y;t.attr("transform",`translate(${-i/2-o},${x?m.height/2+L/2-a/2-s:-m.height/2-L/2-a/2-s})`);t.attr("style",`color: ${A.get("stroke")??k};`)}b.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${x?-O/2:O/2-m.height})`);K.attr("transform",`translate(${0},${x?m.height/2+L/2:-m.height/2-L/2})`);f(e,I);e.intersect=function(t){l.Rm.info("iconSquare intersect",e,t);if(!e.label){return G.rect(e,t)}const r=e.x??0;const i=e.y??0;const a=e.height??0;let n=[];if(x){n=[{x:r-m.width/2,y:i-a/2},{x:r+m.width/2,y:i-a/2},{x:r+m.width/2,y:i-a/2+m.height+L},{x:r+v/2,y:i-a/2+m.height+L},{x:r+v/2,y:i+a/2},{x:r-v/2,y:i+a/2},{x:r-v/2,y:i-a/2+m.height+L},{x:r-m.width/2,y:i-a/2+m.height+L}]}else{n=[{x:r-v/2,y:i-a/2},{x:r+v/2,y:i-a/2},{x:r+v/2,y:i-a/2+C},{x:r+m.width/2,y:i-a/2+C},{x:r+m.width/2/2,y:i+a/2},{x:r-m.width/2,y:i+a/2},{x:r-m.width/2,y:i-a/2+C},{x:r-v/2,y:i-a/2+C}]}const o=G.polygon(e,n,t);return o};return g}(0,l.K2)(wt,"iconRounded");async function St(t,e,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:o}=(0,a.GX)(e);e.labelStyle=o;const s=e.assetHeight??48;const c=e.assetWidth??48;const u=Math.max(s,c);const p=i?.wrappingWidth;e.width=Math.max(u,p??0);const{shapeSvg:g,bbox:m,halfPadding:y,label:b}=await d(t,e,"icon-shape default");const x=e.pos==="t";const C=u+y*2;const v=u+y*2;const{nodeBorder:k,mainBkg:w}=r;const{stylesMap:A}=(0,a.WW)(e);const T=-v/2;const B=-C/2;const L=e.label?8:0;const M=h.A.svg(g);const F=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){F.roughness=0;F.fillStyle="solid"}const _=A.get("fill");F.stroke=_??w;const $=M.path(S(T,B,v,C,.1),F);const E=Math.max(v,m.width);const O=C+m.height+L;const D=M.rectangle(-E/2,-O/2,E,O,{...F,fill:"transparent",stroke:"none"});const K=g.insert((()=>$),":first-child");const I=g.insert((()=>D));if(e.icon){const t=g.append("g");t.html(`<g>${await(0,n.WY)(e.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const r=t.node().getBBox();const i=r.width;const a=r.height;const o=r.x;const s=r.y;t.attr("transform",`translate(${-i/2-o},${x?m.height/2+L/2-a/2-s:-m.height/2-L/2-a/2-s})`);t.attr("style",`color: ${A.get("stroke")??k};`)}b.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${x?-O/2:O/2-m.height})`);K.attr("transform",`translate(${0},${x?m.height/2+L/2:-m.height/2-L/2})`);f(e,I);e.intersect=function(t){l.Rm.info("iconSquare intersect",e,t);if(!e.label){return G.rect(e,t)}const r=e.x??0;const i=e.y??0;const a=e.height??0;let n=[];if(x){n=[{x:r-m.width/2,y:i-a/2},{x:r+m.width/2,y:i-a/2},{x:r+m.width/2,y:i-a/2+m.height+L},{x:r+v/2,y:i-a/2+m.height+L},{x:r+v/2,y:i+a/2},{x:r-v/2,y:i+a/2},{x:r-v/2,y:i-a/2+m.height+L},{x:r-m.width/2,y:i-a/2+m.height+L}]}else{n=[{x:r-v/2,y:i-a/2},{x:r+v/2,y:i-a/2},{x:r+v/2,y:i-a/2+C},{x:r+m.width/2,y:i-a/2+C},{x:r+m.width/2/2,y:i+a/2},{x:r-m.width/2,y:i+a/2},{x:r-m.width/2,y:i-a/2+C},{x:r-v/2,y:i-a/2+C}]}const o=G.polygon(e,n,t);return o};return g}(0,l.K2)(St,"iconSquare");async function At(t,e,{config:{flowchart:r}}){const i=new Image;i.src=e?.img??"";await i.decode();const n=Number(i.naturalWidth.toString().replace("px",""));const o=Number(i.naturalHeight.toString().replace("px",""));e.imageAspectRatio=n/o;const{labelStyles:s}=(0,a.GX)(e);e.labelStyle=s;const c=r?.wrappingWidth;e.defaultWidth=r?.wrappingWidth;const u=Math.max(e.label?c??0:0,e?.assetWidth??n);const p=e.constraint==="on"?e?.assetHeight?e.assetHeight*e.imageAspectRatio:u:u;const g=e.constraint==="on"?p/e.imageAspectRatio:e?.assetHeight??o;e.width=Math.max(p,c??0);const{shapeSvg:m,bbox:y,label:b}=await d(t,e,"image-shape default");const x=e.pos==="t";const C=-p/2;const v=-g/2;const k=e.label?8:0;const w=h.A.svg(m);const S=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const A=w.rectangle(C,v,p,g,S);const T=Math.max(p,y.width);const B=g+y.height+k;const L=w.rectangle(-T/2,-B/2,T,B,{...S,fill:"none",stroke:"none"});const M=m.insert((()=>A),":first-child");const F=m.insert((()=>L));if(e.img){const t=m.append("image");t.attr("href",e.img);t.attr("width",p);t.attr("height",g);t.attr("preserveAspectRatio","none");t.attr("transform",`translate(${-p/2},${x?B/2-g:-B/2})`)}b.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${x?-g/2-y.height/2-k/2:g/2-y.height/2+k/2})`);M.attr("transform",`translate(${0},${x?y.height/2+k/2:-y.height/2-k/2})`);f(e,F);e.intersect=function(t){l.Rm.info("iconSquare intersect",e,t);if(!e.label){return G.rect(e,t)}const r=e.x??0;const i=e.y??0;const a=e.height??0;let n=[];if(x){n=[{x:r-y.width/2,y:i-a/2},{x:r+y.width/2,y:i-a/2},{x:r+y.width/2,y:i-a/2+y.height+k},{x:r+p/2,y:i-a/2+y.height+k},{x:r+p/2,y:i+a/2},{x:r-p/2,y:i+a/2},{x:r-p/2,y:i-a/2+y.height+k},{x:r-y.width/2,y:i-a/2+y.height+k}]}else{n=[{x:r-p/2,y:i-a/2},{x:r+p/2,y:i-a/2},{x:r+p/2,y:i-a/2+g},{x:r+y.width/2,y:i-a/2+g},{x:r+y.width/2/2,y:i+a/2},{x:r-y.width/2,y:i+a/2},{x:r-y.width/2,y:i-a/2+g},{x:r-p/2,y:i-a/2+g}]}const o=G.polygon(e,n,t);return o};return m}(0,l.K2)(At,"imageSquare");async function Tt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=Math.max(o.width+(e.padding??0)*2,e?.width??0);const l=Math.max(o.height+(e.padding??0)*2,e?.height??0);const c=[{x:0,y:0},{x:s,y:0},{x:s+3*l/6,y:-l},{x:-3*l/6,y:-l}];let u;const{cssStyles:m}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=g(c);const o=t.path(i,r);u=n.insert((()=>o),":first-child").attr("transform",`translate(${-s/2}, ${l/2})`);if(m){u.attr("style",m)}}else{u=V(n,s,l,c)}if(i){u.attr("style",i)}e.width=s;e.height=l;f(e,u);e.intersect=function(t){return G.polygon(e,c,t)};return n}(0,l.K2)(Tt,"inv_trapezoid");async function Bt(t,e,r){const{labelStyles:i,nodeStyles:n}=(0,a.GX)(e);e.labelStyle=i;const{shapeSvg:s,bbox:l}=await d(t,e,p(e));const c=Math.max(l.width+r.labelPaddingX*2,e?.width||0);const u=Math.max(l.height+r.labelPaddingY*2,e?.height||0);const g=-c/2;const m=-u/2;let y;let{rx:b,ry:x}=e;const{cssStyles:C}=e;if(r?.rx&&r.ry){b=r.rx;x=r.ry}if(e.look==="handDrawn"){const t=h.A.svg(s);const r=(0,a.Fr)(e,{});const i=b||x?t.path(S(g,m,c,u,b||0),r):t.rectangle(g,m,c,u,r);y=s.insert((()=>i),":first-child");y.attr("class","basic label-container").attr("style",(0,o.KL)(C))}else{y=s.insert("rect",":first-child");y.attr("class","basic label-container").attr("style",n).attr("rx",(0,o.KL)(b)).attr("ry",(0,o.KL)(x)).attr("x",g).attr("y",m).attr("width",c).attr("height",u)}f(e,y);e.calcIntersect=function(t,e){return G.rect(t,e)};e.intersect=function(t){return G.rect(e,t)};return s}(0,l.K2)(Bt,"drawRect");async function Lt(t,e){const{shapeSvg:r,bbox:i,label:a}=await d(t,e,"label");const n=r.insert("rect",":first-child");const o=.1;const s=.1;n.attr("width",o).attr("height",s);r.attr("class","label edgeLabel");a.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`);f(e,n);e.intersect=function(t){return G.rect(e,t)};return r}(0,l.K2)(Lt,"labelRect");async function Mt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=Math.max(o.width+(e.padding??0),e?.width??0);const l=Math.max(o.height+(e.padding??0),e?.height??0);const c=[{x:0,y:0},{x:s+3*l/6,y:0},{x:s,y:-l},{x:-(3*l)/6,y:-l}];let u;const{cssStyles:m}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=g(c);const o=t.path(i,r);u=n.insert((()=>o),":first-child").attr("transform",`translate(${-s/2}, ${l/2})`);if(m){u.attr("style",m)}}else{u=V(n,s,l,c)}if(i){u.attr("style",i)}e.width=s;e.height=l;f(e,u);e.intersect=function(t){return G.polygon(e,c,t)};return n}(0,l.K2)(Mt,"lean_left");async function Ft(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=Math.max(o.width+(e.padding??0),e?.width??0);const l=Math.max(o.height+(e.padding??0),e?.height??0);const c=[{x:-3*l/6,y:0},{x:s,y:0},{x:s+3*l/6,y:-l},{x:0,y:-l}];let u;const{cssStyles:m}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=g(c);const o=t.path(i,r);u=n.insert((()=>o),":first-child").attr("transform",`translate(${-s/2}, ${l/2})`);if(m){u.attr("style",m)}}else{u=V(n,s,l,c)}if(i){u.attr("style",i)}e.width=s;e.height=l;f(e,u);e.intersect=function(t){return G.polygon(e,c,t)};return n}(0,l.K2)(Ft,"lean_right");function _t(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.label="";e.labelStyle=r;const n=t.insert("g").attr("class",p(e)).attr("id",e.domId??e.id);const{cssStyles:o}=e;const s=Math.max(35,e?.width??0);const c=Math.max(35,e?.height??0);const d=7;const u=[{x:s,y:0},{x:0,y:c+d/2},{x:s-2*d,y:c+d/2},{x:0,y:2*c},{x:s,y:c-d/2},{x:2*d,y:c-d/2}];const m=h.A.svg(n);const y=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){y.roughness=0;y.fillStyle="solid"}const b=g(u);const x=m.path(b,y);const C=n.insert((()=>x),":first-child");if(o&&e.look!=="handDrawn"){C.selectAll("path").attr("style",o)}if(i&&e.look!=="handDrawn"){C.selectAll("path").attr("style",i)}C.attr("transform",`translate(-${s/2},${-c})`);f(e,C);e.intersect=function(t){l.Rm.info("lightningBolt intersect",e,t);const r=G.polygon(e,u,t);return r};return n}(0,l.K2)(_t,"lightningBolt");var $t=(0,l.K2)(((t,e,r,i,a,n,o)=>[`M${t},${e+n}`,`a${a},${n} 0,0,0 ${r},0`,`a${a},${n} 0,0,0 ${-r},0`,`l0,${i}`,`a${a},${n} 0,0,0 ${r},0`,`l0,${-i}`,`M${t},${e+n+o}`,`a${a},${n} 0,0,0 ${r},0`].join(" ")),"createCylinderPathD");var Et=(0,l.K2)(((t,e,r,i,a,n,o)=>[`M${t},${e+n}`,`M${t+r},${e+n}`,`a${a},${n} 0,0,0 ${-r},0`,`l0,${i}`,`a${a},${n} 0,0,0 ${r},0`,`l0,${-i}`,`M${t},${e+n+o}`,`a${a},${n} 0,0,0 ${r},0`].join(" ")),"createOuterCylinderPathD");var Ot=(0,l.K2)(((t,e,r,i,a,n)=>[`M${t-r/2},${-i/2}`,`a${a},${n} 0,0,0 ${r},0`].join(" ")),"createInnerCylinderPathD");async function Dt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:s,label:l}=await d(t,e,p(e));const c=Math.max(s.width+(e.padding??0),e.width??0);const u=c/2;const g=u/(2.5+c/50);const m=Math.max(s.height+g+(e.padding??0),e.height??0);const y=m*.1;let b;const{cssStyles:x}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=Et(0,0,c,m,u,g,y);const i=Ot(0,g,c,m,u,g);const o=(0,a.Fr)(e,{});const s=t.path(r,o);const l=t.path(i,o);const d=n.insert((()=>l),":first-child");d.attr("class","line");b=n.insert((()=>s),":first-child");b.attr("class","basic label-container");if(x){b.attr("style",x)}}else{const t=$t(0,0,c,m,u,g,y);b=n.insert("path",":first-child").attr("d",t).attr("class","basic label-container").attr("style",(0,o.KL)(x)).attr("style",i)}b.attr("label-offset-y",g);b.attr("transform",`translate(${-c/2}, ${-(m/2+g)})`);f(e,b);l.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+g-(s.y-(s.top??0))})`);e.intersect=function(t){const r=G.rect(e,t);const i=r.x-(e.x??0);if(u!=0&&(Math.abs(i)<(e.width??0)/2||Math.abs(i)==(e.width??0)/2&&Math.abs(r.y-(e.y??0))>(e.height??0)/2-g)){let a=g*g*(1-i*i/(u*u));if(a>0){a=Math.sqrt(a)}a=g-a;if(t.y-(e.y??0)>0){a=-a}r.y+=a}return r};return n}(0,l.K2)(Dt,"linedCylinder");async function Kt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=Math.max(o.width+(e.padding??0)*2,e?.width??0);const c=Math.max(o.height+(e.padding??0)*2,e?.height??0);const u=c/4;const g=c+u;const{cssStyles:y}=e;const b=h.A.svg(n);const x=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const C=[{x:-l/2-l/2*.1,y:-g/2},{x:-l/2-l/2*.1,y:g/2},...m(-l/2-l/2*.1,g/2,l/2+l/2*.1,g/2,u,.8),{x:l/2+l/2*.1,y:-g/2},{x:-l/2-l/2*.1,y:-g/2},{x:-l/2,y:-g/2},{x:-l/2,y:g/2*1.1},{x:-l/2,y:-g/2}];const v=b.polygon(C.map((t=>[t.x,t.y])),x);const k=n.insert((()=>v),":first-child");k.attr("class","basic label-container");if(y&&e.look!=="handDrawn"){k.selectAll("path").attr("style",y)}if(i&&e.look!=="handDrawn"){k.selectAll("path").attr("style",i)}k.attr("transform",`translate(0,${-u/2})`);s.attr("transform",`translate(${-l/2+(e.padding??0)+l/2*.1/2-(o.x-(o.left??0))},${-c/2+(e.padding??0)-u/2-(o.y-(o.top??0))})`);f(e,k);e.intersect=function(t){const r=G.polygon(e,C,t);return r};return n}(0,l.K2)(Kt,"linedWaveEdgedRect");async function It(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=Math.max(o.width+(e.padding??0)*2,e?.width??0);const c=Math.max(o.height+(e.padding??0)*2,e?.height??0);const u=5;const m=-l/2;const y=-c/2;const{cssStyles:b}=e;const x=h.A.svg(n);const C=(0,a.Fr)(e,{});const v=[{x:m-u,y:y+u},{x:m-u,y:y+c+u},{x:m+l-u,y:y+c+u},{x:m+l-u,y:y+c},{x:m+l,y:y+c},{x:m+l,y:y+c-u},{x:m+l+u,y:y+c-u},{x:m+l+u,y:y-u},{x:m+u,y:y-u},{x:m+u,y},{x:m,y},{x:m,y:y+u}];const k=[{x:m,y:y+u},{x:m+l-u,y:y+u},{x:m+l-u,y:y+c},{x:m+l,y:y+c},{x:m+l,y},{x:m,y}];if(e.look!=="handDrawn"){C.roughness=0;C.fillStyle="solid"}const w=g(v);const S=x.path(w,C);const A=g(k);const T=x.path(A,{...C,fill:"none"});const B=n.insert((()=>T),":first-child");B.insert((()=>S),":first-child");B.attr("class","basic label-container");if(b&&e.look!=="handDrawn"){B.selectAll("path").attr("style",b)}if(i&&e.look!=="handDrawn"){B.selectAll("path").attr("style",i)}s.attr("transform",`translate(${-(o.width/2)-u-(o.x-(o.left??0))}, ${-(o.height/2)+u-(o.y-(o.top??0))})`);f(e,B);e.intersect=function(t){const r=G.polygon(e,v,t);return r};return n}(0,l.K2)(It,"multiRect");async function Rt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=Math.max(o.width+(e.padding??0)*2,e?.width??0);const c=Math.max(o.height+(e.padding??0)*2,e?.height??0);const u=c/4;const y=c+u;const b=-l/2;const x=-y/2;const C=5;const{cssStyles:v}=e;const k=m(b-C,x+y+C,b+l-C,x+y+C,u,.8);const w=k?.[k.length-1];const S=[{x:b-C,y:x+C},{x:b-C,y:x+y+C},...k,{x:b+l-C,y:w.y-C},{x:b+l,y:w.y-C},{x:b+l,y:w.y-2*C},{x:b+l+C,y:w.y-2*C},{x:b+l+C,y:x-C},{x:b+C,y:x-C},{x:b+C,y:x},{x:b,y:x},{x:b,y:x+C}];const A=[{x:b,y:x+C},{x:b+l-C,y:x+C},{x:b+l-C,y:w.y-C},{x:b+l,y:w.y-C},{x:b+l,y:x},{x:b,y:x}];const T=h.A.svg(n);const B=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){B.roughness=0;B.fillStyle="solid"}const L=g(S);const M=T.path(L,B);const F=g(A);const _=T.path(F,B);const $=n.insert((()=>M),":first-child");$.insert((()=>_));$.attr("class","basic label-container");if(v&&e.look!=="handDrawn"){$.selectAll("path").attr("style",v)}if(i&&e.look!=="handDrawn"){$.selectAll("path").attr("style",i)}$.attr("transform",`translate(0,${-u/2})`);s.attr("transform",`translate(${-(o.width/2)-C-(o.x-(o.left??0))}, ${-(o.height/2)+C-u/2-(o.y-(o.top??0))})`);f(e,$);e.intersect=function(t){const r=G.polygon(e,S,t);return r};return n}(0,l.K2)(Rt,"multiWaveEdgedRectangle");async function Pt(t,e,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=(0,a.GX)(e);e.labelStyle=i;const o=e.useHtmlLabels||(0,s.zj)().flowchart?.htmlLabels!==false;if(!o){e.centerLabel=true}const{shapeSvg:l,bbox:c,label:u}=await d(t,e,p(e));const g=Math.max(c.width+(e.padding??0)*2,e?.width??0);const m=Math.max(c.height+(e.padding??0)*2,e?.height??0);const y=-g/2;const b=-m/2;const{cssStyles:x}=e;const C=h.A.svg(l);const v=(0,a.Fr)(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});if(e.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=C.rectangle(y,b,g,m,v);const w=l.insert((()=>k),":first-child");w.attr("class","basic label-container");if(x&&e.look!=="handDrawn"){w.selectAll("path").attr("style",x)}if(n&&e.look!=="handDrawn"){w.selectAll("path").attr("style",n)}u.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))}, ${-(c.height/2)-(c.y-(c.top??0))})`);f(e,w);e.intersect=function(t){return G.rect(e,t)};return l}(0,l.K2)(Pt,"note");var qt=(0,l.K2)(((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" ")),"createDecisionBoxPathD");async function zt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=o.width+e.padding;const l=o.height+e.padding;const c=s+l;const u=.5;const g=[{x:c/2,y:0},{x:c,y:-c/2},{x:c/2,y:-c},{x:0,y:-c/2}];let m;const{cssStyles:y}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=qt(0,0,c);const o=t.path(i,r);m=n.insert((()=>o),":first-child").attr("transform",`translate(${-c/2+u}, ${c/2})`);if(y){m.attr("style",y)}}else{m=V(n,c,c,g);m.attr("transform",`translate(${-c/2+u}, ${c/2})`)}if(i){m.attr("style",i)}f(e,m);e.calcIntersect=function(t,e){const r=t.width;const i=[{x:r/2,y:0},{x:r,y:-r/2},{x:r/2,y:-r},{x:0,y:-r/2}];const a=G.polygon(t,i,e);return{x:a.x-.5,y:a.y-.5}};e.intersect=function(t){return this.calcIntersect(e,t)};return n}(0,l.K2)(zt,"question");async function Nt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=Math.max(o.width+(e.padding??0),e?.width??0);const c=Math.max(o.height+(e.padding??0),e?.height??0);const u=-l/2;const m=-c/2;const y=m/2;const b=[{x:u+y,y:m},{x:u,y:0},{x:u+y,y:-m},{x:-u,y:-m},{x:-u,y:m}];const{cssStyles:x}=e;const C=h.A.svg(n);const v=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=g(b);const w=C.path(k,v);const S=n.insert((()=>w),":first-child");S.attr("class","basic label-container");if(x&&e.look!=="handDrawn"){S.selectAll("path").attr("style",x)}if(i&&e.look!=="handDrawn"){S.selectAll("path").attr("style",i)}S.attr("transform",`translate(${-y/2},0)`);s.attr("transform",`translate(${-y/2-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`);f(e,S);e.intersect=function(t){return G.polygon(e,b,t)};return n}(0,l.K2)(Nt,"rect_left_inv_arrow");async function Wt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;let n;if(!e.cssClasses){n="node default"}else{n="node "+e.cssClasses}const o=t.insert("g").attr("class",n).attr("id",e.domId||e.id);const d=o.insert("g");const u=o.insert("g").attr("class","label").attr("style",i);const p=e.description;const g=e.label;const m=u.node().appendChild(await w(g,e.labelStyle,true,true));let y={width:0,height:0};if((0,s._3)((0,s.D7)()?.flowchart?.htmlLabels)){const t=m.children[0];const e=(0,c.Ltv)(m);y=t.getBoundingClientRect();e.attr("width",y.width);e.attr("height",y.height)}l.Rm.info("Text 2",p);const b=p||[];const x=m.getBBox();const C=u.node().appendChild(await w(b.join?b.join("<br/>"):b,e.labelStyle,true,true));const v=C.children[0];const k=(0,c.Ltv)(C);y=v.getBoundingClientRect();k.attr("width",y.width);k.attr("height",y.height);const A=(e.padding||0)/2;(0,c.Ltv)(C).attr("transform","translate( "+(y.width>x.width?0:(x.width-y.width)/2)+", "+(x.height+A+5)+")");(0,c.Ltv)(m).attr("transform","translate( "+(y.width<x.width?0:-(x.width-y.width)/2)+", 0)");y=u.node().getBBox();u.attr("transform","translate("+-y.width/2+", "+(-y.height/2-A+3)+")");const T=y.width+(e.padding||0);const B=y.height+(e.padding||0);const L=-y.width/2-A;const M=-y.height/2-A;let F;let _;if(e.look==="handDrawn"){const t=h.A.svg(o);const r=(0,a.Fr)(e,{});const i=t.path(S(L,M,T,B,e.rx||0),r);const n=t.line(-y.width/2-A,-y.height/2-A+x.height+A,y.width/2+A,-y.height/2-A+x.height+A,r);_=o.insert((()=>{l.Rm.debug("Rough node insert CXC",i);return n}),":first-child");F=o.insert((()=>{l.Rm.debug("Rough node insert CXC",i);return i}),":first-child")}else{F=d.insert("rect",":first-child");_=d.insert("line");F.attr("class","outer title-state").attr("style",i).attr("x",-y.width/2-A).attr("y",-y.height/2-A).attr("width",y.width+(e.padding||0)).attr("height",y.height+(e.padding||0));_.attr("class","divider").attr("x1",-y.width/2-A).attr("x2",y.width/2+A).attr("y1",-y.height/2-A+x.height+A).attr("y2",-y.height/2-A+x.height+A)}f(e,F);e.intersect=function(t){return G.rect(e,t)};return o}(0,l.K2)(Wt,"rectWithTitle");function jt(t,e,r,i,a,n,o){const s=20;const l=(t+r)/2;const c=(e+i)/2;const h=Math.atan2(i-e,r-t);const d=(r-t)/2;const u=(i-e)/2;const f=d/a;const p=u/n;const g=Math.sqrt(f**2+p**2);if(g>1){throw new Error("The given radii are too small to create an arc between the points.")}const m=Math.sqrt(1-g**2);const y=l+m*n*Math.sin(h)*(o?-1:1);const b=c-m*a*Math.cos(h)*(o?-1:1);const x=Math.atan2((e-b)/n,(t-y)/a);const C=Math.atan2((i-b)/n,(r-y)/a);let v=C-x;if(o&&v<0){v+=2*Math.PI}if(!o&&v>0){v-=2*Math.PI}const k=[];for(let w=0;w<s;w++){const t=w/(s-1);const e=x+t*v;const r=y+a*Math.cos(e);const i=b+n*Math.sin(e);k.push({x:r,y:i})}return k}(0,l.K2)(jt,"generateArcPoints");async function Ht(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=e?.padding??0;const l=e?.padding??0;const c=(e?.width?e?.width:o.width)+s*2;const u=(e?.height?e?.height:o.height)+l*2;const m=e.radius||5;const y=e.taper||5;const{cssStyles:b}=e;const x=h.A.svg(n);const C=(0,a.Fr)(e,{});if(e.stroke){C.stroke=e.stroke}if(e.look!=="handDrawn"){C.roughness=0;C.fillStyle="solid"}const v=[{x:-c/2+y,y:-u/2},{x:c/2-y,y:-u/2},...jt(c/2-y,-u/2,c/2,-u/2+y,m,m,true),{x:c/2,y:-u/2+y},{x:c/2,y:u/2-y},...jt(c/2,u/2-y,c/2-y,u/2,m,m,true),{x:c/2-y,y:u/2},{x:-c/2+y,y:u/2},...jt(-c/2+y,u/2,-c/2,u/2-y,m,m,true),{x:-c/2,y:u/2-y},{x:-c/2,y:-u/2+y},...jt(-c/2,-u/2+y,-c/2+y,-u/2,m,m,true)];const k=g(v);const w=x.path(k,C);const S=n.insert((()=>w),":first-child");S.attr("class","basic label-container outer-path");if(b&&e.look!=="handDrawn"){S.selectChildren("path").attr("style",b)}if(i&&e.look!=="handDrawn"){S.selectChildren("path").attr("style",i)}f(e,S);e.intersect=function(t){const r=G.polygon(e,v,t);return r};return n}(0,l.K2)(Ht,"roundedRect");async function Gt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:s,label:l}=await d(t,e,p(e));const c=e?.padding??0;const u=Math.max(s.width+(e.padding??0)*2,e?.width??0);const g=Math.max(s.height+(e.padding??0)*2,e?.height??0);const m=-s.width/2-c;const y=-s.height/2-c;const{cssStyles:b}=e;const x=h.A.svg(n);const C=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){C.roughness=0;C.fillStyle="solid"}const v=[{x:m,y},{x:m+u+8,y},{x:m+u+8,y:y+g},{x:m-8,y:y+g},{x:m-8,y},{x:m,y},{x:m,y:y+g}];const k=x.polygon(v.map((t=>[t.x,t.y])),C);const w=n.insert((()=>k),":first-child");w.attr("class","basic label-container").attr("style",(0,o.KL)(b));if(i&&e.look!=="handDrawn"){w.selectAll("path").attr("style",i)}if(b&&e.look!=="handDrawn"){w.selectAll("path").attr("style",i)}l.attr("transform",`translate(${-u/2+4+(e.padding??0)-(s.x-(s.left??0))},${-g/2+(e.padding??0)-(s.y-(s.top??0))})`);f(e,w);e.intersect=function(t){return G.rect(e,t)};return n}(0,l.K2)(Gt,"shadedProcess");async function Ut(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=Math.max(o.width+(e.padding??0)*2,e?.width??0);const c=Math.max(o.height+(e.padding??0)*2,e?.height??0);const u=-l/2;const m=-c/2;const{cssStyles:y}=e;const b=h.A.svg(n);const x=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const C=[{x:u,y:m},{x:u,y:m+c},{x:u+l,y:m+c},{x:u+l,y:m-c/2}];const v=g(C);const k=b.path(v,x);const w=n.insert((()=>k),":first-child");w.attr("class","basic label-container");if(y&&e.look!=="handDrawn"){w.selectChildren("path").attr("style",y)}if(i&&e.look!=="handDrawn"){w.selectChildren("path").attr("style",i)}w.attr("transform",`translate(0, ${c/4})`);s.attr("transform",`translate(${-l/2+(e.padding??0)-(o.x-(o.left??0))}, ${-c/4+(e.padding??0)-(o.y-(o.top??0))})`);f(e,w);e.intersect=function(t){const r=G.polygon(e,C,t);return r};return n}(0,l.K2)(Ut,"slopedRect");async function Yt(t,e){const r={rx:0,ry:0,classes:"",labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return Bt(t,e,r)}(0,l.K2)(Yt,"squareRect");async function Xt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=o.height+e.padding;const l=o.width+s/4+e.padding;const c=s/2;const{cssStyles:u}=e;const m=h.A.svg(n);const b=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){b.roughness=0;b.fillStyle="solid"}const x=[{x:-l/2+c,y:-s/2},{x:l/2-c,y:-s/2},...y(-l/2+c,0,c,50,90,270),{x:l/2-c,y:s/2},...y(l/2-c,0,c,50,270,450)];const C=g(x);const v=m.path(C,b);const k=n.insert((()=>v),":first-child");k.attr("class","basic label-container outer-path");if(u&&e.look!=="handDrawn"){k.selectChildren("path").attr("style",u)}if(i&&e.look!=="handDrawn"){k.selectChildren("path").attr("style",i)}f(e,k);e.intersect=function(t){const r=G.polygon(e,x,t);return r};return n}(0,l.K2)(Xt,"stadium");async function Vt(t,e){const r={rx:5,ry:5,classes:"flowchart-node"};return Bt(t,e,r)}(0,l.K2)(Vt,"state");function Zt(t,e,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=(0,a.GX)(e);e.labelStyle=i;const{cssStyles:o}=e;const{lineColor:s,stateBorder:l,nodeBorder:c}=r;const d=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);const u=h.A.svg(d);const p=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){p.roughness=0;p.fillStyle="solid"}const g=u.circle(0,0,14,{...p,stroke:s,strokeWidth:2});const m=l??c;const y=u.circle(0,0,5,{...p,fill:m,stroke:m,strokeWidth:2,fillStyle:"solid"});const b=d.insert((()=>g),":first-child");b.insert((()=>y));if(o){b.selectAll("path").attr("style",o)}if(n){b.selectAll("path").attr("style",n)}f(e,b);e.intersect=function(t){return G.circle(e,7,t)};return d}(0,l.K2)(Zt,"stateEnd");function Qt(t,e,{config:{themeVariables:r}}){const{lineColor:i}=r;const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let o;if(e.look==="handDrawn"){const t=h.A.svg(n);const e=t.circle(0,0,14,(0,a.ue)(i));o=n.insert((()=>e));o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else{o=n.insert("circle",":first-child");o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}f(e,o);e.intersect=function(t){return G.circle(e,7,t)};return n}(0,l.K2)(Qt,"stateStart");async function Jt(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:s}=await d(t,e,p(e));const l=(e?.padding||0)/2;const c=s.width+e.padding;const u=s.height+e.padding;const g=-s.width/2-l;const m=-s.height/2-l;const y=[{x:0,y:0},{x:c,y:0},{x:c,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=t.rectangle(g-8,m,c+16,u,r);const s=t.line(g,m,g,m+u,r);const l=t.line(g+c,m,g+c,m+u,r);n.insert((()=>s),":first-child");n.insert((()=>l),":first-child");const d=n.insert((()=>i),":first-child");const{cssStyles:p}=e;d.attr("class","basic label-container").attr("style",(0,o.KL)(p));f(e,d)}else{const t=V(n,c,u,y);if(i){t.attr("style",i)}f(e,t)}e.intersect=function(t){return G.polygon(e,y,t)};return n}(0,l.K2)(Jt,"subroutine");async function te(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=Math.max(o.width+(e.padding??0)*2,e?.width??0);const l=Math.max(o.height+(e.padding??0)*2,e?.height??0);const c=-s/2;const u=-l/2;const m=.2*l;const y=.2*l;const{cssStyles:b}=e;const x=h.A.svg(n);const C=(0,a.Fr)(e,{});const v=[{x:c-m/2,y:u},{x:c+s+m/2,y:u},{x:c+s+m/2,y:u+l},{x:c-m/2,y:u+l}];const k=[{x:c+s-m/2,y:u+l},{x:c+s+m/2,y:u+l},{x:c+s+m/2,y:u+l-y}];if(e.look!=="handDrawn"){C.roughness=0;C.fillStyle="solid"}const w=g(v);const S=x.path(w,C);const A=g(k);const T=x.path(A,{...C,fillStyle:"solid"});const B=n.insert((()=>T),":first-child");B.insert((()=>S),":first-child");B.attr("class","basic label-container");if(b&&e.look!=="handDrawn"){B.selectAll("path").attr("style",b)}if(i&&e.look!=="handDrawn"){B.selectAll("path").attr("style",i)}f(e,B);e.intersect=function(t){const r=G.polygon(e,v,t);return r};return n}(0,l.K2)(te,"taggedRect");async function ee(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=Math.max(o.width+(e.padding??0)*2,e?.width??0);const c=Math.max(o.height+(e.padding??0)*2,e?.height??0);const u=c/4;const y=.2*l;const b=.2*c;const x=c+u;const{cssStyles:C}=e;const v=h.A.svg(n);const k=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){k.roughness=0;k.fillStyle="solid"}const w=[{x:-l/2-l/2*.1,y:x/2},...m(-l/2-l/2*.1,x/2,l/2+l/2*.1,x/2,u,.8),{x:l/2+l/2*.1,y:-x/2},{x:-l/2-l/2*.1,y:-x/2}];const S=-l/2+l/2*.1;const A=-x/2-b*.4;const T=[{x:S+l-y,y:(A+c)*1.4},{x:S+l,y:A+c-b},{x:S+l,y:(A+c)*.9},...m(S+l,(A+c)*1.3,S+l-y,(A+c)*1.5,-c*.03,.5)];const B=g(w);const L=v.path(B,k);const M=g(T);const F=v.path(M,{...k,fillStyle:"solid"});const _=n.insert((()=>F),":first-child");_.insert((()=>L),":first-child");_.attr("class","basic label-container");if(C&&e.look!=="handDrawn"){_.selectAll("path").attr("style",C)}if(i&&e.look!=="handDrawn"){_.selectAll("path").attr("style",i)}_.attr("transform",`translate(0,${-u/2})`);s.attr("transform",`translate(${-l/2+(e.padding??0)-(o.x-(o.left??0))},${-c/2+(e.padding??0)-u/2-(o.y-(o.top??0))})`);f(e,_);e.intersect=function(t){const r=G.polygon(e,w,t);return r};return n}(0,l.K2)(ee,"taggedWaveEdgedRectangle");async function re(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=Math.max(o.width+e.padding,e?.width||0);const l=Math.max(o.height+e.padding,e?.height||0);const c=-s/2;const h=-l/2;const u=n.insert("rect",":first-child");u.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",c).attr("y",h).attr("width",s).attr("height",l);f(e,u);e.intersect=function(t){return G.rect(e,t)};return n}(0,l.K2)(re,"text");var ie=(0,l.K2)(((t,e,r,i,a,n)=>`M${t},${e}\n    a${a},${n} 0,0,1 ${0},${-i}\n    l${r},${0}\n    a${a},${n} 0,0,1 ${0},${i}\n    M${r},${-i}\n    a${a},${n} 0,0,0 ${0},${i}\n    l${-r},${0}`),"createCylinderPathD");var ae=(0,l.K2)(((t,e,r,i,a,n)=>[`M${t},${e}`,`M${t+r},${e}`,`a${a},${n} 0,0,0 ${0},${-i}`,`l${-r},0`,`a${a},${n} 0,0,0 ${0},${i}`,`l${r},0`].join(" ")),"createOuterCylinderPathD");var ne=(0,l.K2)(((t,e,r,i,a,n)=>[`M${t+r/2},${-i/2}`,`a${a},${n} 0,0,0 0,${i}`].join(" ")),"createInnerCylinderPathD");async function oe(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:s,label:l,halfPadding:c}=await d(t,e,p(e));const u=e.look==="neo"?c*2:c;const g=s.height+u;const m=g/2;const y=m/(2.5+g/50);const b=s.width+y+u;const{cssStyles:x}=e;let C;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=ae(0,0,b,g,y,m);const i=ne(0,0,b,g,y,m);const o=t.path(r,(0,a.Fr)(e,{}));const s=t.path(i,(0,a.Fr)(e,{fill:"none"}));C=n.insert((()=>s),":first-child");C=n.insert((()=>o),":first-child");C.attr("class","basic label-container");if(x){C.attr("style",x)}}else{const t=ie(0,0,b,g,y,m);C=n.insert("path",":first-child").attr("d",t).attr("class","basic label-container").attr("style",(0,o.KL)(x)).attr("style",i);C.attr("class","basic label-container");if(x){C.selectAll("path").attr("style",x)}if(i){C.selectAll("path").attr("style",i)}}C.attr("label-offset-x",y);C.attr("transform",`translate(${-b/2}, ${g/2} )`);l.attr("transform",`translate(${-(s.width/2)-y-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`);f(e,C);e.intersect=function(t){const r=G.rect(e,t);const i=r.y-(e.y??0);if(m!=0&&(Math.abs(i)<(e.height??0)/2||Math.abs(i)==(e.height??0)/2&&Math.abs(r.x-(e.x??0))>(e.width??0)/2-y)){let a=y*y*(1-i*i/(m*m));if(a!=0){a=Math.sqrt(Math.abs(a))}a=y-a;if(t.x-(e.x??0)>0){a=-a}r.x+=a}return r};return n}(0,l.K2)(oe,"tiltedCylinder");async function se(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=o.width+e.padding;const l=o.height+e.padding;const c=[{x:-3*l/6,y:0},{x:s+3*l/6,y:0},{x:s,y:-l},{x:0,y:-l}];let u;const{cssStyles:m}=e;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=g(c);const o=t.path(i,r);u=n.insert((()=>o),":first-child").attr("transform",`translate(${-s/2}, ${l/2})`);if(m){u.attr("style",m)}}else{u=V(n,s,l,c)}if(i){u.attr("style",i)}e.width=s;e.height=l;f(e,u);e.intersect=function(t){return G.polygon(e,c,t)};return n}(0,l.K2)(se,"trapezoid");async function le(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=60,l=20;const c=Math.max(s,o.width+(e.padding??0)*2,e?.width??0);const u=Math.max(l,o.height+(e.padding??0)*2,e?.height??0);const{cssStyles:m}=e;const y=h.A.svg(n);const b=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){b.roughness=0;b.fillStyle="solid"}const x=[{x:-c/2*.8,y:-u/2},{x:c/2*.8,y:-u/2},{x:c/2,y:-u/2*.6},{x:c/2,y:u/2},{x:-c/2,y:u/2},{x:-c/2,y:-u/2*.6}];const C=g(x);const v=y.path(C,b);const k=n.insert((()=>v),":first-child");k.attr("class","basic label-container");if(m&&e.look!=="handDrawn"){k.selectChildren("path").attr("style",m)}if(i&&e.look!=="handDrawn"){k.selectChildren("path").attr("style",i)}f(e,k);e.intersect=function(t){const r=G.polygon(e,x,t);return r};return n}(0,l.K2)(le,"trapezoidalPentagon");async function ce(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:c}=await d(t,e,p(e));const u=(0,s._3)((0,s.D7)().flowchart?.htmlLabels);const m=o.width+(e.padding??0);const y=m+o.height;const b=m+o.height;const x=[{x:0,y:0},{x:b,y:0},{x:b/2,y:-y}];const{cssStyles:C}=e;const v=h.A.svg(n);const k=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){k.roughness=0;k.fillStyle="solid"}const w=g(x);const S=v.path(w,k);const A=n.insert((()=>S),":first-child").attr("transform",`translate(${-y/2}, ${y/2})`);if(C&&e.look!=="handDrawn"){A.selectChildren("path").attr("style",C)}if(i&&e.look!=="handDrawn"){A.selectChildren("path").attr("style",i)}e.width=m;e.height=y;f(e,A);c.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${y/2-(o.height+(e.padding??0)/(u?2:1)-(o.y-(o.top??0)))})`);e.intersect=function(t){l.Rm.info("Triangle intersect",e,x,t);return G.polygon(e,x,t)};return n}(0,l.K2)(ce,"triangle");async function he(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=Math.max(o.width+(e.padding??0)*2,e?.width??0);const c=Math.max(o.height+(e.padding??0)*2,e?.height??0);const u=c/8;const y=c+u;const{cssStyles:b}=e;const x=70;const C=x-l;const v=C>0?C/2:0;const k=h.A.svg(n);const w=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){w.roughness=0;w.fillStyle="solid"}const S=[{x:-l/2-v,y:y/2},...m(-l/2-v,y/2,l/2+v,y/2,u,.8),{x:l/2+v,y:-y/2},{x:-l/2-v,y:-y/2}];const A=g(S);const T=k.path(A,w);const B=n.insert((()=>T),":first-child");B.attr("class","basic label-container");if(b&&e.look!=="handDrawn"){B.selectAll("path").attr("style",b)}if(i&&e.look!=="handDrawn"){B.selectAll("path").attr("style",i)}B.attr("transform",`translate(0,${-u/2})`);s.attr("transform",`translate(${-l/2+(e.padding??0)-(o.x-(o.left??0))},${-c/2+(e.padding??0)-u-(o.y-(o.top??0))})`);f(e,B);e.intersect=function(t){const r=G.polygon(e,S,t);return r};return n}(0,l.K2)(he,"waveEdgedRectangle");async function de(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o}=await d(t,e,p(e));const s=100;const l=50;const c=Math.max(o.width+(e.padding??0)*2,e?.width??0);const u=Math.max(o.height+(e.padding??0)*2,e?.height??0);const y=c/u;let b=c;let x=u;if(b>x*y){x=b/y}else{b=x*y}b=Math.max(b,s);x=Math.max(x,l);const C=Math.min(x*.2,x/4);const v=x+C*2;const{cssStyles:k}=e;const w=h.A.svg(n);const S=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const A=[{x:-b/2,y:v/2},...m(-b/2,v/2,b/2,v/2,C,1),{x:b/2,y:-v/2},...m(b/2,-v/2,-b/2,-v/2,C,-1)];const T=g(A);const B=w.path(T,S);const L=n.insert((()=>B),":first-child");L.attr("class","basic label-container");if(k&&e.look!=="handDrawn"){L.selectAll("path").attr("style",k)}if(i&&e.look!=="handDrawn"){L.selectAll("path").attr("style",i)}f(e,L);e.intersect=function(t){const r=G.polygon(e,A,t);return r};return n}(0,l.K2)(de,"waveRectangle");async function ue(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,label:s}=await d(t,e,p(e));const l=Math.max(o.width+(e.padding??0)*2,e?.width??0);const c=Math.max(o.height+(e.padding??0)*2,e?.height??0);const u=5;const g=-l/2;const m=-c/2;const{cssStyles:y}=e;const b=h.A.svg(n);const x=(0,a.Fr)(e,{});const C=[{x:g-u,y:m-u},{x:g-u,y:m+c},{x:g+l,y:m+c},{x:g+l,y:m-u}];const v=`M${g-u},${m-u} L${g+l},${m-u} L${g+l},${m+c} L${g-u},${m+c} L${g-u},${m-u}\n                M${g-u},${m} L${g+l},${m}\n                M${g},${m-u} L${g},${m+c}`;if(e.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const k=b.path(v,x);const w=n.insert((()=>k),":first-child");w.attr("transform",`translate(${u/2}, ${u/2})`);w.attr("class","basic label-container");if(y&&e.look!=="handDrawn"){w.selectAll("path").attr("style",y)}if(i&&e.look!=="handDrawn"){w.selectAll("path").attr("style",i)}s.attr("transform",`translate(${-(o.width/2)+u/2-(o.x-(o.left??0))}, ${-(o.height/2)+u/2-(o.y-(o.top??0))})`);f(e,w);e.intersect=function(t){const r=G.polygon(e,C,t);return r};return n}(0,l.K2)(ue,"windowPane");async function fe(t,e){const r=e;if(r.alias){e.label=r.alias}if(e.look==="handDrawn"){const{themeVariables:r}=(0,s.zj)();const{background:i}=r;const a={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${i}`]};await fe(t,a)}const i=(0,s.zj)();e.useHtmlLabels=i.htmlLabels;let n=i.er?.diagramPadding??10;let l=i.er?.entityPadding??6;const{cssStyles:d}=e;const{labelStyles:u,nodeStyles:g}=(0,a.GX)(e);if(r.attributes.length===0&&e.label){const r={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5,classes:""};if((0,o.Un)(e.label,i)+r.labelPaddingX*2<i.er.minEntityWidth){e.width=i.er.minEntityWidth}const a=await Bt(t,e,r);if(!(0,s._3)(i.htmlLabels)){const t=a.select("text");const e=t.node()?.getBBox();t.attr("transform",`translate(${-e.width/2}, 0)`)}return a}if(!i.htmlLabels){n*=1.25;l*=1.25}let m=p(e);if(!m){m="node default"}const y=t.insert("g").attr("class",m).attr("id",e.domId||e.id);const b=await pe(y,e.label??"",i,0,0,["name"],u);b.height+=l;let x=0;const C=[];const v=[];let k=0;let w=0;let S=0;let A=0;let T=true;let B=true;for(const a of r.attributes){const t=await pe(y,a.type,i,0,x,["attribute-type"],u);k=Math.max(k,t.width+n);const e=await pe(y,a.name,i,0,x,["attribute-name"],u);w=Math.max(w,e.width+n);const r=await pe(y,a.keys.join(),i,0,x,["attribute-keys"],u);S=Math.max(S,r.width+n);const o=await pe(y,a.comment,i,0,x,["attribute-comment"],u);A=Math.max(A,o.width+n);const s=Math.max(t.height,e.height,r.height,o.height)+l;v.push({yOffset:x,rowHeight:s});x+=s}let L=4;if(S<=n){T=false;S=0;L--}if(A<=n){B=false;A=0;L--}const M=y.node().getBBox();if(b.width+n*2-(k+w+S+A)>0){const t=b.width+n*2-(k+w+S+A);k+=t/L;w+=t/L;if(S>0){S+=t/L}if(A>0){A+=t/L}}const F=k+w+S+A;const _=h.A.svg(y);const $=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){$.roughness=0;$.fillStyle="solid"}let E=0;if(v.length>0){E=v.reduce(((t,e)=>t+(e?.rowHeight??0)),0)}const O=Math.max(M.width+n*2,e?.width||0,F);const D=Math.max((E??0)+b.height,e?.height||0);const K=-O/2;const I=-D/2;y.selectAll("g:not(:first-child)").each(((t,e,r)=>{const i=(0,c.Ltv)(r[e]);const a=i.attr("transform");let o=0;let s=0;if(a){const t=RegExp(/translate\(([^,]+),([^)]+)\)/);const e=t.exec(a);if(e){o=parseFloat(e[1]);s=parseFloat(e[2]);if(i.attr("class").includes("attribute-name")){o+=k}else if(i.attr("class").includes("attribute-keys")){o+=k+w}else if(i.attr("class").includes("attribute-comment")){o+=k+w+S}}}i.attr("transform",`translate(${K+n/2+o}, ${s+I+b.height+l/2})`)}));y.select(".name").attr("transform","translate("+-b.width/2+", "+(I+l/2)+")");const R=_.rectangle(K,I,O,D,$);const P=y.insert((()=>R),":first-child").attr("style",d.join(""));const{themeVariables:q}=(0,s.zj)();const{rowEven:z,rowOdd:N,nodeBorder:W}=q;C.push(0);for(const[a,o]of v.entries()){const t=a+1;const e=t%2===0&&o.yOffset!==0;const r=_.rectangle(K,b.height+I+o?.yOffset,O,o?.rowHeight,{...$,fill:e?z:N,stroke:W});y.insert((()=>r),"g.label").attr("style",d.join("")).attr("class",`row-rect-${e?"even":"odd"}`)}let j=_.line(K,b.height+I,O+K,b.height+I,$);y.insert((()=>j)).attr("class","divider");j=_.line(k+K,b.height+I,k+K,D+I,$);y.insert((()=>j)).attr("class","divider");if(T){j=_.line(k+w+K,b.height+I,k+w+K,D+I,$);y.insert((()=>j)).attr("class","divider")}if(B){j=_.line(k+w+S+K,b.height+I,k+w+S+K,D+I,$);y.insert((()=>j)).attr("class","divider")}for(const a of C){j=_.line(K,b.height+I+a,O+K,b.height+I+a,$);y.insert((()=>j)).attr("class","divider")}f(e,P);if(g&&e.look!=="handDrawn"){const t=g.split(";");const e=t?.filter((t=>t.includes("stroke")))?.map((t=>`${t}`)).join("; ");y.selectAll("path").attr("style",e??"");y.selectAll(".row-rect-even path").attr("style",g)}e.intersect=function(t){return G.rect(e,t)};return y}(0,l.K2)(fe,"erBox");async function pe(t,e,r,i=0,a=0,l=[],h=""){const d=t.insert("g").attr("class",`label ${l.join(" ")}`).attr("transform",`translate(${i}, ${a})`).attr("style",h);if(e!==(0,s.QO)(e)){e=(0,s.QO)(e);e=e.replaceAll("<","&lt;").replaceAll(">","&gt;")}const u=d.node().appendChild(await(0,n.GZ)(d,e,{width:(0,o.Un)(e,r)+100,style:h,useHtmlLabels:r.htmlLabels},r));if(e.includes("&lt;")||e.includes("&gt;")){let t=u.children[0];t.textContent=t.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");while(t.childNodes[0]){t=t.childNodes[0];t.textContent=t.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}}let f=u.getBBox();if((0,s._3)(r.htmlLabels)){const t=u.children[0];t.style.textAlign="start";const e=(0,c.Ltv)(u);f=t.getBoundingClientRect();e.attr("width",f.width);e.attr("height",f.height)}return f}(0,l.K2)(pe,"addText");async function ge(t,e,r,i,a=r.class.padding??12){const n=!i?3:0;const o=t.insert("g").attr("class",p(e)).attr("id",e.domId||e.id);let s=null;let l=null;let c=null;let h=null;let d=0;let u=0;let f=0;s=o.insert("g").attr("class","annotation-group text");if(e.annotations.length>0){const t=e.annotations[0];await me(s,{text:`${t}`},0);const r=s.node().getBBox();d=r.height}l=o.insert("g").attr("class","label-group text");await me(l,e,0,["font-weight: bolder"]);const g=l.node().getBBox();u=g.height;c=o.insert("g").attr("class","members-group text");let m=0;for(const p of e.members){const t=await me(c,p,m,[p.parseClassifier()]);m+=t+n}f=c.node().getBBox().height;if(f<=0){f=a/2}h=o.insert("g").attr("class","methods-group text");let y=0;for(const p of e.methods){const t=await me(h,p,y,[p.parseClassifier()]);y+=t+n}let b=o.node().getBBox();if(s!==null){const t=s.node().getBBox();s.attr("transform",`translate(${-t.width/2})`)}l.attr("transform",`translate(${-g.width/2}, ${d})`);b=o.node().getBBox();c.attr("transform",`translate(${0}, ${d+u+a*2})`);b=o.node().getBBox();h.attr("transform",`translate(${0}, ${d+u+(f?f+a*4:a*2)})`);b=o.node().getBBox();return{shapeSvg:o,bbox:b}}(0,l.K2)(ge,"textHelper");async function me(t,e,r,i=[]){const a=t.insert("g").attr("class","label").attr("style",i.join("; "));const h=(0,s.zj)();let d="useHtmlLabels"in e?e.useHtmlLabels:(0,s._3)(h.htmlLabels)??true;let u="";if("text"in e){u=e.text}else{u=e.label}if(!d&&u.startsWith("\\")){u=u.substring(1)}if((0,s.Wi)(u)){d=true}const f=await(0,n.GZ)(a,(0,s.oB)((0,o.Sm)(u)),{width:(0,o.Un)(u,h)+50,classes:"markdown-node-label",useHtmlLabels:d},h);let p;let g=1;if(!d){if(i.includes("font-weight: bolder")){(0,c.Ltv)(f).selectAll("tspan").attr("font-weight","")}g=f.children.length;const t=f.children[0];if(f.textContent===""||f.textContent.includes("&gt")){t.textContent=u[0]+u.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim();const e=u[1]===" ";if(e){t.textContent=t.textContent[0]+" "+t.textContent.substring(1)}}if(t.textContent==="undefined"){t.textContent=""}p=f.getBBox()}else{const t=f.children[0];const e=(0,c.Ltv)(f);g=t.innerHTML.split("<br>").length;if(t.innerHTML.includes("</math>")){g+=t.innerHTML.split("<mrow>").length-1}const r=t.getElementsByTagName("img");if(r){const t=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...r].map((e=>new Promise((r=>{function i(){e.style.display="flex";e.style.flexDirection="column";if(t){const t=h.fontSize?.toString()??window.getComputedStyle(document.body).fontSize;const r=5;const i=parseInt(t,10)*r+"px";e.style.minWidth=i;e.style.maxWidth=i}else{e.style.width="100%"}r(e)}(0,l.K2)(i,"setupImage");setTimeout((()=>{if(e.complete){i()}}));e.addEventListener("error",i);e.addEventListener("load",i)})))))}p=t.getBoundingClientRect();e.attr("width",p.width);e.attr("height",p.height)}a.attr("transform","translate(0,"+(-p.height/(2*g)+r)+")");return p.height}(0,l.K2)(me,"addText");async function ye(t,e){const r=(0,s.D7)();const i=r.class.padding??12;const n=i;const o=e.useHtmlLabels??(0,s._3)(r.htmlLabels)??true;const l=e;l.annotations=l.annotations??[];l.members=l.members??[];l.methods=l.methods??[];const{shapeSvg:d,bbox:u}=await ge(t,e,r,o,n);const{labelStyles:p,nodeStyles:g}=(0,a.GX)(e);e.labelStyle=p;e.cssStyles=l.styles||"";const m=l.styles?.join(";")||g||"";if(!e.cssStyles){e.cssStyles=m.replaceAll("!important","").split(";")}const y=l.members.length===0&&l.methods.length===0&&!r.class?.hideEmptyMembersBox;const b=h.A.svg(d);const x=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const C=u.width;let v=u.height;if(l.members.length===0&&l.methods.length===0){v+=n}else if(l.members.length>0&&l.methods.length===0){v+=n*2}const k=-C/2;const w=-v/2;const S=b.rectangle(k-i,w-i-(y?i:l.members.length===0&&l.methods.length===0?-i/2:0),C+2*i,v+2*i+(y?i*2:l.members.length===0&&l.methods.length===0?-i:0),x);const A=d.insert((()=>S),":first-child");A.attr("class","basic label-container");const T=A.node().getBBox();d.selectAll(".text").each(((t,e,r)=>{const a=(0,c.Ltv)(r[e]);const n=a.attr("transform");let s=0;if(n){const t=RegExp(/translate\(([^,]+),([^)]+)\)/);const e=t.exec(n);if(e){s=parseFloat(e[2])}}let h=s+w+i-(y?i:l.members.length===0&&l.methods.length===0?-i/2:0);if(!o){h-=4}let u=k;if(a.attr("class").includes("label-group")||a.attr("class").includes("annotation-group")){u=-a.node()?.getBBox().width/2||0;d.selectAll("text").each((function(t,e,r){if(window.getComputedStyle(r[e]).textAnchor==="middle"){u=0}}))}a.attr("transform",`translate(${u}, ${h})`)}));const B=d.select(".annotation-group").node().getBBox().height-(y?i/2:0)||0;const L=d.select(".label-group").node().getBBox().height-(y?i/2:0)||0;const M=d.select(".members-group").node().getBBox().height-(y?i/2:0)||0;if(l.members.length>0||l.methods.length>0||y){const t=b.line(T.x,B+L+w+i,T.x+T.width,B+L+w+i,x);const e=d.insert((()=>t));e.attr("class","divider").attr("style",m)}if(y||l.members.length>0||l.methods.length>0){const t=b.line(T.x,B+L+M+w+n*2+i,T.x+T.width,B+L+M+w+i+n*2,x);const e=d.insert((()=>t));e.attr("class","divider").attr("style",m)}if(l.look!=="handDrawn"){d.selectAll("path").attr("style",m)}A.select(":nth-child(2)").attr("style",m);d.selectAll(".divider").select("path").attr("style",m);if(e.labelStyle){d.selectAll("span").attr("style",e.labelStyle)}else{d.selectAll("span").attr("style",m)}if(!o){const t=RegExp(/color\s*:\s*([^;]*)/);const e=t.exec(m);if(e){const t=e[0].replace("color","fill");d.selectAll("tspan").attr("style",t)}else if(p){const e=t.exec(p);if(e){const t=e[0].replace("color","fill");d.selectAll("tspan").attr("style",t)}}}f(e,A);e.intersect=function(t){return G.rect(e,t)};return d}(0,l.K2)(ye,"classBox");async function be(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const n=e;const o=e;const s=20;const l=20;const d="verifyMethod"in e;const u=p(e);const g=t.insert("g").attr("class",u).attr("id",e.domId??e.id);let m;if(d){m=await xe(g,`&lt;&lt;${n.type}&gt;&gt;`,0,e.labelStyle)}else{m=await xe(g,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle)}let y=m;const b=await xe(g,n.name,y,e.labelStyle+"; font-weight: bold;");y+=b+l;if(d){const t=await xe(g,`${n.requirementId?`ID: ${n.requirementId}`:""}`,y,e.labelStyle);y+=t;const r=await xe(g,`${n.text?`Text: ${n.text}`:""}`,y,e.labelStyle);y+=r;const i=await xe(g,`${n.risk?`Risk: ${n.risk}`:""}`,y,e.labelStyle);y+=i;await xe(g,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,y,e.labelStyle)}else{const t=await xe(g,`${o.type?`Type: ${o.type}`:""}`,y,e.labelStyle);y+=t;await xe(g,`${o.docRef?`Doc Ref: ${o.docRef}`:""}`,y,e.labelStyle)}const x=(g.node()?.getBBox().width??200)+s;const C=(g.node()?.getBBox().height??200)+s;const v=-x/2;const k=-C/2;const w=h.A.svg(g);const S=(0,a.Fr)(e,{});if(e.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const A=w.rectangle(v,k,x,C,S);const T=g.insert((()=>A),":first-child");T.attr("class","basic label-container").attr("style",i);g.selectAll(".label").each(((t,e,r)=>{const i=(0,c.Ltv)(r[e]);const a=i.attr("transform");let n=0;let o=0;if(a){const t=RegExp(/translate\(([^,]+),([^)]+)\)/);const e=t.exec(a);if(e){n=parseFloat(e[1]);o=parseFloat(e[2])}}const l=o-C/2;let h=v+s/2;if(e===0||e===1){h=n}i.attr("transform",`translate(${h}, ${l+s})`)}));if(y>m+b+l){const t=w.line(v,k+m+b+l,v+x,k+m+b+l,S);const e=g.insert((()=>t));e.attr("style",i)}f(e,T);e.intersect=function(t){return G.rect(e,t)};return g}(0,l.K2)(be,"requirementBox");async function xe(t,e,r,i=""){if(e===""){return 0}const a=t.insert("g").attr("class","label").attr("style",i);const l=(0,s.D7)();const h=l.htmlLabels??true;const d=await(0,n.GZ)(a,(0,s.oB)((0,o.Sm)(e)),{width:(0,o.Un)(e,l)+50,classes:"markdown-node-label",useHtmlLabels:h,style:i},l);let u;if(!h){const t=d.children[0];for(const e of t.children){e.textContent=e.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<");if(i){e.setAttribute("style",i)}}u=d.getBBox();u.height+=6}else{const t=d.children[0];const e=(0,c.Ltv)(d);u=t.getBoundingClientRect();e.attr("width",u.width);e.attr("height",u.height)}a.attr("transform",`translate(${-u.width/2},${-u.height/2+r})`);return u.height}(0,l.K2)(xe,"addText");var Ce=(0,l.K2)((t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}}),"colorFromPriority");async function ve(t,e,{config:r}){const{labelStyles:i,nodeStyles:n}=(0,a.GX)(e);e.labelStyle=i||"";const o=10;const s=e.width;e.width=(e.width??200)-10;const{shapeSvg:l,bbox:c,label:g}=await d(t,e,p(e));const m=e.padding||10;let y="";let b;if("ticket"in e&&e.ticket&&r?.kanban?.ticketBaseUrl){y=r?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket);b=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",y).attr("target","_blank")}const x={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:false};let C,v;if(b){({label:C,bbox:v}=await u(b,"ticket"in e&&e.ticket||"",x))}else{({label:C,bbox:v}=await u(l,"ticket"in e&&e.ticket||"",x))}const{label:k,bbox:w}=await u(l,"assigned"in e&&e.assigned||"",x);e.width=s;const A=10;const T=e?.width||0;const B=Math.max(v.height,w.height)/2;const L=Math.max(c.height+A*2,e?.height||0)+B;const M=-T/2;const F=-L/2;g.attr("transform","translate("+(m-T/2)+", "+(-B-c.height/2)+")");C.attr("transform","translate("+(m-T/2)+", "+(-B+c.height/2)+")");k.attr("transform","translate("+(m+T/2-w.width-2*o)+", "+(-B+c.height/2)+")");let _;const{rx:$,ry:E}=e;const{cssStyles:O}=e;if(e.look==="handDrawn"){const t=h.A.svg(l);const r=(0,a.Fr)(e,{});const i=$||E?t.path(S(M,F,T,L,$||0),r):t.rectangle(M,F,T,L,r);_=l.insert((()=>i),":first-child");_.attr("class","basic label-container").attr("style",O?O:null)}else{_=l.insert("rect",":first-child");_.attr("class","basic label-container __APA__").attr("style",n).attr("rx",$??5).attr("ry",E??5).attr("x",M).attr("y",F).attr("width",T).attr("height",L);const t="priority"in e&&e.priority;if(t){const e=l.append("line");const r=M+2;const i=F+Math.floor(($??0)/2);const a=F+L-Math.floor(($??0)/2);e.attr("x1",r).attr("y1",i).attr("x2",r).attr("y2",a).attr("stroke-width","4").attr("stroke",Ce(t))}}f(e,_);e.height=L;e.intersect=function(t){return G.rect(e,t)};return l}(0,l.K2)(ve,"kanbanItem");async function ke(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:s,halfPadding:c,label:u}=await d(t,e,p(e));const g=s.width+10*c;const m=s.height+8*c;const y=.15*g;const{cssStyles:b}=e;const x=s.width+20;const C=s.height+20;const v=Math.max(g,x);const k=Math.max(m,C);u.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let w;const S=`M0 0 \n    a${y},${y} 1 0,0 ${v*.25},${-1*k*.1}\n    a${y},${y} 1 0,0 ${v*.25},${0}\n    a${y},${y} 1 0,0 ${v*.25},${0}\n    a${y},${y} 1 0,0 ${v*.25},${k*.1}\n\n    a${y},${y} 1 0,0 ${v*.15},${k*.33}\n    a${y*.8},${y*.8} 1 0,0 0,${k*.34}\n    a${y},${y} 1 0,0 ${-1*v*.15},${k*.33}\n\n    a${y},${y} 1 0,0 ${-1*v*.25},${k*.15}\n    a${y},${y} 1 0,0 ${-1*v*.25},0\n    a${y},${y} 1 0,0 ${-1*v*.25},0\n    a${y},${y} 1 0,0 ${-1*v*.25},${-1*k*.15}\n\n    a${y},${y} 1 0,0 ${-1*v*.1},${-1*k*.33}\n    a${y*.8},${y*.8} 1 0,0 0,${-1*k*.34}\n    a${y},${y} 1 0,0 ${v*.1},${-1*k*.33}\n  H0 V0 Z`;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=t.path(S,r);w=n.insert((()=>i),":first-child");w.attr("class","basic label-container").attr("style",(0,o.KL)(b))}else{w=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",S)}w.attr("transform",`translate(${-v/2}, ${-k/2})`);f(e,w);e.calcIntersect=function(t,e){return G.rect(t,e)};e.intersect=function(t){l.Rm.info("Bang intersect",e,t);return G.rect(e,t)};return n}(0,l.K2)(ke,"bang");async function we(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:s,halfPadding:c,label:u}=await d(t,e,p(e));const g=s.width+2*c;const m=s.height+2*c;const y=.15*g;const b=.25*g;const x=.35*g;const C=.2*g;const{cssStyles:v}=e;let k;const w=`M0 0 \n    a${y},${y} 0 0,1 ${g*.25},${-1*g*.1}\n    a${x},${x} 1 0,1 ${g*.4},${-1*g*.1}\n    a${b},${b} 1 0,1 ${g*.35},${g*.2}\n\n    a${y},${y} 1 0,1 ${g*.15},${m*.35}\n    a${C},${C} 1 0,1 ${-1*g*.15},${m*.65}\n\n    a${b},${y} 1 0,1 ${-1*g*.25},${g*.15}\n    a${x},${x} 1 0,1 ${-1*g*.5},0\n    a${y},${y} 1 0,1 ${-1*g*.25},${-1*g*.15}\n\n    a${y},${y} 1 0,1 ${-1*g*.1},${-1*m*.35}\n    a${C},${C} 1 0,1 ${g*.1},${-1*m*.65}\n  H0 V0 Z`;if(e.look==="handDrawn"){const t=h.A.svg(n);const r=(0,a.Fr)(e,{});const i=t.path(w,r);k=n.insert((()=>i),":first-child");k.attr("class","basic label-container").attr("style",(0,o.KL)(v))}else{k=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",w)}u.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);k.attr("transform",`translate(${-g/2}, ${-m/2})`);f(e,k);e.calcIntersect=function(t,e){return G.rect(t,e)};e.intersect=function(t){l.Rm.info("Cloud intersect",e,t);return G.rect(e,t)};return n}(0,l.K2)(we,"cloud");async function Se(t,e){const{labelStyles:r,nodeStyles:i}=(0,a.GX)(e);e.labelStyle=r;const{shapeSvg:n,bbox:o,halfPadding:s,label:l}=await d(t,e,p(e));const c=o.width+8*s;const h=o.height+2*s;const u=5;const g=`\n    M${-c/2} ${h/2-u}\n    v${-h+2*u}\n    q0,-${u} ${u},-${u}\n    h${c-2*u}\n    q${u},0 ${u},${u}\n    v${h-2*u}\n    q0,${u} -${u},${u}\n    h${-c+2*u}\n    q-${u},0 -${u},-${u}\n    Z\n  `;const m=n.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",i).attr("d",g);n.append("line").attr("class","node-line-").attr("x1",-c/2).attr("y1",h/2).attr("x2",c/2).attr("y2",h/2);l.attr("transform",`translate(${-o.width/2}, ${-o.height/2})`);n.append((()=>l.node()));f(e,m);e.calcIntersect=function(t,e){return G.rect(t,e)};e.intersect=function(t){return G.rect(e,t)};return n}(0,l.K2)(Se,"defaultMindmapNode");async function Ae(t,e){const r={padding:e.padding??0};return J(t,e,r)}(0,l.K2)(Ae,"mindmapCircle");var Te=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Yt},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Ht},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Xt},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Jt},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:ut},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:J},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:ke},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:we},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:zt},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:xt},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Ft},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Mt},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:se},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Tt},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:pt},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:re},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Z},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Gt},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Qt},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Zt},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:yt},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Ct},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:it},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:nt},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:st},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:_t},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:he},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:bt},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:oe},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Dt},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:lt},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:ft},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:ce},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:ue},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:gt},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:le},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:mt},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Ut},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Rt},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:It},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:X},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:et},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:ee},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:te},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:de},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Nt},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Kt}];var Be=(0,l.K2)((()=>{const t={state:Vt,choice:Q,note:Pt,rectWithTitle:Wt,labelRect:Lt,iconSquare:St,iconCircle:kt,icon:vt,iconRounded:wt,imageSquare:At,anchor:U,kanbanItem:ve,mindmapCircle:Ae,defaultMindmapNode:Se,classBox:ye,erBox:fe,requirementBox:be};const e=[...Object.entries(t),...Te.flatMap((t=>{const e=[t.shortName,..."aliases"in t?t.aliases:[],..."internalAliases"in t?t.internalAliases:[]];return e.map((e=>[e,t.handler]))}))];return Object.fromEntries(e)}),"generateShapeMap");var Le=Be();function Me(t){return t in Le}(0,l.K2)(Me,"isValidShape");var Fe=new Map;async function _e(t,e,r){let i;let a;if(e.shape==="rect"){if(e.rx&&e.ry){e.shape="roundedRect"}else{e.shape="squareRect"}}const n=e.shape?Le[e.shape]:void 0;if(!n){throw new Error(`No such shape: ${e.shape}. Please check your syntax.`)}if(e.link){let o;if(r.config.securityLevel==="sandbox"){o="_top"}else if(e.linkTarget){o=e.linkTarget||"_blank"}i=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o??null);a=await n(i,e,r)}else{a=await n(t,e,r);i=a}if(e.tooltip){a.attr("title",e.tooltip)}Fe.set(e.id,i);if(e.haveCallback){i.attr("class",i.attr("class")+" clickable")}return i}(0,l.K2)(_e,"insertNode");var $e=(0,l.K2)(((t,e)=>{Fe.set(e.id,t)}),"setNodeElem");var Ee=(0,l.K2)((()=>{Fe.clear()}),"clear");var Oe=(0,l.K2)((t=>{const e=Fe.get(t.id);l.Rm.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8;const i=t.diff||0;if(t.clusterNode){e.attr("transform","translate("+(t.x+i-t.width/2)+", "+(t.y-t.height/2-r)+")")}else{e.attr("transform","translate("+t.x+", "+t.y+")")}return i}),"positionNode")},57028:(t,e,r)=>{"use strict";r.d(e,{H:()=>ti,r:()=>Jr});var i=r(70416);function a(t){return typeof t==="undefined"||t===null}(0,i.K2)(a,"isNothing");function n(t){return typeof t==="object"&&t!==null}(0,i.K2)(n,"isObject");function o(t){if(Array.isArray(t))return t;else if(a(t))return[];return[t]}(0,i.K2)(o,"toArray");function s(t,e){var r,i,a,n;if(e){n=Object.keys(e);for(r=0,i=n.length;r<i;r+=1){a=n[r];t[a]=e[a]}}return t}(0,i.K2)(s,"extend");function l(t,e){var r="",i;for(i=0;i<e;i+=1){r+=t}return r}(0,i.K2)(l,"repeat");function c(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}(0,i.K2)(c,"isNegativeZero");var h=a;var d=n;var u=o;var f=l;var p=c;var g=s;var m={isNothing:h,isObject:d,toArray:u,repeat:f,isNegativeZero:p,extend:g};function y(t,e){var r="",i=t.reason||"(unknown reason)";if(!t.mark)return i;if(t.mark.name){r+='in "'+t.mark.name+'" '}r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")";if(!e&&t.mark.snippet){r+="\n\n"+t.mark.snippet}return i+" "+r}(0,i.K2)(y,"formatError");function b(t,e){Error.call(this);this.name="YAMLException";this.reason=t;this.mark=e;this.message=y(this,false);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack||""}}(0,i.K2)(b,"YAMLException$1");b.prototype=Object.create(Error.prototype);b.prototype.constructor=b;b.prototype.toString=(0,i.K2)((function t(e){return this.name+": "+y(this,e)}),"toString");var x=b;function C(t,e,r,i,a){var n="";var o="";var s=Math.floor(a/2)-1;if(i-e>s){n=" ... ";e=i-s+n.length}if(r-i>s){o=" ...";r=i+s-o.length}return{str:n+t.slice(e,r).replace(/\t/g,"")+o,pos:i-e+n.length}}(0,i.K2)(C,"getLine");function v(t,e){return m.repeat(" ",e-t.length)+t}(0,i.K2)(v,"padStart");function k(t,e){e=Object.create(e||null);if(!t.buffer)return null;if(!e.maxLength)e.maxLength=79;if(typeof e.indent!=="number")e.indent=1;if(typeof e.linesBefore!=="number")e.linesBefore=3;if(typeof e.linesAfter!=="number")e.linesAfter=2;var r=/\r?\n|\r|\0/g;var i=[0];var a=[];var n;var o=-1;while(n=r.exec(t.buffer)){a.push(n.index);i.push(n.index+n[0].length);if(t.position<=n.index&&o<0){o=i.length-2}}if(o<0)o=i.length-1;var s="",l,c;var h=Math.min(t.line+e.linesAfter,a.length).toString().length;var d=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore;l++){if(o-l<0)break;c=C(t.buffer,i[o-l],a[o-l],t.position-(i[o]-i[o-l]),d);s=m.repeat(" ",e.indent)+v((t.line-l+1).toString(),h)+" | "+c.str+"\n"+s}c=C(t.buffer,i[o],a[o],t.position,d);s+=m.repeat(" ",e.indent)+v((t.line+1).toString(),h)+" | "+c.str+"\n";s+=m.repeat("-",e.indent+h+3+c.pos)+"^\n";for(l=1;l<=e.linesAfter;l++){if(o+l>=a.length)break;c=C(t.buffer,i[o+l],a[o+l],t.position-(i[o]-i[o+l]),d);s+=m.repeat(" ",e.indent)+v((t.line+l+1).toString(),h)+" | "+c.str+"\n"}return s.replace(/\n$/,"")}(0,i.K2)(k,"makeSnippet");var w=k;var S=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"];var A=["scalar","sequence","mapping"];function T(t){var e={};if(t!==null){Object.keys(t).forEach((function(r){t[r].forEach((function(t){e[String(t)]=r}))}))}return e}(0,i.K2)(T,"compileStyleAliases");function B(t,e){e=e||{};Object.keys(e).forEach((function(e){if(S.indexOf(e)===-1){throw new x('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}}));this.options=e;this.tag=t;this.kind=e["kind"]||null;this.resolve=e["resolve"]||function(){return true};this.construct=e["construct"]||function(t){return t};this.instanceOf=e["instanceOf"]||null;this.predicate=e["predicate"]||null;this.represent=e["represent"]||null;this.representName=e["representName"]||null;this.defaultStyle=e["defaultStyle"]||null;this.multi=e["multi"]||false;this.styleAliases=T(e["styleAliases"]||null);if(A.indexOf(this.kind)===-1){throw new x('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}}(0,i.K2)(B,"Type$1");var L=B;function M(t,e){var r=[];t[e].forEach((function(t){var e=r.length;r.forEach((function(r,i){if(r.tag===t.tag&&r.kind===t.kind&&r.multi===t.multi){e=i}}));r[e]=t}));return r}(0,i.K2)(M,"compileList");function F(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function a(e){if(e.multi){t.multi[e.kind].push(e);t.multi["fallback"].push(e)}else{t[e.kind][e.tag]=t["fallback"][e.tag]=e}}(0,i.K2)(a,"collectType");for(e=0,r=arguments.length;e<r;e+=1){arguments[e].forEach(a)}return t}(0,i.K2)(F,"compileMap");function _(t){return this.extend(t)}(0,i.K2)(_,"Schema$1");_.prototype.extend=(0,i.K2)((function t(e){var r=[];var i=[];if(e instanceof L){i.push(e)}else if(Array.isArray(e)){i=i.concat(e)}else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit))){if(e.implicit)r=r.concat(e.implicit);if(e.explicit)i=i.concat(e.explicit)}else{throw new x("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })")}r.forEach((function(t){if(!(t instanceof L)){throw new x("Specified list of YAML types (or a single Type object) contains a non-Type object.")}if(t.loadKind&&t.loadKind!=="scalar"){throw new x("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}if(t.multi){throw new x("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}}));i.forEach((function(t){if(!(t instanceof L)){throw new x("Specified list of YAML types (or a single Type object) contains a non-Type object.")}}));var a=Object.create(_.prototype);a.implicit=(this.implicit||[]).concat(r);a.explicit=(this.explicit||[]).concat(i);a.compiledImplicit=M(a,"implicit");a.compiledExplicit=M(a,"explicit");a.compiledTypeMap=F(a.compiledImplicit,a.compiledExplicit);return a}),"extend");var $=_;var E=new L("tag:yaml.org,2002:str",{kind:"scalar",construct:(0,i.K2)((function(t){return t!==null?t:""}),"construct")});var O=new L("tag:yaml.org,2002:seq",{kind:"sequence",construct:(0,i.K2)((function(t){return t!==null?t:[]}),"construct")});var D=new L("tag:yaml.org,2002:map",{kind:"mapping",construct:(0,i.K2)((function(t){return t!==null?t:{}}),"construct")});var K=new $({explicit:[E,O,D]});function I(t){if(t===null)return true;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}(0,i.K2)(I,"resolveYamlNull");function R(){return null}(0,i.K2)(R,"constructYamlNull");function P(t){return t===null}(0,i.K2)(P,"isNull");var q=new L("tag:yaml.org,2002:null",{kind:"scalar",resolve:I,construct:R,predicate:P,represent:{canonical:(0,i.K2)((function(){return"~"}),"canonical"),lowercase:(0,i.K2)((function(){return"null"}),"lowercase"),uppercase:(0,i.K2)((function(){return"NULL"}),"uppercase"),camelcase:(0,i.K2)((function(){return"Null"}),"camelcase"),empty:(0,i.K2)((function(){return""}),"empty")},defaultStyle:"lowercase"});function z(t){if(t===null)return false;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}(0,i.K2)(z,"resolveYamlBoolean");function N(t){return t==="true"||t==="True"||t==="TRUE"}(0,i.K2)(N,"constructYamlBoolean");function W(t){return Object.prototype.toString.call(t)==="[object Boolean]"}(0,i.K2)(W,"isBoolean");var j=new L("tag:yaml.org,2002:bool",{kind:"scalar",resolve:z,construct:N,predicate:W,represent:{lowercase:(0,i.K2)((function(t){return t?"true":"false"}),"lowercase"),uppercase:(0,i.K2)((function(t){return t?"TRUE":"FALSE"}),"uppercase"),camelcase:(0,i.K2)((function(t){return t?"True":"False"}),"camelcase")},defaultStyle:"lowercase"});function H(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}(0,i.K2)(H,"isHexCode");function G(t){return 48<=t&&t<=55}(0,i.K2)(G,"isOctCode");function U(t){return 48<=t&&t<=57}(0,i.K2)(U,"isDecCode");function Y(t){if(t===null)return false;var e=t.length,r=0,i=false,a;if(!e)return false;a=t[r];if(a==="-"||a==="+"){a=t[++r]}if(a==="0"){if(r+1===e)return true;a=t[++r];if(a==="b"){r++;for(;r<e;r++){a=t[r];if(a==="_")continue;if(a!=="0"&&a!=="1")return false;i=true}return i&&a!=="_"}if(a==="x"){r++;for(;r<e;r++){a=t[r];if(a==="_")continue;if(!H(t.charCodeAt(r)))return false;i=true}return i&&a!=="_"}if(a==="o"){r++;for(;r<e;r++){a=t[r];if(a==="_")continue;if(!G(t.charCodeAt(r)))return false;i=true}return i&&a!=="_"}}if(a==="_")return false;for(;r<e;r++){a=t[r];if(a==="_")continue;if(!U(t.charCodeAt(r))){return false}i=true}if(!i||a==="_")return false;return true}(0,i.K2)(Y,"resolveYamlInteger");function X(t){var e=t,r=1,i;if(e.indexOf("_")!==-1){e=e.replace(/_/g,"")}i=e[0];if(i==="-"||i==="+"){if(i==="-")r=-1;e=e.slice(1);i=e[0]}if(e==="0")return 0;if(i==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}(0,i.K2)(X,"constructYamlInteger");function V(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1===0&&!m.isNegativeZero(t))}(0,i.K2)(V,"isInteger");var Z=new L("tag:yaml.org,2002:int",{kind:"scalar",resolve:Y,construct:X,predicate:V,represent:{binary:(0,i.K2)((function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)}),"binary"),octal:(0,i.K2)((function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)}),"octal"),decimal:(0,i.K2)((function(t){return t.toString(10)}),"decimal"),hexadecimal:(0,i.K2)((function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}),"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}});var Q=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function J(t){if(t===null)return false;if(!Q.test(t)||t[t.length-1]==="_"){return false}return true}(0,i.K2)(J,"resolveYamlFloat");function tt(t){var e,r;e=t.replace(/_/g,"").toLowerCase();r=e[0]==="-"?-1:1;if("+-".indexOf(e[0])>=0){e=e.slice(1)}if(e===".inf"){return r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}else if(e===".nan"){return NaN}return r*parseFloat(e,10)}(0,i.K2)(tt,"constructYamlFloat");var et=/^[-+]?[0-9]+e/;function rt(t,e){var r;if(isNaN(t)){switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}}else if(Number.POSITIVE_INFINITY===t){switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}}else if(Number.NEGATIVE_INFINITY===t){switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}else if(m.isNegativeZero(t)){return"-0.0"}r=t.toString(10);return et.test(r)?r.replace("e",".e"):r}(0,i.K2)(rt,"representYamlFloat");function it(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||m.isNegativeZero(t))}(0,i.K2)(it,"isFloat");var at=new L("tag:yaml.org,2002:float",{kind:"scalar",resolve:J,construct:tt,predicate:it,represent:rt,defaultStyle:"lowercase"});var nt=K.extend({implicit:[q,j,Z,at]});var ot=nt;var st=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$");var lt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ct(t){if(t===null)return false;if(st.exec(t)!==null)return true;if(lt.exec(t)!==null)return true;return false}(0,i.K2)(ct,"resolveYamlTimestamp");function ht(t){var e,r,i,a,n,o,s,l=0,c=null,h,d,u;e=st.exec(t);if(e===null)e=lt.exec(t);if(e===null)throw new Error("Date resolve error");r=+e[1];i=+e[2]-1;a=+e[3];if(!e[4]){return new Date(Date.UTC(r,i,a))}n=+e[4];o=+e[5];s=+e[6];if(e[7]){l=e[7].slice(0,3);while(l.length<3){l+="0"}l=+l}if(e[9]){h=+e[10];d=+(e[11]||0);c=(h*60+d)*6e4;if(e[9]==="-")c=-c}u=new Date(Date.UTC(r,i,a,n,o,s,l));if(c)u.setTime(u.getTime()-c);return u}(0,i.K2)(ht,"constructYamlTimestamp");function dt(t){return t.toISOString()}(0,i.K2)(dt,"representYamlTimestamp");var ut=new L("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ct,construct:ht,instanceOf:Date,represent:dt});function ft(t){return t==="<<"||t===null}(0,i.K2)(ft,"resolveYamlMerge");var pt=new L("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ft});var gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function mt(t){if(t===null)return false;var e,r,i=0,a=t.length,n=gt;for(r=0;r<a;r++){e=n.indexOf(t.charAt(r));if(e>64)continue;if(e<0)return false;i+=6}return i%8===0}(0,i.K2)(mt,"resolveYamlBinary");function yt(t){var e,r,i=t.replace(/[\r\n=]/g,""),a=i.length,n=gt,o=0,s=[];for(e=0;e<a;e++){if(e%4===0&&e){s.push(o>>16&255);s.push(o>>8&255);s.push(o&255)}o=o<<6|n.indexOf(i.charAt(e))}r=a%4*6;if(r===0){s.push(o>>16&255);s.push(o>>8&255);s.push(o&255)}else if(r===18){s.push(o>>10&255);s.push(o>>2&255)}else if(r===12){s.push(o>>4&255)}return new Uint8Array(s)}(0,i.K2)(yt,"constructYamlBinary");function bt(t){var e="",r=0,i,a,n=t.length,o=gt;for(i=0;i<n;i++){if(i%3===0&&i){e+=o[r>>18&63];e+=o[r>>12&63];e+=o[r>>6&63];e+=o[r&63]}r=(r<<8)+t[i]}a=n%3;if(a===0){e+=o[r>>18&63];e+=o[r>>12&63];e+=o[r>>6&63];e+=o[r&63]}else if(a===2){e+=o[r>>10&63];e+=o[r>>4&63];e+=o[r<<2&63];e+=o[64]}else if(a===1){e+=o[r>>2&63];e+=o[r<<4&63];e+=o[64];e+=o[64]}return e}(0,i.K2)(bt,"representYamlBinary");function xt(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}(0,i.K2)(xt,"isBinary");var Ct=new L("tag:yaml.org,2002:binary",{kind:"scalar",resolve:mt,construct:yt,predicate:xt,represent:bt});var vt=Object.prototype.hasOwnProperty;var kt=Object.prototype.toString;function wt(t){if(t===null)return true;var e=[],r,i,a,n,o,s=t;for(r=0,i=s.length;r<i;r+=1){a=s[r];o=false;if(kt.call(a)!=="[object Object]")return false;for(n in a){if(vt.call(a,n)){if(!o)o=true;else return false}}if(!o)return false;if(e.indexOf(n)===-1)e.push(n);else return false}return true}(0,i.K2)(wt,"resolveYamlOmap");function St(t){return t!==null?t:[]}(0,i.K2)(St,"constructYamlOmap");var At=new L("tag:yaml.org,2002:omap",{kind:"sequence",resolve:wt,construct:St});var Tt=Object.prototype.toString;function Bt(t){if(t===null)return true;var e,r,i,a,n,o=t;n=new Array(o.length);for(e=0,r=o.length;e<r;e+=1){i=o[e];if(Tt.call(i)!=="[object Object]")return false;a=Object.keys(i);if(a.length!==1)return false;n[e]=[a[0],i[a[0]]]}return true}(0,i.K2)(Bt,"resolveYamlPairs");function Lt(t){if(t===null)return[];var e,r,i,a,n,o=t;n=new Array(o.length);for(e=0,r=o.length;e<r;e+=1){i=o[e];a=Object.keys(i);n[e]=[a[0],i[a[0]]]}return n}(0,i.K2)(Lt,"constructYamlPairs");var Mt=new L("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Bt,construct:Lt});var Ft=Object.prototype.hasOwnProperty;function _t(t){if(t===null)return true;var e,r=t;for(e in r){if(Ft.call(r,e)){if(r[e]!==null)return false}}return true}(0,i.K2)(_t,"resolveYamlSet");function $t(t){return t!==null?t:{}}(0,i.K2)($t,"constructYamlSet");var Et=new L("tag:yaml.org,2002:set",{kind:"mapping",resolve:_t,construct:$t});var Ot=ot.extend({implicit:[ut,pt],explicit:[Ct,At,Mt,Et]});var Dt=Object.prototype.hasOwnProperty;var Kt=1;var It=2;var Rt=3;var Pt=4;var qt=1;var zt=2;var Nt=3;var Wt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var jt=/[\x85\u2028\u2029]/;var Ht=/[,\[\]\{\}]/;var Gt=/^(?:!|!!|![a-z\-]+!)$/i;var Ut=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Yt(t){return Object.prototype.toString.call(t)}(0,i.K2)(Yt,"_class");function Xt(t){return t===10||t===13}(0,i.K2)(Xt,"is_EOL");function Vt(t){return t===9||t===32}(0,i.K2)(Vt,"is_WHITE_SPACE");function Zt(t){return t===9||t===32||t===10||t===13}(0,i.K2)(Zt,"is_WS_OR_EOL");function Qt(t){return t===44||t===91||t===93||t===123||t===125}(0,i.K2)(Qt,"is_FLOW_INDICATOR");function Jt(t){var e;if(48<=t&&t<=57){return t-48}e=t|32;if(97<=e&&e<=102){return e-97+10}return-1}(0,i.K2)(Jt,"fromHexCode");function te(t){if(t===120){return 2}if(t===117){return 4}if(t===85){return 8}return 0}(0,i.K2)(te,"escapedHexLen");function ee(t){if(48<=t&&t<=57){return t-48}return-1}(0,i.K2)(ee,"fromDecimalCode");function re(t){return t===48?"\0":t===97?"":t===98?"\b":t===116?"\t":t===9?"\t":t===110?"\n":t===118?"\v":t===102?"\f":t===114?"\r":t===101?"":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}(0,i.K2)(re,"simpleEscapeSequence");function ie(t){if(t<=65535){return String.fromCharCode(t)}return String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}(0,i.K2)(ie,"charFromCodepoint");var ae=new Array(256);var ne=new Array(256);for(oe=0;oe<256;oe++){ae[oe]=re(oe)?1:0;ne[oe]=re(oe)}var oe;function se(t,e){this.input=t;this.filename=e["filename"]||null;this.schema=e["schema"]||Ot;this.onWarning=e["onWarning"]||null;this.legacy=e["legacy"]||false;this.json=e["json"]||false;this.listener=e["listener"]||null;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=t.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.firstTabInLine=-1;this.documents=[]}(0,i.K2)(se,"State$1");function le(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};r.snippet=w(r);return new x(e,r)}(0,i.K2)(le,"generateError");function ce(t,e){throw le(t,e)}(0,i.K2)(ce,"throwError");function he(t,e){if(t.onWarning){t.onWarning.call(null,le(t,e))}}(0,i.K2)(he,"throwWarning");var de={YAML:(0,i.K2)((function t(e,r,i){var a,n,o;if(e.version!==null){ce(e,"duplication of %YAML directive")}if(i.length!==1){ce(e,"YAML directive accepts exactly one argument")}a=/^([0-9]+)\.([0-9]+)$/.exec(i[0]);if(a===null){ce(e,"ill-formed argument of the YAML directive")}n=parseInt(a[1],10);o=parseInt(a[2],10);if(n!==1){ce(e,"unacceptable YAML version of the document")}e.version=i[0];e.checkLineBreaks=o<2;if(o!==1&&o!==2){he(e,"unsupported YAML version of the document")}}),"handleYamlDirective"),TAG:(0,i.K2)((function t(e,r,i){var a,n;if(i.length!==2){ce(e,"TAG directive accepts exactly two arguments")}a=i[0];n=i[1];if(!Gt.test(a)){ce(e,"ill-formed tag handle (first argument) of the TAG directive")}if(Dt.call(e.tagMap,a)){ce(e,'there is a previously declared suffix for "'+a+'" tag handle')}if(!Ut.test(n)){ce(e,"ill-formed tag prefix (second argument) of the TAG directive")}try{n=decodeURIComponent(n)}catch(o){ce(e,"tag prefix is malformed: "+n)}e.tagMap[a]=n}),"handleTagDirective")};function ue(t,e,r,i){var a,n,o,s;if(e<r){s=t.input.slice(e,r);if(i){for(a=0,n=s.length;a<n;a+=1){o=s.charCodeAt(a);if(!(o===9||32<=o&&o<=1114111)){ce(t,"expected valid JSON character")}}}else if(Wt.test(s)){ce(t,"the stream contains non-printable characters")}t.result+=s}}(0,i.K2)(ue,"captureSegment");function fe(t,e,r,i){var a,n,o,s;if(!m.isObject(r)){ce(t,"cannot merge mappings; the provided source object is unacceptable")}a=Object.keys(r);for(o=0,s=a.length;o<s;o+=1){n=a[o];if(!Dt.call(e,n)){e[n]=r[n];i[n]=true}}}(0,i.K2)(fe,"mergeMappings");function pe(t,e,r,i,a,n,o,s,l){var c,h;if(Array.isArray(a)){a=Array.prototype.slice.call(a);for(c=0,h=a.length;c<h;c+=1){if(Array.isArray(a[c])){ce(t,"nested arrays are not supported inside keys")}if(typeof a==="object"&&Yt(a[c])==="[object Object]"){a[c]="[object Object]"}}}if(typeof a==="object"&&Yt(a)==="[object Object]"){a="[object Object]"}a=String(a);if(e===null){e={}}if(i==="tag:yaml.org,2002:merge"){if(Array.isArray(n)){for(c=0,h=n.length;c<h;c+=1){fe(t,e,n[c],r)}}else{fe(t,e,n,r)}}else{if(!t.json&&!Dt.call(r,a)&&Dt.call(e,a)){t.line=o||t.line;t.lineStart=s||t.lineStart;t.position=l||t.position;ce(t,"duplicated mapping key")}if(a==="__proto__"){Object.defineProperty(e,a,{configurable:true,enumerable:true,writable:true,value:n})}else{e[a]=n}delete r[a]}return e}(0,i.K2)(pe,"storeMappingPair");function ge(t){var e;e=t.input.charCodeAt(t.position);if(e===10){t.position++}else if(e===13){t.position++;if(t.input.charCodeAt(t.position)===10){t.position++}}else{ce(t,"a line break is expected")}t.line+=1;t.lineStart=t.position;t.firstTabInLine=-1}(0,i.K2)(ge,"readLineBreak");function me(t,e,r){var i=0,a=t.input.charCodeAt(t.position);while(a!==0){while(Vt(a)){if(a===9&&t.firstTabInLine===-1){t.firstTabInLine=t.position}a=t.input.charCodeAt(++t.position)}if(e&&a===35){do{a=t.input.charCodeAt(++t.position)}while(a!==10&&a!==13&&a!==0)}if(Xt(a)){ge(t);a=t.input.charCodeAt(t.position);i++;t.lineIndent=0;while(a===32){t.lineIndent++;a=t.input.charCodeAt(++t.position)}}else{break}}if(r!==-1&&i!==0&&t.lineIndent<r){he(t,"deficient indentation")}return i}(0,i.K2)(me,"skipSeparationSpace");function ye(t){var e=t.position,r;r=t.input.charCodeAt(e);if((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)){e+=3;r=t.input.charCodeAt(e);if(r===0||Zt(r)){return true}}return false}(0,i.K2)(ye,"testDocumentSeparator");function be(t,e){if(e===1){t.result+=" "}else if(e>1){t.result+=m.repeat("\n",e-1)}}(0,i.K2)(be,"writeFoldedLines");function xe(t,e,r){var i,a,n,o,s,l,c,h,d=t.kind,u=t.result,f;f=t.input.charCodeAt(t.position);if(Zt(f)||Qt(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96){return false}if(f===63||f===45){a=t.input.charCodeAt(t.position+1);if(Zt(a)||r&&Qt(a)){return false}}t.kind="scalar";t.result="";n=o=t.position;s=false;while(f!==0){if(f===58){a=t.input.charCodeAt(t.position+1);if(Zt(a)||r&&Qt(a)){break}}else if(f===35){i=t.input.charCodeAt(t.position-1);if(Zt(i)){break}}else if(t.position===t.lineStart&&ye(t)||r&&Qt(f)){break}else if(Xt(f)){l=t.line;c=t.lineStart;h=t.lineIndent;me(t,false,-1);if(t.lineIndent>=e){s=true;f=t.input.charCodeAt(t.position);continue}else{t.position=o;t.line=l;t.lineStart=c;t.lineIndent=h;break}}if(s){ue(t,n,o,false);be(t,t.line-l);n=o=t.position;s=false}if(!Vt(f)){o=t.position+1}f=t.input.charCodeAt(++t.position)}ue(t,n,o,false);if(t.result){return true}t.kind=d;t.result=u;return false}(0,i.K2)(xe,"readPlainScalar");function Ce(t,e){var r,i,a;r=t.input.charCodeAt(t.position);if(r!==39){return false}t.kind="scalar";t.result="";t.position++;i=a=t.position;while((r=t.input.charCodeAt(t.position))!==0){if(r===39){ue(t,i,t.position,true);r=t.input.charCodeAt(++t.position);if(r===39){i=t.position;t.position++;a=t.position}else{return true}}else if(Xt(r)){ue(t,i,a,true);be(t,me(t,false,e));i=a=t.position}else if(t.position===t.lineStart&&ye(t)){ce(t,"unexpected end of the document within a single quoted scalar")}else{t.position++;a=t.position}}ce(t,"unexpected end of the stream within a single quoted scalar")}(0,i.K2)(Ce,"readSingleQuotedScalar");function ve(t,e){var r,i,a,n,o,s;s=t.input.charCodeAt(t.position);if(s!==34){return false}t.kind="scalar";t.result="";t.position++;r=i=t.position;while((s=t.input.charCodeAt(t.position))!==0){if(s===34){ue(t,r,t.position,true);t.position++;return true}else if(s===92){ue(t,r,t.position,true);s=t.input.charCodeAt(++t.position);if(Xt(s)){me(t,false,e)}else if(s<256&&ae[s]){t.result+=ne[s];t.position++}else if((o=te(s))>0){a=o;n=0;for(;a>0;a--){s=t.input.charCodeAt(++t.position);if((o=Jt(s))>=0){n=(n<<4)+o}else{ce(t,"expected hexadecimal character")}}t.result+=ie(n);t.position++}else{ce(t,"unknown escape sequence")}r=i=t.position}else if(Xt(s)){ue(t,r,i,true);be(t,me(t,false,e));r=i=t.position}else if(t.position===t.lineStart&&ye(t)){ce(t,"unexpected end of the document within a double quoted scalar")}else{t.position++;i=t.position}}ce(t,"unexpected end of the stream within a double quoted scalar")}(0,i.K2)(ve,"readDoubleQuotedScalar");function ke(t,e){var r=true,i,a,n,o=t.tag,s,l=t.anchor,c,h,d,u,f,p=Object.create(null),g,m,y,b;b=t.input.charCodeAt(t.position);if(b===91){h=93;f=false;s=[]}else if(b===123){h=125;f=true;s={}}else{return false}if(t.anchor!==null){t.anchorMap[t.anchor]=s}b=t.input.charCodeAt(++t.position);while(b!==0){me(t,true,e);b=t.input.charCodeAt(t.position);if(b===h){t.position++;t.tag=o;t.anchor=l;t.kind=f?"mapping":"sequence";t.result=s;return true}else if(!r){ce(t,"missed comma between flow collection entries")}else if(b===44){ce(t,"expected the node content, but found ','")}m=g=y=null;d=u=false;if(b===63){c=t.input.charCodeAt(t.position+1);if(Zt(c)){d=u=true;t.position++;me(t,true,e)}}i=t.line;a=t.lineStart;n=t.position;Me(t,e,Kt,false,true);m=t.tag;g=t.result;me(t,true,e);b=t.input.charCodeAt(t.position);if((u||t.line===i)&&b===58){d=true;b=t.input.charCodeAt(++t.position);me(t,true,e);Me(t,e,Kt,false,true);y=t.result}if(f){pe(t,s,p,m,g,y,i,a,n)}else if(d){s.push(pe(t,null,p,m,g,y,i,a,n))}else{s.push(g)}me(t,true,e);b=t.input.charCodeAt(t.position);if(b===44){r=true;b=t.input.charCodeAt(++t.position)}else{r=false}}ce(t,"unexpected end of the stream within a flow collection")}(0,i.K2)(ke,"readFlowCollection");function we(t,e){var r,i,a=qt,n=false,o=false,s=e,l=0,c=false,h,d;d=t.input.charCodeAt(t.position);if(d===124){i=false}else if(d===62){i=true}else{return false}t.kind="scalar";t.result="";while(d!==0){d=t.input.charCodeAt(++t.position);if(d===43||d===45){if(qt===a){a=d===43?Nt:zt}else{ce(t,"repeat of a chomping mode identifier")}}else if((h=ee(d))>=0){if(h===0){ce(t,"bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!o){s=e+h-1;o=true}else{ce(t,"repeat of an indentation width identifier")}}else{break}}if(Vt(d)){do{d=t.input.charCodeAt(++t.position)}while(Vt(d));if(d===35){do{d=t.input.charCodeAt(++t.position)}while(!Xt(d)&&d!==0)}}while(d!==0){ge(t);t.lineIndent=0;d=t.input.charCodeAt(t.position);while((!o||t.lineIndent<s)&&d===32){t.lineIndent++;d=t.input.charCodeAt(++t.position)}if(!o&&t.lineIndent>s){s=t.lineIndent}if(Xt(d)){l++;continue}if(t.lineIndent<s){if(a===Nt){t.result+=m.repeat("\n",n?1+l:l)}else if(a===qt){if(n){t.result+="\n"}}break}if(i){if(Vt(d)){c=true;t.result+=m.repeat("\n",n?1+l:l)}else if(c){c=false;t.result+=m.repeat("\n",l+1)}else if(l===0){if(n){t.result+=" "}}else{t.result+=m.repeat("\n",l)}}else{t.result+=m.repeat("\n",n?1+l:l)}n=true;o=true;l=0;r=t.position;while(!Xt(d)&&d!==0){d=t.input.charCodeAt(++t.position)}ue(t,r,t.position,false)}return true}(0,i.K2)(we,"readBlockScalar");function Se(t,e){var r,i=t.tag,a=t.anchor,n=[],o,s=false,l;if(t.firstTabInLine!==-1)return false;if(t.anchor!==null){t.anchorMap[t.anchor]=n}l=t.input.charCodeAt(t.position);while(l!==0){if(t.firstTabInLine!==-1){t.position=t.firstTabInLine;ce(t,"tab characters must not be used in indentation")}if(l!==45){break}o=t.input.charCodeAt(t.position+1);if(!Zt(o)){break}s=true;t.position++;if(me(t,true,-1)){if(t.lineIndent<=e){n.push(null);l=t.input.charCodeAt(t.position);continue}}r=t.line;Me(t,e,Rt,false,true);n.push(t.result);me(t,true,-1);l=t.input.charCodeAt(t.position);if((t.line===r||t.lineIndent>e)&&l!==0){ce(t,"bad indentation of a sequence entry")}else if(t.lineIndent<e){break}}if(s){t.tag=i;t.anchor=a;t.kind="sequence";t.result=n;return true}return false}(0,i.K2)(Se,"readBlockSequence");function Ae(t,e,r){var i,a,n,o,s,l,c=t.tag,h=t.anchor,d={},u=Object.create(null),f=null,p=null,g=null,m=false,y=false,b;if(t.firstTabInLine!==-1)return false;if(t.anchor!==null){t.anchorMap[t.anchor]=d}b=t.input.charCodeAt(t.position);while(b!==0){if(!m&&t.firstTabInLine!==-1){t.position=t.firstTabInLine;ce(t,"tab characters must not be used in indentation")}i=t.input.charCodeAt(t.position+1);n=t.line;if((b===63||b===58)&&Zt(i)){if(b===63){if(m){pe(t,d,u,f,p,null,o,s,l);f=p=g=null}y=true;m=true;a=true}else if(m){m=false;a=true}else{ce(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line")}t.position+=1;b=i}else{o=t.line;s=t.lineStart;l=t.position;if(!Me(t,r,It,false,true)){break}if(t.line===n){b=t.input.charCodeAt(t.position);while(Vt(b)){b=t.input.charCodeAt(++t.position)}if(b===58){b=t.input.charCodeAt(++t.position);if(!Zt(b)){ce(t,"a whitespace character is expected after the key-value separator within a block mapping")}if(m){pe(t,d,u,f,p,null,o,s,l);f=p=g=null}y=true;m=false;a=false;f=t.tag;p=t.result}else if(y){ce(t,"can not read an implicit mapping pair; a colon is missed")}else{t.tag=c;t.anchor=h;return true}}else if(y){ce(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}else{t.tag=c;t.anchor=h;return true}}if(t.line===n||t.lineIndent>e){if(m){o=t.line;s=t.lineStart;l=t.position}if(Me(t,e,Pt,true,a)){if(m){p=t.result}else{g=t.result}}if(!m){pe(t,d,u,f,p,g,o,s,l);f=p=g=null}me(t,true,-1);b=t.input.charCodeAt(t.position)}if((t.line===n||t.lineIndent>e)&&b!==0){ce(t,"bad indentation of a mapping entry")}else if(t.lineIndent<e){break}}if(m){pe(t,d,u,f,p,null,o,s,l)}if(y){t.tag=c;t.anchor=h;t.kind="mapping";t.result=d}return y}(0,i.K2)(Ae,"readBlockMapping");function Te(t){var e,r=false,i=false,a,n,o;o=t.input.charCodeAt(t.position);if(o!==33)return false;if(t.tag!==null){ce(t,"duplication of a tag property")}o=t.input.charCodeAt(++t.position);if(o===60){r=true;o=t.input.charCodeAt(++t.position)}else if(o===33){i=true;a="!!";o=t.input.charCodeAt(++t.position)}else{a="!"}e=t.position;if(r){do{o=t.input.charCodeAt(++t.position)}while(o!==0&&o!==62);if(t.position<t.length){n=t.input.slice(e,t.position);o=t.input.charCodeAt(++t.position)}else{ce(t,"unexpected end of the stream within a verbatim tag")}}else{while(o!==0&&!Zt(o)){if(o===33){if(!i){a=t.input.slice(e-1,t.position+1);if(!Gt.test(a)){ce(t,"named tag handle cannot contain such characters")}i=true;e=t.position+1}else{ce(t,"tag suffix cannot contain exclamation marks")}}o=t.input.charCodeAt(++t.position)}n=t.input.slice(e,t.position);if(Ht.test(n)){ce(t,"tag suffix cannot contain flow indicator characters")}}if(n&&!Ut.test(n)){ce(t,"tag name cannot contain such characters: "+n)}try{n=decodeURIComponent(n)}catch(s){ce(t,"tag name is malformed: "+n)}if(r){t.tag=n}else if(Dt.call(t.tagMap,a)){t.tag=t.tagMap[a]+n}else if(a==="!"){t.tag="!"+n}else if(a==="!!"){t.tag="tag:yaml.org,2002:"+n}else{ce(t,'undeclared tag handle "'+a+'"')}return true}(0,i.K2)(Te,"readTagProperty");function Be(t){var e,r;r=t.input.charCodeAt(t.position);if(r!==38)return false;if(t.anchor!==null){ce(t,"duplication of an anchor property")}r=t.input.charCodeAt(++t.position);e=t.position;while(r!==0&&!Zt(r)&&!Qt(r)){r=t.input.charCodeAt(++t.position)}if(t.position===e){ce(t,"name of an anchor node must contain at least one character")}t.anchor=t.input.slice(e,t.position);return true}(0,i.K2)(Be,"readAnchorProperty");function Le(t){var e,r,i;i=t.input.charCodeAt(t.position);if(i!==42)return false;i=t.input.charCodeAt(++t.position);e=t.position;while(i!==0&&!Zt(i)&&!Qt(i)){i=t.input.charCodeAt(++t.position)}if(t.position===e){ce(t,"name of an alias node must contain at least one character")}r=t.input.slice(e,t.position);if(!Dt.call(t.anchorMap,r)){ce(t,'unidentified alias "'+r+'"')}t.result=t.anchorMap[r];me(t,true,-1);return true}(0,i.K2)(Le,"readAlias");function Me(t,e,r,i,a){var n,o,s,l=1,c=false,h=false,d,u,f,p,g,m;if(t.listener!==null){t.listener("open",t)}t.tag=null;t.anchor=null;t.kind=null;t.result=null;n=o=s=Pt===r||Rt===r;if(i){if(me(t,true,-1)){c=true;if(t.lineIndent>e){l=1}else if(t.lineIndent===e){l=0}else if(t.lineIndent<e){l=-1}}}if(l===1){while(Te(t)||Be(t)){if(me(t,true,-1)){c=true;s=n;if(t.lineIndent>e){l=1}else if(t.lineIndent===e){l=0}else if(t.lineIndent<e){l=-1}}else{s=false}}}if(s){s=c||a}if(l===1||Pt===r){if(Kt===r||It===r){g=e}else{g=e+1}m=t.position-t.lineStart;if(l===1){if(s&&(Se(t,m)||Ae(t,m,g))||ke(t,g)){h=true}else{if(o&&we(t,g)||Ce(t,g)||ve(t,g)){h=true}else if(Le(t)){h=true;if(t.tag!==null||t.anchor!==null){ce(t,"alias node should not have any properties")}}else if(xe(t,g,Kt===r)){h=true;if(t.tag===null){t.tag="?"}}if(t.anchor!==null){t.anchorMap[t.anchor]=t.result}}}else if(l===0){h=s&&Se(t,m)}}if(t.tag===null){if(t.anchor!==null){t.anchorMap[t.anchor]=t.result}}else if(t.tag==="?"){if(t.result!==null&&t.kind!=="scalar"){ce(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"')}for(d=0,u=t.implicitTypes.length;d<u;d+=1){p=t.implicitTypes[d];if(p.resolve(t.result)){t.result=p.construct(t.result);t.tag=p.tag;if(t.anchor!==null){t.anchorMap[t.anchor]=t.result}break}}}else if(t.tag!=="!"){if(Dt.call(t.typeMap[t.kind||"fallback"],t.tag)){p=t.typeMap[t.kind||"fallback"][t.tag]}else{p=null;f=t.typeMap.multi[t.kind||"fallback"];for(d=0,u=f.length;d<u;d+=1){if(t.tag.slice(0,f[d].tag.length)===f[d].tag){p=f[d];break}}}if(!p){ce(t,"unknown tag !<"+t.tag+">")}if(t.result!==null&&p.kind!==t.kind){ce(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"')}if(!p.resolve(t.result,t.tag)){ce(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}else{t.result=p.construct(t.result,t.tag);if(t.anchor!==null){t.anchorMap[t.anchor]=t.result}}}if(t.listener!==null){t.listener("close",t)}return t.tag!==null||t.anchor!==null||h}(0,i.K2)(Me,"composeNode");function Fe(t){var e=t.position,r,i,a,n=false,o;t.version=null;t.checkLineBreaks=t.legacy;t.tagMap=Object.create(null);t.anchorMap=Object.create(null);while((o=t.input.charCodeAt(t.position))!==0){me(t,true,-1);o=t.input.charCodeAt(t.position);if(t.lineIndent>0||o!==37){break}n=true;o=t.input.charCodeAt(++t.position);r=t.position;while(o!==0&&!Zt(o)){o=t.input.charCodeAt(++t.position)}i=t.input.slice(r,t.position);a=[];if(i.length<1){ce(t,"directive name must not be less than one character in length")}while(o!==0){while(Vt(o)){o=t.input.charCodeAt(++t.position)}if(o===35){do{o=t.input.charCodeAt(++t.position)}while(o!==0&&!Xt(o));break}if(Xt(o))break;r=t.position;while(o!==0&&!Zt(o)){o=t.input.charCodeAt(++t.position)}a.push(t.input.slice(r,t.position))}if(o!==0)ge(t);if(Dt.call(de,i)){de[i](t,i,a)}else{he(t,'unknown document directive "'+i+'"')}}me(t,true,-1);if(t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45){t.position+=3;me(t,true,-1)}else if(n){ce(t,"directives end mark is expected")}Me(t,t.lineIndent-1,Pt,false,true);me(t,true,-1);if(t.checkLineBreaks&&jt.test(t.input.slice(e,t.position))){he(t,"non-ASCII line breaks are interpreted as content")}t.documents.push(t.result);if(t.position===t.lineStart&&ye(t)){if(t.input.charCodeAt(t.position)===46){t.position+=3;me(t,true,-1)}return}if(t.position<t.length-1){ce(t,"end of the stream or a document separator is expected")}else{return}}(0,i.K2)(Fe,"readDocument");function _e(t,e){t=String(t);e=e||{};if(t.length!==0){if(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13){t+="\n"}if(t.charCodeAt(0)===65279){t=t.slice(1)}}var r=new se(t,e);var i=t.indexOf("\0");if(i!==-1){r.position=i;ce(r,"null byte is not allowed in input")}r.input+="\0";while(r.input.charCodeAt(r.position)===32){r.lineIndent+=1;r.position+=1}while(r.position<r.length-1){Fe(r)}return r.documents}(0,i.K2)(_e,"loadDocuments");function $e(t,e,r){if(e!==null&&typeof e==="object"&&typeof r==="undefined"){r=e;e=null}var i=_e(t,r);if(typeof e!=="function"){return i}for(var a=0,n=i.length;a<n;a+=1){e(i[a])}}(0,i.K2)($e,"loadAll$1");function Ee(t,e){var r=_e(t,e);if(r.length===0){return void 0}else if(r.length===1){return r[0]}throw new x("expected a single document in the stream, but found more")}(0,i.K2)(Ee,"load$1");var Oe=$e;var De=Ee;var Ke={loadAll:Oe,load:De};var Ie=Object.prototype.toString;var Re=Object.prototype.hasOwnProperty;var Pe=65279;var qe=9;var ze=10;var Ne=13;var We=32;var je=33;var He=34;var Ge=35;var Ue=37;var Ye=38;var Xe=39;var Ve=42;var Ze=44;var Qe=45;var Je=58;var tr=61;var er=62;var rr=63;var ir=64;var ar=91;var nr=93;var or=96;var sr=123;var lr=124;var cr=125;var hr={};hr[0]="\\0";hr[7]="\\a";hr[8]="\\b";hr[9]="\\t";hr[10]="\\n";hr[11]="\\v";hr[12]="\\f";hr[13]="\\r";hr[27]="\\e";hr[34]='\\"';hr[92]="\\\\";hr[133]="\\N";hr[160]="\\_";hr[8232]="\\L";hr[8233]="\\P";var dr=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];var ur=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function fr(t,e){var r,i,a,n,o,s,l;if(e===null)return{};r={};i=Object.keys(e);for(a=0,n=i.length;a<n;a+=1){o=i[a];s=String(e[o]);if(o.slice(0,2)==="!!"){o="tag:yaml.org,2002:"+o.slice(2)}l=t.compiledTypeMap["fallback"][o];if(l&&Re.call(l.styleAliases,s)){s=l.styleAliases[s]}r[o]=s}return r}(0,i.K2)(fr,"compileStyleMap");function pr(t){var e,r,i;e=t.toString(16).toUpperCase();if(t<=255){r="x";i=2}else if(t<=65535){r="u";i=4}else if(t<=4294967295){r="U";i=8}else{throw new x("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+r+m.repeat("0",i-e.length)+e}(0,i.K2)(pr,"encodeHex");var gr=1;var mr=2;function yr(t){this.schema=t["schema"]||Ot;this.indent=Math.max(1,t["indent"]||2);this.noArrayIndent=t["noArrayIndent"]||false;this.skipInvalid=t["skipInvalid"]||false;this.flowLevel=m.isNothing(t["flowLevel"])?-1:t["flowLevel"];this.styleMap=fr(this.schema,t["styles"]||null);this.sortKeys=t["sortKeys"]||false;this.lineWidth=t["lineWidth"]||80;this.noRefs=t["noRefs"]||false;this.noCompatMode=t["noCompatMode"]||false;this.condenseFlow=t["condenseFlow"]||false;this.quotingType=t["quotingType"]==='"'?mr:gr;this.forceQuotes=t["forceQuotes"]||false;this.replacer=typeof t["replacer"]==="function"?t["replacer"]:null;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}(0,i.K2)(yr,"State");function br(t,e){var r=m.repeat(" ",e),i=0,a=-1,n="",o,s=t.length;while(i<s){a=t.indexOf("\n",i);if(a===-1){o=t.slice(i);i=s}else{o=t.slice(i,a+1);i=a+1}if(o.length&&o!=="\n")n+=r;n+=o}return n}(0,i.K2)(br,"indentString");function xr(t,e){return"\n"+m.repeat(" ",t.indent*e)}(0,i.K2)(xr,"generateNextLine");function Cr(t,e){var r,i,a;for(r=0,i=t.implicitTypes.length;r<i;r+=1){a=t.implicitTypes[r];if(a.resolve(e)){return true}}return false}(0,i.K2)(Cr,"testImplicitResolving");function vr(t){return t===We||t===qe}(0,i.K2)(vr,"isWhitespace");function kr(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Pe||65536<=t&&t<=1114111}(0,i.K2)(kr,"isPrintable");function wr(t){return kr(t)&&t!==Pe&&t!==Ne&&t!==ze}(0,i.K2)(wr,"isNsCharOrWhitespace");function Sr(t,e,r){var i=wr(t);var a=i&&!vr(t);return(r?i:i&&t!==Ze&&t!==ar&&t!==nr&&t!==sr&&t!==cr)&&t!==Ge&&!(e===Je&&!a)||wr(e)&&!vr(e)&&t===Ge||e===Je&&a}(0,i.K2)(Sr,"isPlainSafe");function Ar(t){return kr(t)&&t!==Pe&&!vr(t)&&t!==Qe&&t!==rr&&t!==Je&&t!==Ze&&t!==ar&&t!==nr&&t!==sr&&t!==cr&&t!==Ge&&t!==Ye&&t!==Ve&&t!==je&&t!==lr&&t!==tr&&t!==er&&t!==Xe&&t!==He&&t!==Ue&&t!==ir&&t!==or}(0,i.K2)(Ar,"isPlainSafeFirst");function Tr(t){return!vr(t)&&t!==Je}(0,i.K2)(Tr,"isPlainSafeLast");function Br(t,e){var r=t.charCodeAt(e),i;if(r>=55296&&r<=56319&&e+1<t.length){i=t.charCodeAt(e+1);if(i>=56320&&i<=57343){return(r-55296)*1024+i-56320+65536}}return r}(0,i.K2)(Br,"codePointAt");function Lr(t){var e=/^\n* /;return e.test(t)}(0,i.K2)(Lr,"needIndentIndicator");var Mr=1;var Fr=2;var _r=3;var $r=4;var Er=5;function Or(t,e,r,i,a,n,o,s){var l;var c=0;var h=null;var d=false;var u=false;var f=i!==-1;var p=-1;var g=Ar(Br(t,0))&&Tr(Br(t,t.length-1));if(e||o){for(l=0;l<t.length;c>=65536?l+=2:l++){c=Br(t,l);if(!kr(c)){return Er}g=g&&Sr(c,h,s);h=c}}else{for(l=0;l<t.length;c>=65536?l+=2:l++){c=Br(t,l);if(c===ze){d=true;if(f){u=u||l-p-1>i&&t[p+1]!==" ";p=l}}else if(!kr(c)){return Er}g=g&&Sr(c,h,s);h=c}u=u||f&&(l-p-1>i&&t[p+1]!==" ")}if(!d&&!u){if(g&&!o&&!a(t)){return Mr}return n===mr?Er:Fr}if(r>9&&Lr(t)){return Er}if(!o){return u?$r:_r}return n===mr?Er:Fr}(0,i.K2)(Or,"chooseScalarStyle");function Dr(t,e,r,a,n){t.dump=function(){if(e.length===0){return t.quotingType===mr?'""':"''"}if(!t.noCompatMode){if(dr.indexOf(e)!==-1||ur.test(e)){return t.quotingType===mr?'"'+e+'"':"'"+e+"'"}}var o=t.indent*Math.max(1,r);var s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o);var l=a||t.flowLevel>-1&&r>=t.flowLevel;function c(e){return Cr(t,e)}(0,i.K2)(c,"testAmbiguity");switch(Or(e,l,t.indent,s,c,t.quotingType,t.forceQuotes&&!a,n)){case Mr:return e;case Fr:return"'"+e.replace(/'/g,"''")+"'";case _r:return"|"+Kr(e,t.indent)+Ir(br(e,o));case $r:return">"+Kr(e,t.indent)+Ir(br(Rr(e,s),o));case Er:return'"'+qr(e)+'"';default:throw new x("impossible error: invalid scalar style")}}()}(0,i.K2)(Dr,"writeScalar");function Kr(t,e){var r=Lr(t)?String(e):"";var i=t[t.length-1]==="\n";var a=i&&(t[t.length-2]==="\n"||t==="\n");var n=a?"+":i?"":"-";return r+n+"\n"}(0,i.K2)(Kr,"blockHeader");function Ir(t){return t[t.length-1]==="\n"?t.slice(0,-1):t}(0,i.K2)(Ir,"dropEndingNewline");function Rr(t,e){var r=/(\n+)([^\n]*)/g;var i=function(){var i=t.indexOf("\n");i=i!==-1?i:t.length;r.lastIndex=i;return Pr(t.slice(0,i),e)}();var a=t[0]==="\n"||t[0]===" ";var n;var o;while(o=r.exec(t)){var s=o[1],l=o[2];n=l[0]===" ";i+=s+(!a&&!n&&l!==""?"\n":"")+Pr(l,e);a=n}return i}(0,i.K2)(Rr,"foldString");function Pr(t,e){if(t===""||t[0]===" ")return t;var r=/ [^ ]/g;var i;var a=0,n,o=0,s=0;var l="";while(i=r.exec(t)){s=i.index;if(s-a>e){n=o>a?o:s;l+="\n"+t.slice(a,n);a=n+1}o=s}l+="\n";if(t.length-a>e&&o>a){l+=t.slice(a,o)+"\n"+t.slice(o+1)}else{l+=t.slice(a)}return l.slice(1)}(0,i.K2)(Pr,"foldLine");function qr(t){var e="";var r=0;var i;for(var a=0;a<t.length;r>=65536?a+=2:a++){r=Br(t,a);i=hr[r];if(!i&&kr(r)){e+=t[a];if(r>=65536)e+=t[a+1]}else{e+=i||pr(r)}}return e}(0,i.K2)(qr,"escapeString");function zr(t,e,r){var i="",a=t.tag,n,o,s;for(n=0,o=r.length;n<o;n+=1){s=r[n];if(t.replacer){s=t.replacer.call(r,String(n),s)}if(Gr(t,e,s,false,false)||typeof s==="undefined"&&Gr(t,e,null,false,false)){if(i!=="")i+=","+(!t.condenseFlow?" ":"");i+=t.dump}}t.tag=a;t.dump="["+i+"]"}(0,i.K2)(zr,"writeFlowSequence");function Nr(t,e,r,i){var a="",n=t.tag,o,s,l;for(o=0,s=r.length;o<s;o+=1){l=r[o];if(t.replacer){l=t.replacer.call(r,String(o),l)}if(Gr(t,e+1,l,true,true,false,true)||typeof l==="undefined"&&Gr(t,e+1,null,true,true,false,true)){if(!i||a!==""){a+=xr(t,e)}if(t.dump&&ze===t.dump.charCodeAt(0)){a+="-"}else{a+="- "}a+=t.dump}}t.tag=n;t.dump=a||"[]"}(0,i.K2)(Nr,"writeBlockSequence");function Wr(t,e,r){var i="",a=t.tag,n=Object.keys(r),o,s,l,c,h;for(o=0,s=n.length;o<s;o+=1){h="";if(i!=="")h+=", ";if(t.condenseFlow)h+='"';l=n[o];c=r[l];if(t.replacer){c=t.replacer.call(r,l,c)}if(!Gr(t,e,l,false,false)){continue}if(t.dump.length>1024)h+="? ";h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" ");if(!Gr(t,e,c,false,false)){continue}h+=t.dump;i+=h}t.tag=a;t.dump="{"+i+"}"}(0,i.K2)(Wr,"writeFlowMapping");function jr(t,e,r,i){var a="",n=t.tag,o=Object.keys(r),s,l,c,h,d,u;if(t.sortKeys===true){o.sort()}else if(typeof t.sortKeys==="function"){o.sort(t.sortKeys)}else if(t.sortKeys){throw new x("sortKeys must be a boolean or a function")}for(s=0,l=o.length;s<l;s+=1){u="";if(!i||a!==""){u+=xr(t,e)}c=o[s];h=r[c];if(t.replacer){h=t.replacer.call(r,c,h)}if(!Gr(t,e+1,c,true,true,true)){continue}d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024;if(d){if(t.dump&&ze===t.dump.charCodeAt(0)){u+="?"}else{u+="? "}}u+=t.dump;if(d){u+=xr(t,e)}if(!Gr(t,e+1,h,true,d)){continue}if(t.dump&&ze===t.dump.charCodeAt(0)){u+=":"}else{u+=": "}u+=t.dump;a+=u}t.tag=n;t.dump=a||"{}"}(0,i.K2)(jr,"writeBlockMapping");function Hr(t,e,r){var i,a,n,o,s,l;a=r?t.explicitTypes:t.implicitTypes;for(n=0,o=a.length;n<o;n+=1){s=a[n];if((s.instanceOf||s.predicate)&&(!s.instanceOf||typeof e==="object"&&e instanceof s.instanceOf)&&(!s.predicate||s.predicate(e))){if(r){if(s.multi&&s.representName){t.tag=s.representName(e)}else{t.tag=s.tag}}else{t.tag="?"}if(s.represent){l=t.styleMap[s.tag]||s.defaultStyle;if(Ie.call(s.represent)==="[object Function]"){i=s.represent(e,l)}else if(Re.call(s.represent,l)){i=s.represent[l](e,l)}else{throw new x("!<"+s.tag+'> tag resolver accepts not "'+l+'" style')}t.dump=i}return true}}return false}(0,i.K2)(Hr,"detectType");function Gr(t,e,r,i,a,n,o){t.tag=null;t.dump=r;if(!Hr(t,r,false)){Hr(t,r,true)}var s=Ie.call(t.dump);var l=i;var c;if(i){i=t.flowLevel<0||t.flowLevel>e}var h=s==="[object Object]"||s==="[object Array]",d,u;if(h){d=t.duplicates.indexOf(r);u=d!==-1}if(t.tag!==null&&t.tag!=="?"||u||t.indent!==2&&e>0){a=false}if(u&&t.usedDuplicates[d]){t.dump="*ref_"+d}else{if(h&&u&&!t.usedDuplicates[d]){t.usedDuplicates[d]=true}if(s==="[object Object]"){if(i&&Object.keys(t.dump).length!==0){jr(t,e,t.dump,a);if(u){t.dump="&ref_"+d+t.dump}}else{Wr(t,e,t.dump);if(u){t.dump="&ref_"+d+" "+t.dump}}}else if(s==="[object Array]"){if(i&&t.dump.length!==0){if(t.noArrayIndent&&!o&&e>0){Nr(t,e-1,t.dump,a)}else{Nr(t,e,t.dump,a)}if(u){t.dump="&ref_"+d+t.dump}}else{zr(t,e,t.dump);if(u){t.dump="&ref_"+d+" "+t.dump}}}else if(s==="[object String]"){if(t.tag!=="?"){Dr(t,t.dump,e,n,l)}}else if(s==="[object Undefined]"){return false}else{if(t.skipInvalid)return false;throw new x("unacceptable kind of an object to dump "+s)}if(t.tag!==null&&t.tag!=="?"){c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21");if(t.tag[0]==="!"){c="!"+c}else if(c.slice(0,18)==="tag:yaml.org,2002:"){c="!!"+c.slice(18)}else{c="!<"+c+">"}t.dump=c+" "+t.dump}}return true}(0,i.K2)(Gr,"writeNode");function Ur(t,e){var r=[],i=[],a,n;Yr(t,r,i);for(a=0,n=i.length;a<n;a+=1){e.duplicates.push(r[i[a]])}e.usedDuplicates=new Array(n)}(0,i.K2)(Ur,"getDuplicateReferences");function Yr(t,e,r){var i,a,n;if(t!==null&&typeof t==="object"){a=e.indexOf(t);if(a!==-1){if(r.indexOf(a)===-1){r.push(a)}}else{e.push(t);if(Array.isArray(t)){for(a=0,n=t.length;a<n;a+=1){Yr(t[a],e,r)}}else{i=Object.keys(t);for(a=0,n=i.length;a<n;a+=1){Yr(t[i[a]],e,r)}}}}}(0,i.K2)(Yr,"inspectNode");function Xr(t,e){e=e||{};var r=new yr(e);if(!r.noRefs)Ur(t,r);var i=t;if(r.replacer){i=r.replacer.call({"":i},"",i)}if(Gr(r,0,i,true,true))return r.dump+"\n";return""}(0,i.K2)(Xr,"dump$1");var Vr=Xr;var Zr={dump:Vr};function Qr(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}(0,i.K2)(Qr,"renamed");var Jr=nt;var ti=Ke.load;var ei=Ke.loadAll;var ri=Zr.dump;var ii=Qr("safeLoad","load");var ai=Qr("safeLoadAll","loadAll");var ni=Qr("safeDump","dump")},78188:(t,e,r)=>{"use strict";r.d(e,{XX:()=>u,q7:()=>f,sO:()=>h});var i=r(25301);var a=r(47655);var n=r(29131);var o=r(42418);var s=r(70416);var l={common:o.Y2,getConfig:o.zj,insertCluster:a.U,insertEdge:i.Jo,insertEdgeLabel:i.jP,insertMarkers:i.g0,insertNode:a.on,interpolateToCurve:n.Ib,labelHelper:a.Zk,log:s.Rm,positionEdgeLabel:i.T_};var c={};var h=(0,s.K2)((t=>{for(const e of t){c[e.name]=e}}),"registerLayoutLoaders");var d=(0,s.K2)((()=>{h([{name:"dagre",loader:(0,s.K2)((async()=>await Promise.all([r.e(1838),r.e(2211),r.e(7476)]).then(r.bind(r,67476))),"loader")},...true?[{name:"cose-bilkent",loader:(0,s.K2)((async()=>await Promise.all([r.e(8786),r.e(5007)]).then(r.bind(r,95007))),"loader")}]:0])}),"registerDefaultLayoutLoaders");d();var u=(0,s.K2)((async(t,e)=>{if(!(t.layoutAlgorithm in c)){throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`)}const r=c[t.layoutAlgorithm];const i=await r.loader();return i.render(t,e,l,{algorithm:r.algorithm})}),"render");var f=(0,s.K2)(((t="",{fallback:e="dagre"}={})=>{if(t in c){return t}if(e in c){s.Rm.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`);return e}throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)}),"getRegisteredLayoutAlgorithm")},25301:(t,e,r)=>{"use strict";r.d(e,{IU:()=>b,Jo:()=>F,T_:()=>k,g0:()=>Z,jP:()=>C});var i=r(46103);var a=r(47655);var n=r(15164);var o=r(55750);var s=r(95035);var l=r(29131);var c=r(42418);var h=r(70416);var d=r(1218);var u=r(52274);var f=(0,h.K2)(((t,e,r,i,a,n)=>{if(e.arrowTypeStart){g(t,"start",e.arrowTypeStart,r,i,a,n)}if(e.arrowTypeEnd){g(t,"end",e.arrowTypeEnd,r,i,a,n)}}),"addEdgeMarkers");var p={arrow_cross:{type:"cross",fill:false},arrow_point:{type:"point",fill:true},arrow_barb:{type:"barb",fill:true},arrow_circle:{type:"circle",fill:false},aggregation:{type:"aggregation",fill:false},extension:{type:"extension",fill:false},composition:{type:"composition",fill:true},dependency:{type:"dependency",fill:true},lollipop:{type:"lollipop",fill:false},only_one:{type:"onlyOne",fill:false},zero_or_one:{type:"zeroOrOne",fill:false},one_or_more:{type:"oneOrMore",fill:false},zero_or_more:{type:"zeroOrMore",fill:false},requirement_arrow:{type:"requirement_arrow",fill:false},requirement_contains:{type:"requirement_contains",fill:false}};var g=(0,h.K2)(((t,e,r,i,a,n,o)=>{const s=p[r];if(!s){h.Rm.warn(`Unknown arrow type: ${r}`);return}const l=s.type;const c=e==="start"?"Start":"End";const d=`${a}_${n}-${l}${c}`;if(o&&o.trim()!==""){const r=o.replace(/[^\dA-Za-z]/g,"_");const a=`${d}_${r}`;if(!document.getElementById(a)){const t=document.getElementById(d);if(t){const e=t.cloneNode(true);e.id=a;const r=e.querySelectorAll("path, circle, line");r.forEach((t=>{t.setAttribute("stroke",o);if(s.fill){t.setAttribute("fill",o)}}));t.parentNode?.appendChild(e)}}t.attr(`marker-${e}`,`url(${i}#${a})`)}else{t.attr(`marker-${e}`,`url(${i}#${d})`)}}),"addEdgeMarker");var m=new Map;var y=new Map;var b=(0,h.K2)((()=>{m.clear();y.clear()}),"clear");var x=(0,h.K2)((t=>{let e=t?t.reduce(((t,e)=>t+";"+e),""):"";return e}),"getLabelStyles");var C=(0,h.K2)((async(t,e)=>{let r=(0,c._3)((0,c.D7)().flowchart.htmlLabels);const{labelStyles:i}=(0,o.GX)(e);e.labelStyle=i;const n=await(0,s.GZ)(t,e.label,{style:e.labelStyle,useHtmlLabels:r,addSvgBackground:true,isNode:false});h.Rm.info("abc82",e,e.labelType);const l=t.insert("g").attr("class","edgeLabel");const u=l.insert("g").attr("class","label").attr("data-id",e.id);u.node().appendChild(n);let f=n.getBBox();if(r){const t=n.children[0];const e=(0,d.Ltv)(n);f=t.getBoundingClientRect();e.attr("width",f.width);e.attr("height",f.height)}u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")");m.set(e.id,l);e.width=f.width;e.height=f.height;let p;if(e.startLabelLeft){const r=await(0,a.DA)(e.startLabelLeft,x(e.labelStyle));const i=t.insert("g").attr("class","edgeTerminals");const n=i.insert("g").attr("class","inner");p=n.node().appendChild(r);const o=r.getBBox();n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")");if(!y.get(e.id)){y.set(e.id,{})}y.get(e.id).startLeft=i;v(p,e.startLabelLeft)}if(e.startLabelRight){const r=await(0,a.DA)(e.startLabelRight,x(e.labelStyle));const i=t.insert("g").attr("class","edgeTerminals");const n=i.insert("g").attr("class","inner");p=i.node().appendChild(r);n.node().appendChild(r);const o=r.getBBox();n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")");if(!y.get(e.id)){y.set(e.id,{})}y.get(e.id).startRight=i;v(p,e.startLabelRight)}if(e.endLabelLeft){const r=await(0,a.DA)(e.endLabelLeft,x(e.labelStyle));const i=t.insert("g").attr("class","edgeTerminals");const n=i.insert("g").attr("class","inner");p=n.node().appendChild(r);const o=r.getBBox();n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")");i.node().appendChild(r);if(!y.get(e.id)){y.set(e.id,{})}y.get(e.id).endLeft=i;v(p,e.endLabelLeft)}if(e.endLabelRight){const r=await(0,a.DA)(e.endLabelRight,x(e.labelStyle));const i=t.insert("g").attr("class","edgeTerminals");const n=i.insert("g").attr("class","inner");p=n.node().appendChild(r);const o=r.getBBox();n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")");i.node().appendChild(r);if(!y.get(e.id)){y.set(e.id,{})}y.get(e.id).endRight=i;v(p,e.endLabelRight)}return n}),"insertEdgeLabel");function v(t,e){if((0,c.D7)().flowchart.htmlLabels&&t){t.style.width=e.length*9+"px";t.style.height="12px"}}(0,h.K2)(v,"setTerminalWidth");var k=(0,h.K2)(((t,e)=>{h.Rm.debug("Moving label abc88 ",t.id,t.label,m.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const i=(0,c.D7)();const{subGraphTitleTotalMargin:a}=(0,n.O)(i);if(t.label){const i=m.get(t.id);let n=t.x;let o=t.y;if(r){const i=l._K.calcLabelPosition(r);h.Rm.debug("Moving label "+t.label+" from (",n,",",o,") to (",i.x,",",i.y,") abc88");if(e.updatedPath){n=i.x;o=i.y}}i.attr("transform",`translate(${n}, ${o+a/2})`)}if(t.startLabelLeft){const e=y.get(t.id).startLeft;let i=t.x;let a=t.y;if(r){const e=l._K.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);i=e.x;a=e.y}e.attr("transform",`translate(${i}, ${a})`)}if(t.startLabelRight){const e=y.get(t.id).startRight;let i=t.x;let a=t.y;if(r){const e=l._K.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);i=e.x;a=e.y}e.attr("transform",`translate(${i}, ${a})`)}if(t.endLabelLeft){const e=y.get(t.id).endLeft;let i=t.x;let a=t.y;if(r){const e=l._K.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);i=e.x;a=e.y}e.attr("transform",`translate(${i}, ${a})`)}if(t.endLabelRight){const e=y.get(t.id).endRight;let i=t.x;let a=t.y;if(r){const e=l._K.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);i=e.x;a=e.y}e.attr("transform",`translate(${i}, ${a})`)}}),"positionEdgeLabel");var w=(0,h.K2)(((t,e)=>{const r=t.x;const i=t.y;const a=Math.abs(e.x-r);const n=Math.abs(e.y-i);const o=t.width/2;const s=t.height/2;return a>=o||n>=s}),"outsideNode");var S=(0,h.K2)(((t,e,r)=>{h.Rm.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(e)}\n  insidePoint : ${JSON.stringify(r)}\n  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const i=t.x;const a=t.y;const n=Math.abs(i-r.x);const o=t.width/2;let s=r.x<e.x?o-n:o+n;const l=t.height/2;const c=Math.abs(e.y-r.y);const d=Math.abs(e.x-r.x);if(Math.abs(a-e.y)*o>Math.abs(i-e.x)*l){let t=r.y<e.y?e.y-l-a:a-l-e.y;s=d*t/c;const i={x:r.x<e.x?r.x+s:r.x-d+s,y:r.y<e.y?r.y+c-t:r.y-c+t};if(s===0){i.x=e.x;i.y=e.y}if(d===0){i.x=e.x}if(c===0){i.y=e.y}h.Rm.debug(`abc89 top/bottom calc, Q ${c}, q ${t}, R ${d}, r ${s}`,i);return i}else{if(r.x<e.x){s=e.x-o-i}else{s=i-o-e.x}let t=c*s/d;let a=r.x<e.x?r.x+d-s:r.x-d+s;let n=r.y<e.y?r.y+t:r.y-t;h.Rm.debug(`sides calc abc89, Q ${c}, q ${t}, R ${d}, r ${s}`,{_x:a,_y:n});if(s===0){a=e.x;n=e.y}if(d===0){a=e.x}if(c===0){n=e.y}return{x:a,y:n}}}),"intersection");var A=(0,h.K2)(((t,e)=>{h.Rm.warn("abc88 cutPathAtIntersect",t,e);let r=[];let i=t[0];let a=false;t.forEach((t=>{h.Rm.info("abc88 checking point",t,e);if(!w(e,t)&&!a){const n=S(e,i,t);h.Rm.debug("abc88 inside",t,i,n);h.Rm.debug("abc88 intersection",n,e);let o=false;r.forEach((t=>{o=o||t.x===n.x&&t.y===n.y}));if(!r.some((t=>t.x===n.x&&t.y===n.y))){r.push(n)}else{h.Rm.warn("abc88 no intersect",n,r)}a=true}else{h.Rm.warn("abc88 outside",t,i);i=t;if(!a){r.push(t)}}}));h.Rm.debug("returning points",r);return r}),"cutPathAtIntersect");function T(t){const e=[];const r=[];for(let i=1;i<t.length-1;i++){const a=t[i-1];const n=t[i];const o=t[i+1];if(a.x===n.x&&n.y===o.y&&Math.abs(n.x-o.x)>5&&Math.abs(n.y-a.y)>5){e.push(n);r.push(i)}else if(a.y===n.y&&n.x===o.x&&Math.abs(n.x-a.x)>5&&Math.abs(n.y-o.y)>5){e.push(n);r.push(i)}}return{cornerPoints:e,cornerPointPositions:r}}(0,h.K2)(T,"extractCornerPoints");var B=(0,h.K2)((function(t,e,r){const i=e.x-t.x;const a=e.y-t.y;const n=Math.sqrt(i*i+a*a);const o=r/n;return{x:e.x-o*i,y:e.y-o*a}}),"findAdjacentPoint");var L=(0,h.K2)((function(t){const{cornerPointPositions:e}=T(t);const r=[];for(let i=0;i<t.length;i++){if(e.includes(i)){const e=t[i-1];const a=t[i+1];const n=t[i];const o=B(e,n,5);const s=B(a,n,5);const l=s.x-o.x;const c=s.y-o.y;r.push(o);const d=Math.sqrt(2)*2;let u={x:n.x,y:n.y};if(Math.abs(a.x-e.x)>10&&Math.abs(a.y-e.y)>=10){h.Rm.debug("Corner point fixing",Math.abs(a.x-e.x),Math.abs(a.y-e.y));const t=5;if(n.x===o.x){u={x:l<0?o.x-t+d:o.x+t-d,y:c<0?o.y-d:o.y+d}}else{u={x:l<0?o.x-d:o.x+d,y:c<0?o.y-t+d:o.y+t-d}}}else{h.Rm.debug("Corner point skipping fixing",Math.abs(a.x-e.x),Math.abs(a.y-e.y))}r.push(u,s)}else{r.push(t[i])}}return r}),"fixCorners");var M=(0,h.K2)(((t,e,r)=>{const i=t-e-r;const a=2;const n=2;const o=a+n;const s=Math.floor(i/o);const l=Array(s).fill(`${a} ${n}`).join(" ");const c=`0 ${e} ${l} ${r}`;return c}),"generateDashArray");var F=(0,h.K2)((function(t,e,r,a,n,s,p,g=false){const{handDrawnSeed:m}=(0,c.D7)();let y=e.points;let b=false;const x=n;var C=s;const v=[];for(const i in e.cssCompiledStyles){if((0,o.KX)(i)){continue}v.push(e.cssCompiledStyles[i])}h.Rm.debug("UIO intersect check",e.points,C.x,x.x);if(C.intersect&&x.intersect&&!g){y=y.slice(1,e.points.length-1);y.unshift(x.intersect(y[0]));h.Rm.debug("Last point UIO",e.start,"--\x3e",e.end,y[y.length-1],C,C.intersect(y[y.length-1]));y.push(C.intersect(y[y.length-1]))}const k=btoa(JSON.stringify(y));if(e.toCluster){h.Rm.info("to cluster abc88",r.get(e.toCluster));y=A(e.points,r.get(e.toCluster).node);b=true}if(e.fromCluster){h.Rm.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(y,null,2));y=A(y.reverse(),r.get(e.fromCluster).node).reverse();b=true}let w=y.filter((t=>!Number.isNaN(t.y)));w=L(w);let S=d.qrM;S=d.lUB;switch(e.curve){case"linear":S=d.lUB;break;case"basis":S=d.qrM;break;case"cardinal":S=d.y8u;break;case"bumpX":S=d.Wi0;break;case"bumpY":S=d.PGM;break;case"catmullRom":S=d.oDi;break;case"monotoneX":S=d.nVG;break;case"monotoneY":S=d.uxU;break;case"natural":S=d.Xf2;break;case"step":S=d.GZz;break;case"stepAfter":S=d.UPb;break;case"stepBefore":S=d.dyv;break;default:S=d.qrM}const{x:T,y:B}=(0,i.RI)(e);const F=(0,d.n8j)().x(T).y(B).curve(S);let $;switch(e.thickness){case"normal":$="edge-thickness-normal";break;case"thick":$="edge-thickness-thick";break;case"invisible":$="edge-thickness-invisible";break;default:$="edge-thickness-normal"}switch(e.pattern){case"solid":$+=" edge-pattern-solid";break;case"dotted":$+=" edge-pattern-dotted";break;case"dashed":$+=" edge-pattern-dashed";break;default:$+=" edge-pattern-solid"}let O;let D=e.curve==="rounded"?_(E(w,e),5):F(w);const K=Array.isArray(e.style)?e.style:[e.style];let I=K.find((t=>t?.startsWith("stroke:")));let R=false;if(e.look==="handDrawn"){const r=u.A.svg(t);Object.assign([],w);const i=r.path(D,{roughness:.3,seed:m});$+=" transition";O=(0,d.Ltv)(i).select("path").attr("id",e.id).attr("class"," "+$+(e.classes?" "+e.classes:"")).attr("style",K?K.reduce(((t,e)=>t+";"+e),""):"");let a=O.attr("d");O.attr("d",a);t.node().appendChild(O.node())}else{const r=v.join(";");const a=K?K.reduce(((t,e)=>t+e+";"),""):"";let n="";if(e.animate){n=" edge-animation-fast"}if(e.animation){n=" edge-animation-"+e.animation}const o=(r?r+";"+a+";":a)+";"+(K?K.reduce(((t,e)=>t+";"+e),""):"");O=t.append("path").attr("d",D).attr("id",e.id).attr("class"," "+$+(e.classes?" "+e.classes:"")+(n??"")).attr("style",o);I=o.match(/stroke:([^;]+)/)?.[1];R=e.animate===true||!!e.animation||r.includes("animation");const s=O.node();const l=typeof s.getTotalLength==="function"?s.getTotalLength():0;const c=i.Nq[e.arrowTypeStart]||0;const h=i.Nq[e.arrowTypeEnd]||0;if(e.look==="neo"&&!R){const t=e.pattern==="dotted"||e.pattern==="dashed"?M(l,c,h):`0 ${c} ${l-c-h} ${h}`;const r=`stroke-dasharray: ${t}; stroke-dashoffset: 0;`;O.attr("style",r+O.attr("style"))}}O.attr("data-edge",true);O.attr("data-et","edge");O.attr("data-id",e.id);O.attr("data-points",k);if(e.showPoints){w.forEach((e=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",e.x).attr("cy",e.y)}))}let P="";if((0,c.D7)().flowchart.arrowMarkerAbsolute||(0,c.D7)().state.arrowMarkerAbsolute){P=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;P=P.replace(/\(/g,"\\(").replace(/\)/g,"\\)")}h.Rm.info("arrowTypeStart",e.arrowTypeStart);h.Rm.info("arrowTypeEnd",e.arrowTypeEnd);f(O,e,P,p,a,I);const q=Math.floor(y.length/2);const z=y[q];if(!l._K.isLabelCoordinateInPath(z,O.attr("d"))){b=true}let N={};if(b){N.updatedPath=y}N.originalPath=e.points;return N}),"insertEdge");function _(t,e){if(t.length<2){return""}let r="";const i=t.length;const a=1e-5;for(let n=0;n<i;n++){const o=t[n];const s=t[n-1];const l=t[n+1];if(n===0){r+=`M${o.x},${o.y}`}else if(n===i-1){r+=`L${o.x},${o.y}`}else{const t=o.x-s.x;const i=o.y-s.y;const n=l.x-o.x;const c=l.y-o.y;const h=Math.hypot(t,i);const d=Math.hypot(n,c);if(h<a||d<a){r+=`L${o.x},${o.y}`;continue}const u=t/h;const f=i/h;const p=n/d;const g=c/d;const m=u*p+f*g;const y=Math.max(-1,Math.min(1,m));const b=Math.acos(y);if(b<a||Math.abs(Math.PI-b)<a){r+=`L${o.x},${o.y}`;continue}const x=Math.min(e/Math.sin(b/2),h/2,d/2);const C=o.x-u*x;const v=o.y-f*x;const k=o.x+p*x;const w=o.y+g*x;r+=`L${C},${v}`;r+=`Q${o.x},${o.y} ${k},${w}`}}return r}(0,h.K2)(_,"generateRoundedPath");function $(t,e){if(!t||!e){return{angle:0,deltaX:0,deltaY:0}}const r=e.x-t.x;const i=e.y-t.y;const a=Math.atan2(i,r);return{angle:a,deltaX:r,deltaY:i}}(0,h.K2)($,"calculateDeltaAndAngle");function E(t,e){const r=t.map((t=>({...t})));if(t.length>=2&&i.hq[e.arrowTypeStart]){const a=i.hq[e.arrowTypeStart];const n=t[0];const o=t[1];const{angle:s}=$(n,o);const l=a*Math.cos(s);const c=a*Math.sin(s);r[0].x=n.x+l;r[0].y=n.y+c}const a=t.length;if(a>=2&&i.hq[e.arrowTypeEnd]){const n=i.hq[e.arrowTypeEnd];const o=t[a-1];const s=t[a-2];const{angle:l}=$(s,o);const c=n*Math.cos(l);const h=n*Math.sin(l);r[a-1].x=o.x-c;r[a-1].y=o.y-h}return r}(0,h.K2)(E,"applyMarkerOffsetsToPoints");var O=(0,h.K2)(((t,e,r,i)=>{e.forEach((e=>{V[e](t,r,i)}))}),"insertMarkers");var D=(0,h.K2)(((t,e,r)=>{h.Rm.trace("Making markers for ",r);t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z");t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")}),"extension");var K=(0,h.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"composition");var I=(0,h.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"aggregation");var R=(0,h.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z");t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}),"dependency");var P=(0,h.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6);t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)}),"lollipop");var q=(0,h.K2)(((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0");t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"point");var z=(0,h.K2)(((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0");t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"circle");var N=(0,h.K2)(((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0");t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")}),"cross");var W=(0,h.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}),"barb");var j=(0,h.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18");t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")}),"only_one");var H=(0,h.K2)(((t,e,r)=>{const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6);i.append("path").attr("d","M9,0 L9,18");const a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6);a.append("path").attr("d","M21,0 L21,18")}),"zero_or_one");var G=(0,h.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27");t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")}),"one_or_more");var U=(0,h.K2)(((t,e,r)=>{const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6);i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6);a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}),"zero_or_more");var Y=(0,h.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0\n      L20,10\n      M20,10\n      L0,20`)}),"requirement_arrow");var X=(0,h.K2)(((t,e,r)=>{const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none");i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10);i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)}),"requirement_contains");var V={extension:D,composition:K,aggregation:I,dependency:R,lollipop:P,point:q,circle:z,cross:N,barb:W,only_one:j,zero_or_one:H,one_or_more:G,zero_or_more:U,requirement_arrow:Y,requirement_contains:X};var Z=O},29131:(t,e,r)=>{"use strict";r.d(e,{$C:()=>L,$t:()=>j,C4:()=>G,I5:()=>W,Ib:()=>m,KL:()=>X,Sm:()=>U,Un:()=>K,_K:()=>H,bH:()=>E,dq:()=>z,pe:()=>c,rY:()=>Y,ru:()=>D,sM:()=>T,vU:()=>p,yT:()=>F});var i=r(42418);var a=r(70416);var n=r(16750);var o=r(1218);var s=r(307);var l=r(96901);var c="";var h={curveBasis:o.qrM,curveBasisClosed:o.Yu4,curveBasisOpen:o.IA3,curveBumpX:o.Wi0,curveBumpY:o.PGM,curveBundle:o.OEq,curveCardinalClosed:o.olC,curveCardinalOpen:o.IrU,curveCardinal:o.y8u,curveCatmullRomClosed:o.Q7f,curveCatmullRomOpen:o.cVp,curveCatmullRom:o.oDi,curveLinear:o.lUB,curveLinearClosed:o.Lx9,curveMonotoneX:o.nVG,curveMonotoneY:o.uxU,curveNatural:o.Xf2,curveStep:o.GZz,curveStepAfter:o.UPb,curveStepBefore:o.dyv};var d=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi;var u=(0,a.K2)((function(t,e){const r=f(t,/(?:init\b)|(?:initialize\b)/);let a={};if(Array.isArray(r)){const t=r.map((t=>t.args));(0,i.$i)(t);a=(0,i.hH)(a,[...t])}else{a=r.args}if(!a){return}let n=(0,i.Ch)(t,e);const o="config";if(a[o]!==void 0){if(n==="flowchart-v2"){n="flowchart"}a[n]=a[o];delete a[o]}return a}),"detectInit");var f=(0,a.K2)((function(t,e=null){try{const r=new RegExp(`[%]{2}(?![{]${d.source})(?=[}][%]{2}).*\n`,"ig");t=t.trim().replace(r,"").replace(/'/gm,'"');a.Rm.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let n;const o=[];while((n=i.DB.exec(t))!==null){if(n.index===i.DB.lastIndex){i.DB.lastIndex++}if(n&&!e||e&&n[1]?.match(e)||e&&n[2]?.match(e)){const t=n[1]?n[1]:n[2];const e=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;o.push({type:t,args:e})}}if(o.length===0){return{type:t,args:null}}return o.length===1?o[0]:o}catch(r){a.Rm.error(`ERROR: ${r.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`);return{type:void 0,args:null}}}),"detectDirective");var p=(0,a.K2)((function(t){return t.replace(i.DB,"")}),"removeDirectives");var g=(0,a.K2)((function(t,e){for(const[r,i]of e.entries()){if(i.match(t)){return r}}return-1}),"isSubstringInArray");function m(t,e){if(!t){return e}const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return h[r]??e}(0,a.K2)(m,"interpolateToCurve");function y(t,e){const r=t.trim();if(!r){return void 0}if(e.securityLevel!=="loose"){return(0,n.J)(r)}return r}(0,a.K2)(y,"formatUrl");var b=(0,a.K2)(((t,...e)=>{const r=t.split(".");const i=r.length-1;const n=r[i];let o=window;for(let s=0;s<i;s++){o=o[r[s]];if(!o){a.Rm.error(`Function name: ${t} not found in window`);return}}o[n](...e)}),"runFunc");function x(t,e){if(!t||!e){return 0}return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}(0,a.K2)(x,"distance");function C(t){let e;let r=0;t.forEach((t=>{r+=x(t,e);e=t}));const i=r/2;return w(t,i)}(0,a.K2)(C,"traverseEdge");function v(t){if(t.length===1){return t[0]}return C(t)}(0,a.K2)(v,"calcLabelPosition");var k=(0,a.K2)(((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r}),"roundNumber");var w=(0,a.K2)(((t,e)=>{let r=void 0;let i=e;for(const a of t){if(r){const t=x(a,r);if(t===0){return r}if(t<i){i-=t}else{const e=i/t;if(e<=0){return r}if(e>=1){return{x:a.x,y:a.y}}if(e>0&&e<1){return{x:k((1-e)*r.x+e*a.x,5),y:k((1-e)*r.y+e*a.y,5)}}}}r=a}throw new Error("Could not find a suitable point for the given distance")}),"calculatePoint");var S=(0,a.K2)(((t,e,r)=>{a.Rm.info(`our points ${JSON.stringify(e)}`);if(e[0]!==r){e=e.reverse()}const i=25;const n=w(e,i);const o=t?10:5;const s=Math.atan2(e[0].y-n.y,e[0].x-n.x);const l={x:0,y:0};l.x=Math.sin(s)*o+(e[0].x+n.x)/2;l.y=-Math.cos(s)*o+(e[0].y+n.y)/2;return l}),"calcCardinalityPosition");function A(t,e,r){const i=structuredClone(r);a.Rm.info("our points",i);if(e!=="start_left"&&e!=="start_right"){i.reverse()}const n=25+t;const o=w(i,n);const s=10+t*.5;const l=Math.atan2(i[0].y-o.y,i[0].x-o.x);const c={x:0,y:0};if(e==="start_left"){c.x=Math.sin(l+Math.PI)*s+(i[0].x+o.x)/2;c.y=-Math.cos(l+Math.PI)*s+(i[0].y+o.y)/2}else if(e==="end_right"){c.x=Math.sin(l-Math.PI)*s+(i[0].x+o.x)/2-5;c.y=-Math.cos(l-Math.PI)*s+(i[0].y+o.y)/2-5}else if(e==="end_left"){c.x=Math.sin(l)*s+(i[0].x+o.x)/2-5;c.y=-Math.cos(l)*s+(i[0].y+o.y)/2-5}else{c.x=Math.sin(l)*s+(i[0].x+o.x)/2;c.y=-Math.cos(l)*s+(i[0].y+o.y)/2}return c}(0,a.K2)(A,"calcTerminalLabelPosition");function T(t){let e="";let r="";for(const i of t){if(i!==void 0){if(i.startsWith("color:")||i.startsWith("text-align:")){r=r+i+";"}else{e=e+i+";"}}}return{style:e,labelStyle:r}}(0,a.K2)(T,"getStylesFromArray");var B=0;var L=(0,a.K2)((()=>{B++;return"id-"+Math.random().toString(36).substr(2,12)+"-"+B}),"generateId");function M(t){let e="";const r="0123456789abcdef";const i=r.length;for(let a=0;a<t;a++){e+=r.charAt(Math.floor(Math.random()*i))}return e}(0,a.K2)(M,"makeRandomHex");var F=(0,a.K2)((t=>M(t.length)),"random");var _=(0,a.K2)((function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}}),"getTextObj");var $=(0,a.K2)((function(t,e){const r=e.text.replace(i.Y2.lineBreakRegex," ");const[,a]=W(e.fontSize);const n=t.append("text");n.attr("x",e.x);n.attr("y",e.y);n.style("text-anchor",e.anchor);n.style("font-family",e.fontFamily);n.style("font-size",a);n.style("font-weight",e.fontWeight);n.attr("fill",e.fill);if(e.class!==void 0){n.attr("class",e.class)}const o=n.append("tspan");o.attr("x",e.x+e.textMargin*2);o.attr("fill",e.fill);o.text(r);return n}),"drawSimpleText");var E=(0,s.A)(((t,e,r)=>{if(!t){return t}r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r);if(i.Y2.lineBreakRegex.test(t)){return t}const a=t.split(" ").filter(Boolean);const n=[];let o="";a.forEach(((t,i)=>{const s=K(`${t} `,r);const l=K(o,r);if(s>e){const{hyphenatedStrings:i,remainingWord:a}=O(t,e,"-",r);n.push(o,...i);o=a}else if(l+s>=e){n.push(o);o=t}else{o=[o,t].filter(Boolean).join(" ")}const c=i+1;const h=c===a.length;if(h){n.push(o)}}));return n.filter((t=>t!=="")).join(r.joinWith)}),((t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`));var O=(0,s.A)(((t,e,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const a=[...t];const n=[];let o="";a.forEach(((t,s)=>{const l=`${o}${t}`;const c=K(l,i);if(c>=e){const t=s+1;const e=a.length===t;const i=`${l}${r}`;n.push(e?l:i);o=""}else{o=l}}));return{hyphenatedStrings:n,remainingWord:o}}),((t,e,r="-",i)=>`${t}${e}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`));function D(t,e){return I(t,e).height}(0,a.K2)(D,"calculateTextHeight");function K(t,e){return I(t,e).width}(0,a.K2)(K,"calculateTextWidth");var I=(0,s.A)(((t,e)=>{const{fontSize:r=12,fontFamily:a="Arial",fontWeight:n=400}=e;if(!t){return{width:0,height:0}}const[,s]=W(r);const l=["sans-serif",a];const h=t.split(i.Y2.lineBreakRegex);const d=[];const u=(0,o.Ltv)("body");if(!u.remove){return{width:0,height:0,lineHeight:0}}const f=u.append("svg");for(const i of l){let t=0;const e={width:0,height:0,lineHeight:0};for(const r of h){const a=_();a.text=r||c;const o=$(f,a).style("font-size",s).style("font-weight",n).style("font-family",i);const l=(o._groups||o)[0][0].getBBox();if(l.width===0&&l.height===0){throw new Error("svg element not in render tree")}e.width=Math.round(Math.max(e.width,l.width));t=Math.round(l.height);e.height+=t;e.lineHeight=Math.round(Math.max(e.lineHeight,t))}d.push(e)}f.remove();const p=isNaN(d[1].height)||isNaN(d[1].width)||isNaN(d[1].lineHeight)||d[0].height>d[1].height&&d[0].width>d[1].width&&d[0].lineHeight>d[1].lineHeight?0:1;return d[p]}),((t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`));var R=class{constructor(t=false,e){this.count=0;this.count=e?e.length:0;this.next=t?()=>this.count++:()=>Date.now()}static{(0,a.K2)(this,"InitIDGenerator")}};var P;var q=(0,a.K2)((function(t){P=P||document.createElement("div");t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";");P.innerHTML=t;return unescape(P.textContent)}),"entityDecode");function z(t){return"str"in t}(0,a.K2)(z,"isDetailedError");var N=(0,a.K2)(((t,e,r,i)=>{if(!i){return}const a=t.node()?.getBBox();if(!a){return}t.append("text").text(i).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-r).attr("class",e)}),"insertTitle");var W=(0,a.K2)((t=>{if(typeof t==="number"){return[t,t+"px"]}const e=parseInt(t??"",10);if(Number.isNaN(e)){return[void 0,void 0]}else if(t===String(e)){return[e,t+"px"]}else{return[e,t]}}),"parseFontSize");function j(t,e){return(0,l.A)({},t,e)}(0,a.K2)(j,"cleanAndMerge");var H={assignWithDepth:i.hH,wrapLabel:E,calculateTextHeight:D,calculateTextWidth:K,calculateTextDimensions:I,cleanAndMerge:j,detectInit:u,detectDirective:f,isSubstringInArray:g,interpolateToCurve:m,calcLabelPosition:v,calcCardinalityPosition:S,calcTerminalLabelPosition:A,formatUrl:y,getStylesFromArray:T,generateId:L,random:F,runFunc:b,entityDecode:q,insertTitle:N,isLabelCoordinateInPath:V,parseFontSize:W,InitIDGenerator:R};var G=(0,a.K2)((function(t){let e=t;e=e.replace(/style.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)}));e=e.replace(/classDef.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)}));e=e.replace(/#\w+;/g,(function(t){const e=t.substring(1,t.length-1);const r=/^\+?\d+$/.test(e);if(r){return""+e+""}else{return""+e+""}}));return e}),"encodeEntities");var U=(0,a.K2)((function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")}),"decodeEntities");var Y=(0,a.K2)(((t,e,{counter:r=0,prefix:i,suffix:a},n)=>{if(n){return n}return`${i?`${i}_`:""}${t}_${e}_${r}${a?`_${a}`:""}`}),"getEdgeId");function X(t){return t??null}(0,a.K2)(X,"handleUndefinedAttr");function V(t,e){const r=Math.round(t.x);const i=Math.round(t.y);const a=e.replace(/(\d+\.\d+)/g,(t=>Math.round(parseFloat(t)).toString()));return a.includes(r.toString())||a.includes(i.toString())}(0,a.K2)(V,"isLabelCoordinateInPath")},90227:(t,e,r)=>{"use strict";r.r(e);r.d(e,{default:()=>pa});var i=r(87756);var a=r(29479);var n=r(57028);var o=r(78188);var s=r(25301);var l=r(46103);var c=r(47655);var h=r(15164);var d=r(55750);var u=r(95035);var f=r(29131);var p=r(42418);var g=r(70416);var m=r(60513);var y=r(1218);var b="-ms-";var x="-moz-";var C="-webkit-";var v="comm";var k="rule";var w="decl";var S="@page";var A="@media";var T="@import";var B="@charset";var L="@viewport";var M="@supports";var F="@document";var _="@namespace";var $="@keyframes";var E="@font-face";var O="@counter-style";var D="@font-feature-values";var K="@layer";var I="@scope";var R=Math.abs;var P=String.fromCharCode;var q=Object.assign;function z(t,e){return G(t,0)^45?(((e<<2^G(t,0))<<2^G(t,1))<<2^G(t,2))<<2^G(t,3):0}function N(t){return t.trim()}function W(t,e){return(t=e.exec(t))?t[0]:t}function j(t,e,r){return t.replace(e,r)}function H(t,e,r){return t.indexOf(e,r)}function G(t,e){return t.charCodeAt(e)|0}function U(t,e,r){return t.slice(e,r)}function Y(t){return t.length}function X(t){return t.length}function V(t,e){return e.push(t),t}function Z(t,e){return t.map(e).join("")}function Q(t,e){return t.filter((function(t){return!W(t,e)}))}function J(t,e){var r="";for(var i=0;i<t.length;i++)r+=e(t[i],i,t,e)||"";return r}function tt(t,e,r,i){switch(t.type){case K:if(t.children.length)break;case T:case _:case w:return t.return=t.return||t.value;case v:return"";case $:return t.return=t.value+"{"+J(t.children,i)+"}";case k:if(!Y(t.value=t.props.join(",")))return""}return Y(r=J(t.children,i))?t.return=t.value+"{"+r+"}":""}var et=1;var rt=1;var it=0;var at=0;var nt=0;var ot="";function st(t,e,r,i,a,n,o,s){return{value:t,root:e,parent:r,type:i,props:a,children:n,line:et,column:rt,length:o,return:"",siblings:s}}function lt(t,e){return assign(st("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ct(t){while(t.root)t=lt(t.root,{children:[t]});append(t,t.siblings)}function ht(){return nt}function dt(){nt=at>0?G(ot,--at):0;if(rt--,nt===10)rt=1,et--;return nt}function ut(){nt=at<it?G(ot,at++):0;if(rt++,nt===10)rt=1,et++;return nt}function ft(){return G(ot,at)}function pt(){return at}function gt(t,e){return U(ot,t,e)}function mt(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yt(t){return et=rt=1,it=Y(ot=t),at=0,[]}function bt(t){return ot="",t}function xt(t){return N(gt(at-1,St(t===91?t+2:t===40?t+1:t)))}function Ct(t){return bt(kt(yt(t)))}function vt(t){while(nt=ft())if(nt<33)ut();else break;return mt(t)>2||mt(nt)>3?"":" "}function kt(t){while(ut())switch(mt(nt)){case 0:append(Tt(at-1),t);break;case 2:append(xt(nt),t);break;default:append(from(nt),t)}return t}function wt(t,e){while(--e&&ut())if(nt<48||nt>102||nt>57&&nt<65||nt>70&&nt<97)break;return gt(t,pt()+(e<6&&ft()==32&&ut()==32))}function St(t){while(ut())switch(nt){case t:return at;case 34:case 39:if(t!==34&&t!==39)St(nt);break;case 40:if(t===41)St(t);break;case 92:ut();break}return at}function At(t,e){while(ut())if(t+nt===47+10)break;else if(t+nt===42+42&&ft()===47)break;return"/*"+gt(e,at-1)+"*"+P(t===47?t:ut())}function Tt(t){while(!mt(ft()))ut();return gt(t,at)}function Bt(t){return bt(Lt("",null,null,null,[""],t=yt(t),0,[0],t))}function Lt(t,e,r,i,a,n,o,s,l){var c=0;var h=0;var d=o;var u=0;var f=0;var p=0;var g=1;var m=1;var y=1;var b=0;var x="";var C=a;var v=n;var k=i;var w=x;while(m)switch(p=b,b=ut()){case 40:if(p!=108&&G(w,d-1)==58){if(H(w+=j(xt(b),"&","&\f"),"&\f",R(c?s[c-1]:0))!=-1)y=-1;break}case 34:case 39:case 91:w+=xt(b);break;case 9:case 10:case 13:case 32:w+=vt(p);break;case 92:w+=wt(pt()-1,7);continue;case 47:switch(ft()){case 42:case 47:V(Ft(At(ut(),pt()),e,r,l),l);if((mt(p||1)==5||mt(ft()||1)==5)&&Y(w)&&U(w,-1,void 0)!==" ")w+=" ";break;default:w+="/"}break;case 123*g:s[c++]=Y(w)*y;case 125*g:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+h:if(y==-1)w=j(w,/\f/g,"");if(f>0&&(Y(w)-d||g===0&&p===47))V(f>32?_t(w+";",i,r,d-1,l):_t(j(w," ","")+";",i,r,d-2,l),l);break;case 59:w+=";";default:V(k=Mt(w,e,r,c,h,a,s,x,C=[],v=[],d,n),n);if(b===123)if(h===0)Lt(w,e,k,k,C,n,d,s,v);else{switch(u){case 99:if(G(w,3)===110)break;case 108:if(G(w,2)===97)break;default:h=0;case 100:case 109:case 115:}if(h)Lt(t,k,k,i&&V(Mt(t,k,k,0,0,a,s,x,a,C=[],d,v),v),a,v,d,s,i?C:v);else Lt(w,k,k,k,[""],v,0,s,v)}}c=h=f=0,g=y=1,x=w="",d=o;break;case 58:d=1+Y(w),f=p;default:if(g<1)if(b==123)--g;else if(b==125&&g++==0&&dt()==125)continue;switch(w+=P(b),b*g){case 38:y=h>0?1:(w+="\f",-1);break;case 44:s[c++]=(Y(w)-1)*y,y=1;break;case 64:if(ft()===45)w+=xt(ut());u=ft(),h=d=Y(x=w+=Tt(pt())),b++;break;case 45:if(p===45&&Y(w)==2)g=0}}return n}function Mt(t,e,r,i,a,n,o,s,l,c,h,d){var u=a-1;var f=a===0?n:[""];var p=X(f);for(var g=0,m=0,y=0;g<i;++g)for(var b=0,x=U(t,u+1,u=R(m=o[g])),C=t;b<p;++b)if(C=N(m>0?f[b]+" "+x:j(x,/&\f/g,f[b])))l[y++]=C;return st(t,e,r,a===0?k:s,l,c,h,d)}function Ft(t,e,r,i){return st(t,e,r,v,P(ht()),U(t,2,-2),0,i)}function _t(t,e,r,i,a){return st(t,e,r,w,U(t,0,i),U(t,i+1,-1),i,a)}var $t=r(84997);var Et=r(74650);var Ot="c4";var Dt=(0,g.K2)((t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t)),"detector");var Kt=(0,g.K2)((async()=>{const{diagram:t}=await r.e(7356).then(r.bind(r,27356));return{id:Ot,diagram:t}}),"loader");var It={id:Ot,detector:Dt,loader:Kt};var Rt=It;var Pt="flowchart";var qt=(0,g.K2)(((t,e)=>{if(e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"){return false}return/^\s*graph/.test(t)}),"detector");var zt=(0,g.K2)((async()=>{const{diagram:t}=await r.e(2434).then(r.bind(r,2434));return{id:Pt,diagram:t}}),"loader");var Nt={id:Pt,detector:qt,loader:zt};var Wt=Nt;var jt="flowchart-v2";var Ht=(0,g.K2)(((t,e)=>{if(e?.flowchart?.defaultRenderer==="dagre-d3"){return false}if(e?.flowchart?.defaultRenderer==="elk"){e.layout="elk"}if(/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"){return true}return/^\s*flowchart/.test(t)}),"detector");var Gt=(0,g.K2)((async()=>{const{diagram:t}=await r.e(2434).then(r.bind(r,2434));return{id:jt,diagram:t}}),"loader");var Ut={id:jt,detector:Ht,loader:Gt};var Yt=Ut;var Xt="er";var Vt=(0,g.K2)((t=>/^\s*erDiagram/.test(t)),"detector");var Zt=(0,g.K2)((async()=>{const{diagram:t}=await r.e(6405).then(r.bind(r,86405));return{id:Xt,diagram:t}}),"loader");var Qt={id:Xt,detector:Vt,loader:Zt};var Jt=Qt;var te="gitGraph";var ee=(0,g.K2)((t=>/^\s*gitGraph/.test(t)),"detector");var re=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(4010),r.e(2709)]).then(r.bind(r,95090));return{id:te,diagram:t}}),"loader");var ie={id:te,detector:ee,loader:re};var ae=ie;var ne="gantt";var oe=(0,g.K2)((t=>/^\s*gantt/.test(t)),"detector");var se=(0,g.K2)((async()=>{const{diagram:t}=await r.e(7828).then(r.bind(r,15447));return{id:ne,diagram:t}}),"loader");var le={id:ne,detector:oe,loader:se};var ce=le;var he="info";var de=(0,g.K2)((t=>/^\s*info/.test(t)),"detector");var ue=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(4010),r.e(1599)]).then(r.bind(r,81599));return{id:he,diagram:t}}),"loader");var fe={id:he,detector:de,loader:ue};var pe="pie";var ge=(0,g.K2)((t=>/^\s*pie/.test(t)),"detector");var me=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(4010),r.e(4483)]).then(r.bind(r,14483));return{id:pe,diagram:t}}),"loader");var ye={id:pe,detector:ge,loader:me};var be="quadrantChart";var xe=(0,g.K2)((t=>/^\s*quadrantChart/.test(t)),"detector");var Ce=(0,g.K2)((async()=>{const{diagram:t}=await r.e(5834).then(r.bind(r,65834));return{id:be,diagram:t}}),"loader");var ve={id:be,detector:xe,loader:Ce};var ke=ve;var we="xychart";var Se=(0,g.K2)((t=>/^\s*xychart(-beta)?/.test(t)),"detector");var Ae=(0,g.K2)((async()=>{const{diagram:t}=await r.e(7680).then(r.bind(r,37680));return{id:we,diagram:t}}),"loader");var Te={id:we,detector:Se,loader:Ae};var Be=Te;var Le="requirement";var Me=(0,g.K2)((t=>/^\s*requirement(Diagram)?/.test(t)),"detector");var Fe=(0,g.K2)((async()=>{const{diagram:t}=await r.e(8259).then(r.bind(r,78259));return{id:Le,diagram:t}}),"loader");var _e={id:Le,detector:Me,loader:Fe};var $e=_e;var Ee="sequence";var Oe=(0,g.K2)((t=>/^\s*sequenceDiagram/.test(t)),"detector");var De=(0,g.K2)((async()=>{const{diagram:t}=await r.e(8310).then(r.bind(r,65929));return{id:Ee,diagram:t}}),"loader");var Ke={id:Ee,detector:Oe,loader:De};var Ie=Ke;var Re="class";var Pe=(0,g.K2)(((t,e)=>{if(e?.class?.defaultRenderer==="dagre-wrapper"){return false}return/^\s*classDiagram/.test(t)}),"detector");var qe=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(7863),r.e(1109)]).then(r.bind(r,11109));return{id:Re,diagram:t}}),"loader");var ze={id:Re,detector:Pe,loader:qe};var Ne=ze;var We="classDiagram";var je=(0,g.K2)(((t,e)=>{if(/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"){return true}return/^\s*classDiagram-v2/.test(t)}),"detector");var He=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(7863),r.e(8398)]).then(r.bind(r,78398));return{id:We,diagram:t}}),"loader");var Ge={id:We,detector:je,loader:He};var Ue=Ge;var Ye="state";var Xe=(0,g.K2)(((t,e)=>{if(e?.state?.defaultRenderer==="dagre-wrapper"){return false}return/^\s*stateDiagram/.test(t)}),"detector");var Ve=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(2211),r.e(6901),r.e(3053)]).then(r.bind(r,53053));return{id:Ye,diagram:t}}),"loader");var Ze={id:Ye,detector:Xe,loader:Ve};var Qe=Ze;var Je="stateDiagram";var tr=(0,g.K2)(((t,e)=>{if(/^\s*stateDiagram-v2/.test(t)){return true}if(/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"){return true}return false}),"detector");var er=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(6901),r.e(7879)]).then(r.bind(r,87879));return{id:Je,diagram:t}}),"loader");var rr={id:Je,detector:tr,loader:er};var ir=rr;var ar="journey";var nr=(0,g.K2)((t=>/^\s*journey/.test(t)),"detector");var or=(0,g.K2)((async()=>{const{diagram:t}=await r.e(3339).then(r.bind(r,3339));return{id:ar,diagram:t}}),"loader");var sr={id:ar,detector:nr,loader:or};var lr=sr;var cr=(0,g.K2)(((t,e,r)=>{g.Rm.debug("rendering svg for syntax error\n");const i=(0,a.D)(e);const n=i.append("g");i.attr("viewBox","0 0 2412 512");(0,p.a$)(i,100,512,true);n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z");n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z");n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z");n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z");n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z");n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z");n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text");n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)}),"draw");var hr={draw:cr};var dr=hr;var ur={db:{},renderer:hr,parser:{parse:(0,g.K2)((()=>{}),"parse")}};var fr=ur;var pr="flowchart-elk";var gr=(0,g.K2)(((t,e={})=>{if(/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&e?.flowchart?.defaultRenderer==="elk"){e.layout="elk";return true}return false}),"detector");var mr=(0,g.K2)((async()=>{const{diagram:t}=await r.e(2434).then(r.bind(r,2434));return{id:pr,diagram:t}}),"loader");var yr={id:pr,detector:gr,loader:mr};var br=yr;var xr="timeline";var Cr=(0,g.K2)((t=>/^\s*timeline/.test(t)),"detector");var vr=(0,g.K2)((async()=>{const{diagram:t}=await r.e(6894).then(r.bind(r,16894));return{id:xr,diagram:t}}),"loader");var kr={id:xr,detector:Cr,loader:vr};var wr=kr;var Sr="mindmap";var Ar=(0,g.K2)((t=>/^\s*mindmap/.test(t)),"detector");var Tr=(0,g.K2)((async()=>{const{diagram:t}=await r.e(1042).then(r.bind(r,41042));return{id:Sr,diagram:t}}),"loader");var Br={id:Sr,detector:Ar,loader:Tr};var Lr=Br;var Mr="kanban";var Fr=(0,g.K2)((t=>/^\s*kanban/.test(t)),"detector");var _r=(0,g.K2)((async()=>{const{diagram:t}=await r.e(9524).then(r.bind(r,49524));return{id:Mr,diagram:t}}),"loader");var $r={id:Mr,detector:Fr,loader:_r};var Er=$r;var Or="sankey";var Dr=(0,g.K2)((t=>/^\s*sankey(-beta)?/.test(t)),"detector");var Kr=(0,g.K2)((async()=>{const{diagram:t}=await r.e(1483).then(r.bind(r,11483));return{id:Or,diagram:t}}),"loader");var Ir={id:Or,detector:Dr,loader:Kr};var Rr=Ir;var Pr="packet";var qr=(0,g.K2)((t=>/^\s*packet(-beta)?/.test(t)),"detector");var zr=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(4010),r.e(2089)]).then(r.bind(r,74470));return{id:Pr,diagram:t}}),"loader");var Nr={id:Pr,detector:qr,loader:zr};var Wr="radar";var jr=(0,g.K2)((t=>/^\s*radar-beta/.test(t)),"detector");var Hr=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(4010),r.e(1561)]).then(r.bind(r,41561));return{id:Wr,diagram:t}}),"loader");var Gr={id:Wr,detector:jr,loader:Hr};var Ur="block";var Yr=(0,g.K2)((t=>/^\s*block(-beta)?/.test(t)),"detector");var Xr=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(5763)]).then(r.bind(r,25763));return{id:Ur,diagram:t}}),"loader");var Vr={id:Ur,detector:Yr,loader:Xr};var Zr=Vr;var Qr="architecture";var Jr=(0,g.K2)((t=>/^\s*architecture/.test(t)),"detector");var ti=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(4010),r.e(8786),r.e(5880)]).then(r.bind(r,25880));return{id:Qr,diagram:t}}),"loader");var ei={id:Qr,detector:Jr,loader:ti};var ri=ei;var ii="treemap";var ai=(0,g.K2)((t=>/^\s*treemap/.test(t)),"detector");var ni=(0,g.K2)((async()=>{const{diagram:t}=await Promise.all([r.e(1838),r.e(4010),r.e(872)]).then(r.bind(r,8491));return{id:ii,diagram:t}}),"loader");var oi={id:ii,detector:ai,loader:ni};var si=false;var li=(0,g.K2)((()=>{if(si){return}si=true;(0,p.Js)("error",fr,(t=>t.toLowerCase().trim()==="error"));(0,p.Js)("---",{db:{clear:(0,g.K2)((()=>{}),"clear")},styles:{},renderer:{draw:(0,g.K2)((()=>{}),"draw")},parser:{parse:(0,g.K2)((()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}),"parse")},init:(0,g.K2)((()=>null),"init")},(t=>t.toLowerCase().trimStart().startsWith("---")));if(true){(0,p.Xd)(br,Lr,ri)}(0,p.Xd)(Rt,Er,Ue,Ne,Jt,ce,fe,ye,$e,Ie,Yt,Wt,wr,ae,ir,Qe,lr,ke,Rr,Nr,Be,Zr,Gr,oi)}),"addDiagrams");var ci=(0,g.K2)((async()=>{g.Rm.debug(`Loading registered diagrams`);const t=await Promise.allSettled(Object.entries(p.mW).map((async([t,{detector:e,loader:r}])=>{if(!r){return}try{(0,p.Gs)(t)}catch{try{const{diagram:t,id:i}=await r();(0,p.Js)(i,t,e)}catch(i){g.Rm.error(`Failed to load external diagram with key ${t}. Removing from detectors.`);delete p.mW[t];throw i}}})));const e=t.filter((t=>t.status==="rejected"));if(e.length>0){g.Rm.error(`Failed to load ${e.length} external diagrams`);for(const t of e){g.Rm.error(t)}throw new Error(`Failed to load ${e.length} external diagrams`)}}),"loadRegisteredDiagrams");var hi="graphics-document document";function di(t,e){t.attr("role",hi);if(e!==""){t.attr("aria-roledescription",e)}}(0,g.K2)(di,"setA11yDiagramInfo");function ui(t,e,r,i){if(t.insert===void 0){return}if(r){const e=`chart-desc-${i}`;t.attr("aria-describedby",e);t.insert("desc",":first-child").attr("id",e).text(r)}if(e){const r=`chart-title-${i}`;t.attr("aria-labelledby",r);t.insert("title",":first-child").attr("id",r).text(e)}}(0,g.K2)(ui,"addSVGa11yTitleDescription");var fi=class t{constructor(t,e,r,i,a){this.type=t;this.text=e;this.db=r;this.parser=i;this.renderer=a}static{(0,g.K2)(this,"Diagram")}static async fromText(e,r={}){const i=(0,p.zj)();const a=(0,p.Ch)(e,i);e=(0,f.C4)(e)+"\n";try{(0,p.Gs)(a)}catch{const t=(0,p.J$)(a);if(!t){throw new p.C0(`Diagram ${a} not found.`)}const{id:e,diagram:r}=await t();(0,p.Js)(e,r)}const{db:n,parser:o,renderer:s,init:l}=(0,p.Gs)(a);if(o.parser){o.parser.yy=n}n.clear?.();l?.(i);if(r.title){n.setDiagramTitle?.(r.title)}await o.parse(e);return new t(a,e,n,o,s)}async render(t,e){await this.renderer.draw(this.text,t,e,this)}getParser(){return this.parser}getType(){return this.type}};var pi=[];var gi=(0,g.K2)((()=>{pi.forEach((t=>{t()}));pi=[]}),"attachFunctions");var mi=(0,g.K2)((t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart()),"cleanupComments");function yi(t){const e=t.match(p.EJ);if(!e){return{text:t,metadata:{}}}let r=(0,n.H)(e[1],{schema:n.r})??{};r=typeof r==="object"&&!Array.isArray(r)?r:{};const i={};if(r.displayMode){i.displayMode=r.displayMode.toString()}if(r.title){i.title=r.title.toString()}if(r.config){i.config=r.config}return{text:t.slice(e[0].length),metadata:i}}(0,g.K2)(yi,"extractFrontMatter");var bi=(0,g.K2)((t=>t.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,((t,e,r)=>"<"+e+r.replace(/="([^"]*)"/g,"='$1'")+">"))),"cleanupText");var xi=(0,g.K2)((t=>{const{text:e,metadata:r}=yi(t);const{displayMode:i,title:a,config:n={}}=r;if(i){if(!n.gantt){n.gantt={}}n.gantt.displayMode=i}return{title:a,config:n,text:e}}),"processFrontmatter");var Ci=(0,g.K2)((t=>{const e=f._K.detectInit(t)??{};const r=f._K.detectDirective(t,"wrap");if(Array.isArray(r)){e.wrap=r.some((({type:t})=>t==="wrap"))}else if(r?.type==="wrap"){e.wrap=true}return{text:(0,f.vU)(t),directive:e}}),"processDirectives");function vi(t){const e=bi(t);const r=xi(e);const i=Ci(r.text);const a=(0,f.$t)(r.config,i.directive);t=mi(i.text);return{code:t,title:r.title,config:a}}(0,g.K2)(vi,"preprocessDiagram");function ki(t){const e=(new TextEncoder).encode(t);const r=Array.from(e,(t=>String.fromCodePoint(t))).join("");return btoa(r)}(0,g.K2)(ki,"toBase64");var wi=5e4;var Si="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa";var Ai="sandbox";var Ti="loose";var Bi="http://www.w3.org/2000/svg";var Li="http://www.w3.org/1999/xlink";var Mi="http://www.w3.org/1999/xhtml";var Fi="100%";var _i="100%";var $i="border:0;margin:0;";var Ei="margin:0";var Oi="allow-top-navigation-by-user-activation allow-popups";var Di='The "iframe" tag is not supported by your browser.';var Ki=["foreignobject"];var Ii=["dominant-baseline"];function Ri(t){const e=vi(t);(0,p.cL)();(0,p.xA)(e.config??{});return e}(0,g.K2)(Ri,"processAndSetConfigs");async function Pi(t,e){li();try{const{code:e,config:r}=Ri(t);const i=await Vi(e);return{diagramType:i.type,config:r}}catch(r){if(e?.suppressErrors){return false}throw r}}(0,g.K2)(Pi,"parse");var qi=(0,g.K2)(((t,e,r=[])=>`\n.${t} ${e} { ${r.join(" !important; ")} !important; }`),"cssImportantStyles");var zi=(0,g.K2)(((t,e=new Map)=>{let r="";if(t.themeCSS!==void 0){r+=`\n${t.themeCSS}`}if(t.fontFamily!==void 0){r+=`\n:root { --mermaid-font-family: ${t.fontFamily}}`}if(t.altFontFamily!==void 0){r+=`\n:root { --mermaid-alt-font-family: ${t.altFontFamily}}`}if(e instanceof Map){const i=t.htmlLabels??t.flowchart?.htmlLabels;const a=["> *","span"];const n=["rect","polygon","ellipse","circle","path"];const o=i?a:n;e.forEach((t=>{if(!(0,Et.A)(t.styles)){o.forEach((e=>{r+=qi(t.id,e,t.styles)}))}if(!(0,Et.A)(t.textStyles)){r+=qi(t.id,"tspan",(t?.textStyles||[]).map((t=>t.replace("color","fill"))))}}))}return r}),"createCssStyles");var Ni=(0,g.K2)(((t,e,r,i)=>{const a=zi(t,r);const n=(0,p.tM)(e,a,t.themeVariables);return J(Bt(`${i}{${n}}`),tt)}),"createUserStyles");var Wi=(0,g.K2)(((t="",e,r)=>{let i=t;if(!r&&!e){i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')}i=(0,f.Sm)(i);i=i.replace(/<br>/g,"<br/>");return i}),"cleanUpSvgCode");var ji=(0,g.K2)(((t="",e)=>{const r=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":_i;const i=ki(`<body style="${Ei}">${t}</body>`);return`<iframe style="width:${Fi};height:${r};${$i}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${Oi}">\n  ${Di}\n</iframe>`}),"putIntoIFrame");var Hi=(0,g.K2)(((t,e,r,i,a)=>{const n=t.append("div");n.attr("id",r);if(i){n.attr("style",i)}const o=n.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Bi);if(a){o.attr("xmlns:xlink",a)}o.append("g");return t}),"appendDivSvgG");function Gi(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,g.K2)(Gi,"sandboxedIframe");var Ui=(0,g.K2)(((t,e,r,i)=>{t.getElementById(e)?.remove();t.getElementById(r)?.remove();t.getElementById(i)?.remove()}),"removeExistingElements");var Yi=(0,g.K2)((async function(t,e,r){li();const a=Ri(e);e=a.code;const n=(0,p.zj)();g.Rm.debug(n);if(e.length>(n?.maxTextSize??wi)){e=Si}const o="#"+t;const s="i"+t;const l="#"+s;const c="d"+t;const h="#"+c;const d=(0,g.K2)((()=>{const t=f?l:h;const e=(0,y.Ltv)(t).node();if(e&&"remove"in e){e.remove()}}),"removeTempElements");let u=(0,y.Ltv)("body");const f=n.securityLevel===Ai;const m=n.securityLevel===Ti;const b=n.fontFamily;if(r!==void 0){if(r){r.innerHTML=""}if(f){const t=Gi((0,y.Ltv)(r),s);u=(0,y.Ltv)(t.nodes()[0].contentDocument.body);u.node().style.margin=0}else{u=(0,y.Ltv)(r)}Hi(u,t,c,`font-family: ${b}`,Li)}else{Ui(document,t,c,s);if(f){const t=Gi((0,y.Ltv)("body"),s);u=(0,y.Ltv)(t.nodes()[0].contentDocument.body);u.node().style.margin=0}else{u=(0,y.Ltv)("body")}Hi(u,t,c)}let x;let C;try{x=await fi.fromText(e,{title:a.title})}catch($){if(n.suppressErrorRendering){d();throw $}x=await fi.fromText("error");C=$}const v=u.select(h).node();const k=x.type;const w=v.firstChild;const S=w.firstChild;const A=x.renderer.getClasses?.(e,x);const T=Ni(n,k,A,o);const B=document.createElement("style");B.innerHTML=T;w.insertBefore(B,S);try{await x.renderer.draw(e,t,i.n.version,x)}catch(E){if(n.suppressErrorRendering){d()}else{dr.draw(e,t,i.n.version)}throw E}const L=u.select(`${h} svg`);const M=x.db.getAccTitle?.();const F=x.db.getAccDescription?.();Zi(k,L,M,F);u.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Mi);let _=u.select(h).node().innerHTML;g.Rm.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute);_=Wi(_,f,(0,p._3)(n.arrowMarkerAbsolute));if(f){const t=u.select(h+" svg").node();_=ji(_,t)}else if(!m){_=$t.A.sanitize(_,{ADD_TAGS:Ki,ADD_ATTR:Ii,HTML_INTEGRATION_POINTS:{foreignobject:true}})}gi();if(C){throw C}d();return{diagramType:k,svg:_,bindFunctions:x.db.bindFunctions}}),"render");function Xi(t={}){const e=(0,p.hH)({},t);if(e?.fontFamily&&!e.themeVariables?.fontFamily){if(!e.themeVariables){e.themeVariables={}}e.themeVariables.fontFamily=e.fontFamily}(0,p.wZ)(e);if(e?.theme&&e.theme in p.H$){e.themeVariables=p.H$[e.theme].getThemeVariables(e.themeVariables)}else if(e){e.themeVariables=p.H$.default.getThemeVariables(e.themeVariables)}const r=typeof e==="object"?(0,p.UU)(e):(0,p.Q2)();(0,g.He)(r.logLevel);li()}(0,g.K2)(Xi,"initialize");var Vi=(0,g.K2)(((t,e={})=>{const{code:r}=vi(t);return fi.fromText(r,e)}),"getDiagramFromText");function Zi(t,e,r,i){di(e,t);ui(e,r,i,e.attr("id"))}(0,g.K2)(Zi,"addA11yInfo");var Qi=Object.freeze({render:Yi,parse:Pi,getDiagramFromText:Vi,initialize:Xi,getConfig:p.zj,setConfig:p.Nk,getSiteConfig:p.Q2,updateSiteConfig:p.B6,reset:(0,g.K2)((()=>{(0,p.cL)()}),"reset"),globalReset:(0,g.K2)((()=>{(0,p.cL)(p.sb)}),"globalReset"),defaultConfig:p.sb});(0,g.He)((0,p.zj)().logLevel);(0,p.cL)((0,p.zj)());var Ji=(0,g.K2)(((t,e,r)=>{g.Rm.warn(t);if((0,f.dq)(t)){if(r){r(t.str,t.hash)}e.push({...t,message:t.str,error:t})}else{if(r){r(t)}if(t instanceof Error){e.push({str:t.message,message:t.message,hash:t.name,error:t})}}}),"handleError");var ta=(0,g.K2)((async function(t={querySelector:".mermaid"}){try{await ea(t)}catch(e){if((0,f.dq)(e)){g.Rm.error(e.str)}if(fa.parseError){fa.parseError(e)}if(!t.suppressErrors){g.Rm.error("Use the suppressErrors option to suppress these errors");throw e}}}),"run");var ea=(0,g.K2)((async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const i=Qi.getConfig();g.Rm.debug(`${!t?"No ":""}Callback function found`);let a;if(r){a=r}else if(e){a=document.querySelectorAll(e)}else{throw new Error("Nodes and querySelector are both undefined")}g.Rm.debug(`Found ${a.length} diagrams`);if(i?.startOnLoad!==void 0){g.Rm.debug("Start On Load: "+i?.startOnLoad);Qi.updateSiteConfig({startOnLoad:i?.startOnLoad})}const n=new f._K.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let o;const s=[];for(const c of Array.from(a)){g.Rm.info("Rendering diagram: "+c.id);if(c.getAttribute("data-processed")){continue}c.setAttribute("data-processed","true");const e=`mermaid-${n.next()}`;o=c.innerHTML;o=(0,m.T)(f._K.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=f._K.detectInit(o);if(r){g.Rm.debug("Detected early reinit: ",r)}try{const{svg:r,bindFunctions:i}=await da(e,o,c);c.innerHTML=r;if(t){await t(e)}if(i){i(c)}}catch(l){Ji(l,s,fa.parseError)}}if(s.length>0){throw s[0]}}),"runThrowsErrors");var ra=(0,g.K2)((function(t){Qi.initialize(t)}),"initialize");var ia=(0,g.K2)((async function(t,e,r){g.Rm.warn("mermaid.init is deprecated. Please use run instead.");if(t){ra(t)}const i={postRenderCallback:r,querySelector:".mermaid"};if(typeof e==="string"){i.querySelector=e}else if(e){if(e instanceof HTMLElement){i.nodes=[e]}else{i.nodes=e}}await ta(i)}),"init");var aa=(0,g.K2)((async(t,{lazyLoad:e=true}={})=>{li();(0,p.Xd)(...t);if(e===false){await ci()}}),"registerExternalDiagrams");var na=(0,g.K2)((function(){if(fa.startOnLoad){const{startOnLoad:t}=Qi.getConfig();if(t){fa.run().catch((t=>g.Rm.error("Mermaid failed to initialize",t)))}}}),"contentLoaded");if(typeof document!=="undefined"){window.addEventListener("load",na,false)}var oa=(0,g.K2)((function(t){fa.parseError=t}),"setParseErrorHandler");var sa=[];var la=false;var ca=(0,g.K2)((async()=>{if(la){return}la=true;while(sa.length>0){const e=sa.shift();if(e){try{await e()}catch(t){g.Rm.error("Error executing queue",t)}}}la=false}),"executeQueue");var ha=(0,g.K2)((async(t,e)=>new Promise(((r,i)=>{const a=(0,g.K2)((()=>new Promise(((a,n)=>{Qi.parse(t,e).then((t=>{a(t);r(t)}),(t=>{g.Rm.error("Error parsing",t);fa.parseError?.(t);n(t);i(t)}))}))),"performCall");sa.push(a);ca().catch(i)}))),"parse");var da=(0,g.K2)(((t,e,r)=>new Promise(((i,a)=>{const n=(0,g.K2)((()=>new Promise(((n,o)=>{Qi.render(t,e,r).then((t=>{n(t);i(t)}),(t=>{g.Rm.error("Error parsing",t);fa.parseError?.(t);o(t);a(t)}))}))),"performCall");sa.push(n);ca().catch(a)}))),"render");var ua=(0,g.K2)((()=>Object.keys(p.mW).map((t=>({id:t})))),"getRegisteredDiagramsMetadata");var fa={startOnLoad:true,mermaidAPI:Qi,parse:ha,render:da,init:ia,run:ta,registerExternalDiagrams:aa,registerLayoutLoaders:o.sO,initialize:ra,parseError:void 0,contentLoaded:na,setParseErrorHandler:oa,detectType:p.Ch,registerIconPacks:u.pC,getRegisteredDiagramsMetadata:ua};var pa=fa},78474:function(t){!function(e,r){true?t.exports=r():0}(this,(function(){"use strict";var t=1e3,e=6e4,r=36e5,i="millisecond",a="second",n="minute",o="hour",s="day",l="week",c="month",h="quarter",d="year",u="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},y=function(t,e,r){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(r)+t},b={s:y,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),i=Math.floor(r/60),a=r%60;return(e<=0?"+":"-")+y(i,2,"0")+":"+y(a,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var i=12*(r.year()-e.year())+(r.month()-e.month()),a=e.clone().add(i,c),n=r-a<0,o=e.clone().add(i+(n?-1:1),c);return+(-(i+(r-a)/(n?a-o:o-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:l,d:s,D:u,h:o,m:n,s:a,ms:i,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},x="en",C={};C[x]=m;var v="$isDayjsObject",k=function(t){return t instanceof T||!(!t||!t[v])},w=function t(e,r,i){var a;if(!e)return x;if("string"==typeof e){var n=e.toLowerCase();C[n]&&(a=n),r&&(C[n]=r,a=n);var o=e.split("-");if(!a&&o.length>1)return t(o[0])}else{var s=e.name;C[s]=e,a=s}return!i&&a&&(x=a),a||!i&&x},S=function(t,e){if(k(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new T(r)},A=b;A.l=w,A.i=k,A.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function m(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[v]=!0}var y=m.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(A.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(p);if(i){var a=i[2]-1||0,n=(i[7]||"0").substring(0,3);return r?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,n)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,n)}}return new Date(e)}(t),this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return A},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(t,e){var r=S(t);return this.startOf(e)<=r&&r<=this.endOf(e)},y.isAfter=function(t,e){return S(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<S(t)},y.$g=function(t,e,r){return A.u(t)?this[e]:this.set(r,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var r=this,i=!!A.u(e)||e,h=A.p(t),f=function(t,e){var a=A.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return i?a:a.endOf(s)},p=function(t,e){return A.w(r.toDate()[t].apply(r.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},g=this.$W,m=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(h){case d:return i?f(1,0):f(31,11);case c:return i?f(1,m):f(0,m+1);case l:var x=this.$locale().weekStart||0,C=(g<x?g+7:g)-x;return f(i?y-C:y+(6-C),m);case s:case u:return p(b+"Hours",0);case o:return p(b+"Minutes",1);case n:return p(b+"Seconds",2);case a:return p(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var r,l=A.p(t),h="set"+(this.$u?"UTC":""),f=(r={},r[s]=h+"Date",r[u]=h+"Date",r[c]=h+"Month",r[d]=h+"FullYear",r[o]=h+"Hours",r[n]=h+"Minutes",r[a]=h+"Seconds",r[i]=h+"Milliseconds",r)[l],p=l===s?this.$D+(e-this.$W):e;if(l===c||l===d){var g=this.clone().set(u,1);g.$d[f](p),g.init(),this.$d=g.set(u,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[A.p(t)]()},y.add=function(i,h){var u,f=this;i=Number(i);var p=A.p(h),g=function(t){var e=S(f);return A.w(e.date(e.date()+Math.round(t*i)),f)};if(p===c)return this.set(c,this.$M+i);if(p===d)return this.set(d,this.$y+i);if(p===s)return g(1);if(p===l)return g(7);var m=(u={},u[n]=e,u[o]=r,u[a]=t,u)[p]||1,y=this.$d.getTime()+i*m;return A.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var i=t||"YYYY-MM-DDTHH:mm:ssZ",a=A.z(this),n=this.$H,o=this.$m,s=this.$M,l=r.weekdays,c=r.months,h=r.meridiem,d=function(t,r,a,n){return t&&(t[r]||t(e,i))||a[r].slice(0,n)},u=function(t){return A.s(n%12||12,t,"0")},p=h||function(t,e,r){var i=t<12?"AM":"PM";return r?i.toLowerCase():i};return i.replace(g,(function(t,i){return i||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return A.s(e.$y,4,"0");case"M":return s+1;case"MM":return A.s(s+1,2,"0");case"MMM":return d(r.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return e.$D;case"DD":return A.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(r.weekdaysMin,e.$W,l,2);case"ddd":return d(r.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(n);case"HH":return A.s(n,2,"0");case"h":return u(1);case"hh":return u(2);case"a":return p(n,o,!0);case"A":return p(n,o,!1);case"m":return String(o);case"mm":return A.s(o,2,"0");case"s":return String(e.$s);case"ss":return A.s(e.$s,2,"0");case"SSS":return A.s(e.$ms,3,"0");case"Z":return a}return null}(t)||a.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(i,u,f){var p,g=this,m=A.p(u),y=S(i),b=(y.utcOffset()-this.utcOffset())*e,x=this-y,C=function(){return A.m(g,y)};switch(m){case d:p=C()/12;break;case c:p=C();break;case h:p=C()/3;break;case l:p=(x-b)/6048e5;break;case s:p=(x-b)/864e5;break;case o:p=x/r;break;case n:p=x/e;break;case a:p=x/t;break;default:p=x}return f?p:A.a(p)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return C[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),i=w(t,e,!0);return i&&(r.$L=i),r},y.clone=function(){return A.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),B=T.prototype;return S.prototype=B,[["$ms",i],["$s",a],["$m",n],["$H",o],["$W",s],["$M",c],["$y",d],["$D",u]].forEach((function(t){B[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,T,S),t.$i=!0),S},S.locale=w,S.isDayjs=k,S.unix=function(t){return S(1e3*t)},S.en=C[x],S.Ls=C,S.p={},S}))},52274:(t,e,r)=>{"use strict";r.d(e,{A:()=>lt});function i(t,e,r){if(t&&t.length){const[i,a]=e,n=Math.PI/180*r,o=Math.cos(n),s=Math.sin(n);for(const e of t){const[t,r]=e;e[0]=(t-i)*o-(r-a)*s+i,e[1]=(t-i)*s+(r-a)*o+a}}}function a(t,e){return t[0]===e[0]&&t[1]===e[1]}function n(t,e,r,n=1){const o=r,s=Math.max(e,.1),l=t[0]&&t[0][0]&&"number"==typeof t[0][0]?[t]:t,c=[0,0];if(o)for(const a of l)i(a,c,o);const h=function(t,e,r){const i=[];for(const h of t){const t=[...h];a(t[0],t[t.length-1])||t.push([t[0][0],t[0][1]]),t.length>2&&i.push(t)}const n=[];e=Math.max(e,.1);const o=[];for(const a of i)for(let t=0;t<a.length-1;t++){const e=a[t],r=a[t+1];if(e[1]!==r[1]){const t=Math.min(e[1],r[1]);o.push({ymin:t,ymax:Math.max(e[1],r[1]),x:t===e[1]?e[0]:r[0],islope:(r[0]-e[0])/(r[1]-e[1])})}}if(o.sort(((t,e)=>t.ymin<e.ymin?-1:t.ymin>e.ymin?1:t.x<e.x?-1:t.x>e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax))),!o.length)return n;let s=[],l=o[0].ymin,c=0;for(;s.length||o.length;){if(o.length){let t=-1;for(let e=0;e<o.length&&!(o[e].ymin>l);e++)t=e;o.splice(0,t+1).forEach((t=>{s.push({s:l,edge:t})}))}if(s=s.filter((t=>!(t.edge.ymax<=l))),s.sort(((t,e)=>t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x))),(1!==r||c%e==0)&&s.length>1)for(let t=0;t<s.length;t+=2){const e=t+1;if(e>=s.length)break;const r=s[t].edge,i=s[e].edge;n.push([[Math.round(r.x),l],[Math.round(i.x),l]])}l+=r,s.forEach((t=>{t.edge.x=t.edge.x+r*t.edge.islope})),c++}return n}(l,s,n);if(o){for(const t of l)i(t,c,-o);!function(t,e,r){const a=[];t.forEach((t=>a.push(...t))),i(a,e,r)}(h,c,-o)}return h}function o(t,e){var r;const i=e.hachureAngle+90;let a=e.hachureGap;a<0&&(a=4*e.strokeWidth),a=Math.round(Math.max(a,.1));let o=1;return e.roughness>=1&&((null===(r=e.randomizer)||void 0===r?void 0:r.next())||Math.random())>.7&&(o=a),n(t,a,i,o||1)}class s{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const r=o(t,e);return{type:"fillSketch",ops:this.renderLines(r,e)}}renderLines(t,e){const r=[];for(const i of t)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],e));return r}}function l(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class c extends s{fillPolygons(t,e){let r=e.hachureGap;r<0&&(r=4*e.strokeWidth),r=Math.max(r,.1);const i=o(t,Object.assign({},e,{hachureGap:r})),a=Math.PI/180*e.hachureAngle,n=[],s=.5*r*Math.cos(a),c=.5*r*Math.sin(a);for(const[o,h]of i)l([o,h])&&n.push([[o[0]-s,o[1]+c],[...h]],[[o[0]+s,o[1]-c],[...h]]);return{type:"fillSketch",ops:this.renderLines(n,e)}}}class h extends s{fillPolygons(t,e){const r=this._fillPolygons(t,e),i=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),a=this._fillPolygons(t,i);return r.ops=r.ops.concat(a.ops),r}}class d{constructor(t){this.helper=t}fillPolygons(t,e){const r=o(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(r,e)}dotsOnLines(t,e){const r=[];let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.max(i,.1);let a=e.fillWeight;a<0&&(a=e.strokeWidth/2);const n=i/4;for(const o of t){const t=l(o),s=t/i,c=Math.ceil(s)-1,h=t-c*i,d=(o[0][0]+o[1][0])/2-i/4,u=Math.min(o[0][1],o[1][1]);for(let o=0;o<c;o++){const t=u+h+o*i,s=d-n+2*Math.random()*n,l=t-n+2*Math.random()*n,c=this.helper.ellipse(s,l,a,a,e);r.push(...c.ops)}}return{type:"fillSketch",ops:r}}}class u{constructor(t){this.helper=t}fillPolygons(t,e){const r=o(t,e);return{type:"fillSketch",ops:this.dashedLine(r,e)}}dashedLine(t,e){const r=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,i=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,a=[];return t.forEach((t=>{const n=l(t),o=Math.floor(n/(r+i)),s=(n+i-o*(r+i))/2;let c=t[0],h=t[1];c[0]>h[0]&&(c=t[1],h=t[0]);const d=Math.atan((h[1]-c[1])/(h[0]-c[0]));for(let l=0;l<o;l++){const t=l*(r+i),n=t+r,o=[c[0]+t*Math.cos(d)+s*Math.cos(d),c[1]+t*Math.sin(d)+s*Math.sin(d)],h=[c[0]+n*Math.cos(d)+s*Math.cos(d),c[1]+n*Math.sin(d)+s*Math.sin(d)];a.push(...this.helper.doubleLineOps(o[0],o[1],h[0],h[1],e))}})),a}}class f{constructor(t){this.helper=t}fillPolygons(t,e){const r=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,i=e.zigzagOffset<0?r:e.zigzagOffset,a=o(t,e=Object.assign({},e,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,e)}}zigzagLines(t,e,r){const i=[];return t.forEach((t=>{const a=l(t),n=Math.round(a/(2*e));let o=t[0],s=t[1];o[0]>s[0]&&(o=t[1],s=t[0]);const c=Math.atan((s[1]-o[1])/(s[0]-o[0]));for(let l=0;l<n;l++){const t=2*l*e,a=2*(l+1)*e,n=Math.sqrt(2*Math.pow(e,2)),s=[o[0]+t*Math.cos(c),o[1]+t*Math.sin(c)],h=[o[0]+a*Math.cos(c),o[1]+a*Math.sin(c)],d=[s[0]+n*Math.cos(c+Math.PI/4),s[1]+n*Math.sin(c+Math.PI/4)];i.push(...this.helper.doubleLineOps(s[0],s[1],d[0],d[1],r),...this.helper.doubleLineOps(d[0],d[1],h[0],h[1],r))}})),i}}const p={};class g{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const m=0,y=1,b=2,x={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function C(t,e){return t.type===e}function v(t){const e=[],r=function(t){const e=new Array;for(;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:m,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:y,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:b,text:""},e}(t);let i="BOD",a=0,n=r[a];for(;!C(n,b);){let o=0;const s=[];if("BOD"===i){if("M"!==n.text&&"m"!==n.text)return v("M0,0"+t);a++,o=x[n.text],i=n.text}else C(n,y)?o=x[i]:(a++,o=x[n.text],i=n.text);if(!(a+o<r.length))throw new Error("Path data ended short");for(let t=a;t<a+o;t++){const e=r[t];if(!C(e,y))throw new Error("Param not a number: "+i+","+e.text);s[s.length]=+e.text}if("number"!=typeof x[i])throw new Error("Bad segment: "+i);{const t={key:i,data:s};e.push(t),a+=o,n=r[a],"M"===i&&(i="L"),"m"===i&&(i="l")}}return e}function k(t){let e=0,r=0,i=0,a=0;const n=[];for(const{key:o,data:s}of t)switch(o){case"M":n.push({key:"M",data:[...s]}),[e,r]=s,[i,a]=s;break;case"m":e+=s[0],r+=s[1],n.push({key:"M",data:[e,r]}),i=e,a=r;break;case"L":n.push({key:"L",data:[...s]}),[e,r]=s;break;case"l":e+=s[0],r+=s[1],n.push({key:"L",data:[e,r]});break;case"C":n.push({key:"C",data:[...s]}),e=s[4],r=s[5];break;case"c":{const t=s.map(((t,i)=>i%2?t+r:t+e));n.push({key:"C",data:t}),e=t[4],r=t[5];break}case"Q":n.push({key:"Q",data:[...s]}),e=s[2],r=s[3];break;case"q":{const t=s.map(((t,i)=>i%2?t+r:t+e));n.push({key:"Q",data:t}),e=t[2],r=t[3];break}case"A":n.push({key:"A",data:[...s]}),e=s[5],r=s[6];break;case"a":e+=s[5],r+=s[6],n.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],e,r]});break;case"H":n.push({key:"H",data:[...s]}),e=s[0];break;case"h":e+=s[0],n.push({key:"H",data:[e]});break;case"V":n.push({key:"V",data:[...s]}),r=s[0];break;case"v":r+=s[0],n.push({key:"V",data:[r]});break;case"S":n.push({key:"S",data:[...s]}),e=s[2],r=s[3];break;case"s":{const t=s.map(((t,i)=>i%2?t+r:t+e));n.push({key:"S",data:t}),e=t[2],r=t[3];break}case"T":n.push({key:"T",data:[...s]}),e=s[0],r=s[1];break;case"t":e+=s[0],r+=s[1],n.push({key:"T",data:[e,r]});break;case"Z":case"z":n.push({key:"Z",data:[]}),e=i,r=a}return n}function w(t){const e=[];let r="",i=0,a=0,n=0,o=0,s=0,l=0;for(const{key:c,data:h}of t){switch(c){case"M":e.push({key:"M",data:[...h]}),[i,a]=h,[n,o]=h;break;case"C":e.push({key:"C",data:[...h]}),i=h[4],a=h[5],s=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[i,a]=h;break;case"H":i=h[0],e.push({key:"L",data:[i,a]});break;case"V":a=h[0],e.push({key:"L",data:[i,a]});break;case"S":{let t=0,n=0;"C"===r||"S"===r?(t=i+(i-s),n=a+(a-l)):(t=i,n=a),e.push({key:"C",data:[t,n,...h]}),s=h[0],l=h[1],i=h[2],a=h[3];break}case"T":{const[t,n]=h;let o=0,c=0;"Q"===r||"T"===r?(o=i+(i-s),c=a+(a-l)):(o=i,c=a);const d=i+2*(o-i)/3,u=a+2*(c-a)/3,f=t+2*(o-t)/3,p=n+2*(c-n)/3;e.push({key:"C",data:[d,u,f,p,t,n]}),s=o,l=c,i=t,a=n;break}case"Q":{const[t,r,n,o]=h,c=i+2*(t-i)/3,d=a+2*(r-a)/3,u=n+2*(t-n)/3,f=o+2*(r-o)/3;e.push({key:"C",data:[c,d,u,f,n,o]}),s=t,l=r,i=n,a=o;break}case"A":{const t=Math.abs(h[0]),r=Math.abs(h[1]),n=h[2],o=h[3],s=h[4],l=h[5],c=h[6];if(0===t||0===r)e.push({key:"C",data:[i,a,l,c,l,c]}),i=l,a=c;else if(i!==l||a!==c){A(i,a,l,c,t,r,n,o,s).forEach((function(t){e.push({key:"C",data:t})})),i=l,a=c}break}case"Z":e.push({key:"Z",data:[]}),i=n,a=o}r=c}return e}function S(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function A(t,e,r,i,a,n,o,s,l,c){const h=(d=o,Math.PI*d/180);var d;let u=[],f=0,p=0,g=0,m=0;if(c)[f,p,g,m]=c;else{[t,e]=S(t,e,-h),[r,i]=S(r,i,-h);const o=(t-r)/2,c=(e-i)/2;let d=o*o/(a*a)+c*c/(n*n);d>1&&(d=Math.sqrt(d),a*=d,n*=d);const u=a*a,y=n*n,b=u*y-u*c*c-y*o*o,x=u*c*c+y*o*o,C=(s===l?-1:1)*Math.sqrt(Math.abs(b/x));g=C*a*c/n+(t+r)/2,m=C*-n*o/a+(e+i)/2,f=Math.asin(parseFloat(((e-m)/n).toFixed(9))),p=Math.asin(parseFloat(((i-m)/n).toFixed(9))),t<g&&(f=Math.PI-f),r<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),l&&f>p&&(f-=2*Math.PI),!l&&p>f&&(p-=2*Math.PI)}let y=p-f;if(Math.abs(y)>120*Math.PI/180){const t=p,e=r,s=i;p=l&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,u=A(r=g+a*Math.cos(p),i=m+n*Math.sin(p),e,s,a,n,o,0,l,[p,t,g,m])}y=p-f;const b=Math.cos(f),x=Math.sin(f),C=Math.cos(p),v=Math.sin(p),k=Math.tan(y/4),w=4/3*a*k,T=4/3*n*k,B=[t,e],L=[t+w*x,e-T*b],M=[r+w*v,i-T*C],F=[r,i];if(L[0]=2*B[0]-L[0],L[1]=2*B[1]-L[1],c)return[L,M,F].concat(u);{u=[L,M,F].concat(u);const t=[];for(let e=0;e<u.length;e+=3){const r=S(u[e][0],u[e][1],h),i=S(u[e+1][0],u[e+1][1],h),a=S(u[e+2][0],u[e+2][1],h);t.push([r[0],r[1],i[0],i[1],a[0],a[1]])}return t}}const T={randOffset:function(t,e){return q(t,e)},randOffsetWithRange:function(t,e,r){return P(t,e,r)},ellipse:function(t,e,r,i,a){const n=_(r,i,a);return $(t,e,a,n).opset},doubleLineOps:function(t,e,r,i,a){return z(t,e,r,i,a,!0)}};function B(t,e,r,i,a){return{type:"path",ops:z(t,e,r,i,a)}}function L(t,e,r){const i=(t||[]).length;if(i>2){const a=[];for(let e=0;e<i-1;e++)a.push(...z(t[e][0],t[e][1],t[e+1][0],t[e+1][1],r));return e&&a.push(...z(t[i-1][0],t[i-1][1],t[0][0],t[0][1],r)),{type:"path",ops:a}}return 2===i?B(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function M(t,e,r,i,a){return function(t,e){return L(t,!0,e)}([[t,e],[t+r,e],[t+r,e+i],[t,e+i]],a)}function F(t,e){if(t.length){const r="number"==typeof t[0][0]?[t]:t,i=W(r[0],1*(1+.2*e.roughness),e),a=e.disableMultiStroke?[]:W(r[0],1.5*(1+.22*e.roughness),I(e));for(let t=1;t<r.length;t++){const n=r[t];if(n.length){const t=W(n,1*(1+.2*e.roughness),e),r=e.disableMultiStroke?[]:W(n,1.5*(1+.22*e.roughness),I(e));for(const e of t)"move"!==e.op&&i.push(e);for(const e of r)"move"!==e.op&&a.push(e)}}return{type:"path",ops:i.concat(a)}}return{type:"path",ops:[]}}function _(t,e,r){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),a=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),n=2*Math.PI/a;let o=Math.abs(t/2),s=Math.abs(e/2);const l=1-r.curveFitting;return o+=q(o*l,r),s+=q(s*l,r),{increment:n,rx:o,ry:s}}function $(t,e,r,i){const[a,n]=H(i.increment,t,e,i.rx,i.ry,1,i.increment*P(.1,P(.4,1,r),r),r);let o=j(a,null,r);if(!r.disableMultiStroke&&0!==r.roughness){const[a]=H(i.increment,t,e,i.rx,i.ry,1.5,0,r),n=j(a,null,r);o=o.concat(n)}return{estimatedPoints:n,opset:{type:"path",ops:o}}}function E(t,e,r,i,a,n,o,s,l){const c=t,h=e;let d=Math.abs(r/2),u=Math.abs(i/2);d+=q(.01*d,l),u+=q(.01*u,l);let f=a,p=n;for(;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);const g=2*Math.PI/l.curveStepCount,m=Math.min(g/2,(p-f)/2),y=G(m,c,h,d,u,f,p,1,l);if(!l.disableMultiStroke){const t=G(m,c,h,d,u,f,p,1.5,l);y.push(...t)}return o&&(s?y.push(...z(c,h,c+d*Math.cos(f),h+u*Math.sin(f),l),...z(c,h,c+d*Math.cos(p),h+u*Math.sin(p),l)):y.push({op:"lineTo",data:[c,h]},{op:"lineTo",data:[c+d*Math.cos(f),h+u*Math.sin(f)]})),{type:"path",ops:y}}function O(t,e){const r=w(k(v(t))),i=[];let a=[0,0],n=[0,0];for(const{key:o,data:s}of r)switch(o){case"M":n=[s[0],s[1]],a=[s[0],s[1]];break;case"L":i.push(...z(n[0],n[1],s[0],s[1],e)),n=[s[0],s[1]];break;case"C":{const[t,r,a,o,l,c]=s;i.push(...U(t,r,a,o,l,c,n,e)),n=[l,c];break}case"Z":i.push(...z(n[0],n[1],a[0],a[1],e)),n=[a[0],a[1]]}return{type:"path",ops:i}}function D(t,e){const r=[];for(const i of t)if(i.length){const t=e.maxRandomnessOffset||0,a=i.length;if(a>2){r.push({op:"move",data:[i[0][0]+q(t,e),i[0][1]+q(t,e)]});for(let n=1;n<a;n++)r.push({op:"lineTo",data:[i[n][0]+q(t,e),i[n][1]+q(t,e)]})}}return{type:"fillPath",ops:r}}function K(t,e){return function(t,e){let r=t.fillStyle||"hachure";if(!p[r])switch(r){case"zigzag":p[r]||(p[r]=new c(e));break;case"cross-hatch":p[r]||(p[r]=new h(e));break;case"dots":p[r]||(p[r]=new d(e));break;case"dashed":p[r]||(p[r]=new u(e));break;case"zigzag-line":p[r]||(p[r]=new f(e));break;default:r="hachure",p[r]||(p[r]=new s(e))}return p[r]}(e,T).fillPolygons(t,e)}function I(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function R(t){return t.randomizer||(t.randomizer=new g(t.seed||0)),t.randomizer.next()}function P(t,e,r,i=1){return r.roughness*i*(R(r)*(e-t)+t)}function q(t,e,r=1){return P(-t,t,e,r)}function z(t,e,r,i,a,n=!1){const o=n?a.disableMultiStrokeFill:a.disableMultiStroke,s=N(t,e,r,i,a,!0,!1);if(o)return s;const l=N(t,e,r,i,a,!0,!0);return s.concat(l)}function N(t,e,r,i,a,n,o){const s=Math.pow(t-r,2)+Math.pow(e-i,2),l=Math.sqrt(s);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=a.maxRandomnessOffset||0;h*h*100>s&&(h=l/10);const d=h/2,u=.2+.2*R(a);let f=a.bowing*a.maxRandomnessOffset*(i-e)/200,p=a.bowing*a.maxRandomnessOffset*(t-r)/200;f=q(f,a,c),p=q(p,a,c);const g=[],m=()=>q(d,a,c),y=()=>q(h,a,c),b=a.preserveVertices;return n&&(o?g.push({op:"move",data:[t+(b?0:m()),e+(b?0:m())]}):g.push({op:"move",data:[t+(b?0:q(h,a,c)),e+(b?0:q(h,a,c))]})),o?g.push({op:"bcurveTo",data:[f+t+(r-t)*u+m(),p+e+(i-e)*u+m(),f+t+2*(r-t)*u+m(),p+e+2*(i-e)*u+m(),r+(b?0:m()),i+(b?0:m())]}):g.push({op:"bcurveTo",data:[f+t+(r-t)*u+y(),p+e+(i-e)*u+y(),f+t+2*(r-t)*u+y(),p+e+2*(i-e)*u+y(),r+(b?0:y()),i+(b?0:y())]}),g}function W(t,e,r){if(!t.length)return[];const i=[];i.push([t[0][0]+q(e,r),t[0][1]+q(e,r)]),i.push([t[0][0]+q(e,r),t[0][1]+q(e,r)]);for(let a=1;a<t.length;a++)i.push([t[a][0]+q(e,r),t[a][1]+q(e,r)]),a===t.length-1&&i.push([t[a][0]+q(e,r),t[a][1]+q(e,r)]);return j(i,null,r)}function j(t,e,r){const i=t.length,a=[];if(i>3){const n=[],o=1-r.curveTightness;a.push({op:"move",data:[t[1][0],t[1][1]]});for(let e=1;e+2<i;e++){const r=t[e];n[0]=[r[0],r[1]],n[1]=[r[0]+(o*t[e+1][0]-o*t[e-1][0])/6,r[1]+(o*t[e+1][1]-o*t[e-1][1])/6],n[2]=[t[e+1][0]+(o*t[e][0]-o*t[e+2][0])/6,t[e+1][1]+(o*t[e][1]-o*t[e+2][1])/6],n[3]=[t[e+1][0],t[e+1][1]],a.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]]})}if(e&&2===e.length){const t=r.maxRandomnessOffset;a.push({op:"lineTo",data:[e[0]+q(t,r),e[1]+q(t,r)]})}}else 3===i?(a.push({op:"move",data:[t[1][0],t[1][1]]}),a.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===i&&a.push(...N(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return a}function H(t,e,r,i,a,n,o,s){const l=[],c=[];if(0===s.roughness){t/=4,c.push([e+i*Math.cos(-t),r+a*Math.sin(-t)]);for(let n=0;n<=2*Math.PI;n+=t){const t=[e+i*Math.cos(n),r+a*Math.sin(n)];l.push(t),c.push(t)}c.push([e+i*Math.cos(0),r+a*Math.sin(0)]),c.push([e+i*Math.cos(t),r+a*Math.sin(t)])}else{const h=q(.5,s)-Math.PI/2;c.push([q(n,s)+e+.9*i*Math.cos(h-t),q(n,s)+r+.9*a*Math.sin(h-t)]);const d=2*Math.PI+h-.01;for(let o=h;o<d;o+=t){const t=[q(n,s)+e+i*Math.cos(o),q(n,s)+r+a*Math.sin(o)];l.push(t),c.push(t)}c.push([q(n,s)+e+i*Math.cos(h+2*Math.PI+.5*o),q(n,s)+r+a*Math.sin(h+2*Math.PI+.5*o)]),c.push([q(n,s)+e+.98*i*Math.cos(h+o),q(n,s)+r+.98*a*Math.sin(h+o)]),c.push([q(n,s)+e+.9*i*Math.cos(h+.5*o),q(n,s)+r+.9*a*Math.sin(h+.5*o)])}return[c,l]}function G(t,e,r,i,a,n,o,s,l){const c=n+q(.1,l),h=[];h.push([q(s,l)+e+.9*i*Math.cos(c-t),q(s,l)+r+.9*a*Math.sin(c-t)]);for(let d=c;d<=o;d+=t)h.push([q(s,l)+e+i*Math.cos(d),q(s,l)+r+a*Math.sin(d)]);return h.push([e+i*Math.cos(o),r+a*Math.sin(o)]),h.push([e+i*Math.cos(o),r+a*Math.sin(o)]),j(h,null,l)}function U(t,e,r,i,a,n,o,s){const l=[],c=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3];let h=[0,0];const d=s.disableMultiStroke?1:2,u=s.preserveVertices;for(let f=0;f<d;f++)0===f?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(u?0:q(c[0],s)),o[1]+(u?0:q(c[0],s))]}),h=u?[a,n]:[a+q(c[f],s),n+q(c[f],s)],l.push({op:"bcurveTo",data:[t+q(c[f],s),e+q(c[f],s),r+q(c[f],s),i+q(c[f],s),h[0],h[1]]});return l}function Y(t){return[...t]}function X(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const i=[];if(3===r)i.push(Y(t[0]),Y(t[1]),Y(t[2]),Y(t[2]));else{const r=[];r.push(t[0],t[0]);for(let e=1;e<t.length;e++)r.push(t[e]),e===t.length-1&&r.push(t[e]);const a=[],n=1-e;i.push(Y(r[0]));for(let t=1;t+2<r.length;t++){const e=r[t];a[0]=[e[0],e[1]],a[1]=[e[0]+(n*r[t+1][0]-n*r[t-1][0])/6,e[1]+(n*r[t+1][1]-n*r[t-1][1])/6],a[2]=[r[t+1][0]+(n*r[t][0]-n*r[t+2][0])/6,r[t+1][1]+(n*r[t][1]-n*r[t+2][1])/6],a[3]=[r[t+1][0],r[t+1][1]],i.push(a[1],a[2],a[3])}}return i}function V(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Z(t,e,r){const i=V(e,r);if(0===i)return V(t,e);let a=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/i;return a=Math.max(0,Math.min(1,a)),V(t,Q(e,r,a))}function Q(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function J(t,e,r,i){const a=i||[];if(function(t,e){const r=t[e+0],i=t[e+1],a=t[e+2],n=t[e+3];let o=3*i[0]-2*r[0]-n[0];o*=o;let s=3*i[1]-2*r[1]-n[1];s*=s;let l=3*a[0]-2*n[0]-r[0];l*=l;let c=3*a[1]-2*n[1]-r[1];return c*=c,o<l&&(o=l),s<c&&(s=c),o+s}(t,e)<r){const r=t[e+0];if(a.length){(n=a[a.length-1],o=r,Math.sqrt(V(n,o)))>1&&a.push(r)}else a.push(r);a.push(t[e+3])}else{const i=.5,n=t[e+0],o=t[e+1],s=t[e+2],l=t[e+3],c=Q(n,o,i),h=Q(o,s,i),d=Q(s,l,i),u=Q(c,h,i),f=Q(h,d,i),p=Q(u,f,i);J([n,c,u,p],0,r,a),J([p,f,d,l],0,r,a)}var n,o;return a}function tt(t,e){return et(t,0,t.length,e)}function et(t,e,r,i,a){const n=a||[],o=t[e],s=t[r-1];let l=0,c=1;for(let h=e+1;h<r-1;++h){const e=Z(t[h],o,s);e>l&&(l=e,c=h)}return Math.sqrt(l)>i?(et(t,e,c+1,i,n),et(t,c,r,i,n)):(n.length||n.push(o),n.push(s)),n}function rt(t,e=.15,r){const i=[],a=(t.length-1)/3;for(let n=0;n<a;n++){J(t,3*n,e,i)}return r&&r>0?et(i,0,i.length,r):i}const it="none";class at{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,r){return{shape:t,sets:e||[],options:r||this.defaultOptions}}line(t,e,r,i,a){const n=this._o(a);return this._d("line",[B(t,e,r,i,n)],n)}rectangle(t,e,r,i,a){const n=this._o(a),o=[],s=M(t,e,r,i,n);if(n.fill){const a=[[t,e],[t+r,e],[t+r,e+i],[t,e+i]];"solid"===n.fillStyle?o.push(D([a],n)):o.push(K([a],n))}return n.stroke!==it&&o.push(s),this._d("rectangle",o,n)}ellipse(t,e,r,i,a){const n=this._o(a),o=[],s=_(r,i,n),l=$(t,e,n,s);if(n.fill)if("solid"===n.fillStyle){const r=$(t,e,n,s).opset;r.type="fillPath",o.push(r)}else o.push(K([l.estimatedPoints],n));return n.stroke!==it&&o.push(l.opset),this._d("ellipse",o,n)}circle(t,e,r,i){const a=this.ellipse(t,e,r,r,i);return a.shape="circle",a}linearPath(t,e){const r=this._o(e);return this._d("linearPath",[L(t,!1,r)],r)}arc(t,e,r,i,a,n,o=!1,s){const l=this._o(s),c=[],h=E(t,e,r,i,a,n,o,!0,l);if(o&&l.fill)if("solid"===l.fillStyle){const o=Object.assign({},l);o.disableMultiStroke=!0;const s=E(t,e,r,i,a,n,!0,!1,o);s.type="fillPath",c.push(s)}else c.push(function(t,e,r,i,a,n,o){const s=t,l=e;let c=Math.abs(r/2),h=Math.abs(i/2);c+=q(.01*c,o),h+=q(.01*h,o);let d=a,u=n;for(;d<0;)d+=2*Math.PI,u+=2*Math.PI;u-d>2*Math.PI&&(d=0,u=2*Math.PI);const f=(u-d)/o.curveStepCount,p=[];for(let g=d;g<=u;g+=f)p.push([s+c*Math.cos(g),l+h*Math.sin(g)]);return p.push([s+c*Math.cos(u),l+h*Math.sin(u)]),p.push([s,l]),K([p],o)}(t,e,r,i,a,n,l));return l.stroke!==it&&c.push(h),this._d("arc",c,l)}curve(t,e){const r=this._o(e),i=[],a=F(t,r);if(r.fill&&r.fill!==it)if("solid"===r.fillStyle){const e=F(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(e.ops)})}else{const e=[],a=t;if(a.length){const t="number"==typeof a[0][0]?[a]:a;for(const i of t)i.length<3?e.push(...i):3===i.length?e.push(...rt(X([i[0],i[0],i[1],i[2]]),10,(1+r.roughness)/2)):e.push(...rt(X(i),10,(1+r.roughness)/2))}e.length&&i.push(K([e],r))}return r.stroke!==it&&i.push(a),this._d("curve",i,r)}polygon(t,e){const r=this._o(e),i=[],a=L(t,!0,r);return r.fill&&("solid"===r.fillStyle?i.push(D([t],r)):i.push(K([t],r))),r.stroke!==it&&i.push(a),this._d("polygon",i,r)}path(t,e){const r=this._o(e),i=[];if(!t)return this._d("path",i,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=r.fill&&"transparent"!==r.fill&&r.fill!==it,n=r.stroke!==it,o=!!(r.simplification&&r.simplification<1),s=function(t,e,r){const i=w(k(v(t))),a=[];let n=[],o=[0,0],s=[];const l=()=>{s.length>=4&&n.push(...rt(s,e)),s=[]},c=()=>{l(),n.length&&(a.push(n),n=[])};for(const{key:d,data:u}of i)switch(d){case"M":c(),o=[u[0],u[1]],n.push(o);break;case"L":l(),n.push([u[0],u[1]]);break;case"C":if(!s.length){const t=n.length?n[n.length-1]:o;s.push([t[0],t[1]])}s.push([u[0],u[1]]),s.push([u[2],u[3]]),s.push([u[4],u[5]]);break;case"Z":l(),n.push([o[0],o[1]])}if(c(),!r)return a;const h=[];for(const d of a){const t=tt(d,r);t.length&&h.push(t)}return h}(t,1,o?4-4*(r.simplification||1):(1+r.roughness)/2),l=O(t,r);if(a)if("solid"===r.fillStyle)if(1===s.length){const e=O(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(e.ops)})}else i.push(D(s,r));else i.push(K(s,r));return n&&(o?s.forEach((t=>{i.push(L(t,!1,r))})):i.push(l)),this._d("path",i,r)}opsToPath(t,e){let r="";for(const i of t.ops){const t="number"==typeof e&&e>=0?i.data.map((t=>+t.toFixed(e))):i.data;switch(i.op){case"move":r+=`M${t[0]} ${t[1]} `;break;case"bcurveTo":r+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case"lineTo":r+=`L${t[0]} ${t[1]} `}}return r.trim()}toPaths(t){const e=t.sets||[],r=t.options||this.defaultOptions,i=[];for(const a of e){let t=null;switch(a.type){case"path":t={d:this.opsToPath(a),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:it};break;case"fillPath":t={d:this.opsToPath(a),stroke:it,strokeWidth:0,fill:r.fill||it};break;case"fillSketch":t=this.fillSketch(a,r)}t&&i.push(t)}return i}fillSketch(t,e){let r=e.fillWeight;return r<0&&(r=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||it,strokeWidth:r,fill:it}}_mergedShape(t){return t.filter(((t,e)=>0===e||"move"!==t.op))}}class nt{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new at(e)}draw(t){const e=t.sets||[],r=t.options||this.getDefaultOptions(),i=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(const n of e)switch(n.type){case"path":i.save(),i.strokeStyle="none"===r.stroke?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,n,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const e="curve"===t.shape||"polygon"===t.shape||"path"===t.shape?"evenodd":"nonzero";this._drawToContext(i,n,a,e),i.restore();break}case"fillSketch":this.fillSketch(i,n,r)}}fillSketch(t,e,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=i,this._drawToContext(t,e,r.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,r,i="nonzero"){t.beginPath();for(const a of e.ops){const e="number"==typeof r&&r>=0?a.data.map((t=>+t.toFixed(r))):a.data;switch(a.op){case"move":t.moveTo(e[0],e[1]);break;case"bcurveTo":t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case"lineTo":t.lineTo(e[0],e[1])}}"fillPath"===e.type?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,r,i,a){const n=this.gen.line(t,e,r,i,a);return this.draw(n),n}rectangle(t,e,r,i,a){const n=this.gen.rectangle(t,e,r,i,a);return this.draw(n),n}ellipse(t,e,r,i,a){const n=this.gen.ellipse(t,e,r,i,a);return this.draw(n),n}circle(t,e,r,i){const a=this.gen.circle(t,e,r,i);return this.draw(a),a}linearPath(t,e){const r=this.gen.linearPath(t,e);return this.draw(r),r}polygon(t,e){const r=this.gen.polygon(t,e);return this.draw(r),r}arc(t,e,r,i,a,n,o=!1,s){const l=this.gen.arc(t,e,r,i,a,n,o,s);return this.draw(l),l}curve(t,e){const r=this.gen.curve(t,e);return this.draw(r),r}path(t,e){const r=this.gen.path(t,e);return this.draw(r),r}}const ot="http://www.w3.org/2000/svg";class st{constructor(t,e){this.svg=t,this.gen=new at(e)}draw(t){const e=t.sets||[],r=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(ot,"g"),n=t.options.fixedDecimalPlaceDigits;for(const o of e){let e=null;switch(o.type){case"path":e=i.createElementNS(ot,"path"),e.setAttribute("d",this.opsToPath(o,n)),e.setAttribute("stroke",r.stroke),e.setAttribute("stroke-width",r.strokeWidth+""),e.setAttribute("fill","none"),r.strokeLineDash&&e.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&e.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":e=i.createElementNS(ot,"path"),e.setAttribute("d",this.opsToPath(o,n)),e.setAttribute("stroke","none"),e.setAttribute("stroke-width","0"),e.setAttribute("fill",r.fill||""),"curve"!==t.shape&&"polygon"!==t.shape||e.setAttribute("fill-rule","evenodd");break;case"fillSketch":e=this.fillSketch(i,o,r)}e&&a.appendChild(e)}return a}fillSketch(t,e,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const a=t.createElementNS(ot,"path");return a.setAttribute("d",this.opsToPath(e,r.fixedDecimalPlaceDigits)),a.setAttribute("stroke",r.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),r.fillLineDash&&a.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,r,i,a){const n=this.gen.line(t,e,r,i,a);return this.draw(n)}rectangle(t,e,r,i,a){const n=this.gen.rectangle(t,e,r,i,a);return this.draw(n)}ellipse(t,e,r,i,a){const n=this.gen.ellipse(t,e,r,i,a);return this.draw(n)}circle(t,e,r,i){const a=this.gen.circle(t,e,r,i);return this.draw(a)}linearPath(t,e){const r=this.gen.linearPath(t,e);return this.draw(r)}polygon(t,e){const r=this.gen.polygon(t,e);return this.draw(r)}arc(t,e,r,i,a,n,o=!1,s){const l=this.gen.arc(t,e,r,i,a,n,o,s);return this.draw(l)}curve(t,e){const r=this.gen.curve(t,e);return this.draw(r)}path(t,e){const r=this.gen.path(t,e);return this.draw(r)}}var lt={canvas:(t,e)=>new nt(t,e),svg:(t,e)=>new st(t,e),generator:t=>new at(t),newSeed:()=>at.newSeed()}},60513:(t,e,r)=>{"use strict";r.d(e,{T:()=>i});function i(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}var i=Array.from(typeof t==="string"?[t]:t);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var a=i.reduce((function(t,e){var r=e.match(/\n([\t ]+|(?!\s).)/g);if(r){return t.concat(r.map((function(t){var e,r;return(r=(e=t.match(/[\t ]/g))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0})))}return t}),[]);if(a.length){var n=new RegExp("\n[\t ]{"+Math.min.apply(Math,a)+"}","g");i=i.map((function(t){return t.replace(n,"\n")}))}i[0]=i[0].replace(/^\r?\n/,"");var o=i[0];e.forEach((function(t,e){var r=o.match(/(?:^|\n)( *)$/);var a=r?r[1]:"";var n=t;if(typeof t==="string"&&t.includes("\n")){n=String(t).split("\n").map((function(t,e){return e===0?t:""+a+t})).join("\n")}o+=n+i[e+1]}));return o}var a=null&&i}}]);